var tE=Object.defineProperty;var iy=l=>{throw TypeError(l)};var nE=(l,e,t)=>e in l?tE(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var te=(l,e,t)=>nE(l,typeof e!="symbol"?e+"":e,t),og=(l,e,t)=>e.has(l)||iy("Cannot "+t);var I=(l,e,t)=>(og(l,e,"read from private field"),t?t.call(l):e.get(l)),xe=(l,e,t)=>e.has(l)?iy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(l):e.set(l,t),z=(l,e,t,a)=>(og(l,e,"write to private field"),a?a.call(l,t):e.set(l,t),t),Te=(l,e,t)=>(og(l,e,"access private method"),t);var _f=(l,e,t,a)=>({set _(u){z(l,e,u,t)},get _(){return I(l,e,a)}});function rE(l,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in l)){const x=Object.getOwnPropertyDescriptor(a,u);x&&Object.defineProperty(l,u,x.get?x:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const p of x.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function t(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function a(u){if(u.ep)return;u.ep=!0;const x=t(u);fetch(u.href,x)}})();var Z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z8(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var cg={exports:{}},Lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function iE(){if(sy)return Lf;sy=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,u,x){var p=null;if(x!==void 0&&(p=""+x),u.key!==void 0&&(p=""+u.key),"key"in u){x={};for(var E in u)E!=="key"&&(x[E]=u[E])}else x=u;return u=x.ref,{$$typeof:l,type:a,key:p,ref:u!==void 0?u:null,props:x}}return Lf.Fragment=e,Lf.jsx=t,Lf.jsxs=t,Lf}var ay;function sE(){return ay||(ay=1,cg.exports=iE()),cg.exports}var U=sE(),ug={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function aE(){if(ly)return dt;ly=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),p=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.iterator;function D(X){return X===null||typeof X!="object"?null:(X=N&&X[N]||X["@@iterator"],typeof X=="function"?X:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function j(X,be,Ne){this.props=X,this.context=be,this.refs=k,this.updater=Ne||L}j.prototype.isReactComponent={},j.prototype.setState=function(X,be){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,be,"setState")},j.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function ee(){}ee.prototype=j.prototype;function re(X,be,Ne){this.props=X,this.context=be,this.refs=k,this.updater=Ne||L}var Z=re.prototype=new ee;Z.constructor=re,P(Z,j.prototype),Z.isPureReactComponent=!0;var ie=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function $(X,be,Ne,_e,ke,ct){return Ne=ct.ref,{$$typeof:l,type:X,key:be,ref:Ne!==void 0?Ne:null,props:ct}}function ue(X,be){return $(X.type,be,void 0,void 0,void 0,X.props)}function ce(X){return typeof X=="object"&&X!==null&&X.$$typeof===l}function Fe(X){var be={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Ne){return be[Ne]})}var Le=/\/+/g;function Oe(X,be){return typeof X=="object"&&X!==null&&X.key!=null?Fe(""+X.key):be.toString(36)}function Ge(){}function De(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Ge,Ge):(X.status="pending",X.then(function(be){X.status==="pending"&&(X.status="fulfilled",X.value=be)},function(be){X.status==="pending"&&(X.status="rejected",X.reason=be)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function H(X,be,Ne,_e,ke){var ct=typeof X;(ct==="undefined"||ct==="boolean")&&(X=null);var ve=!1;if(X===null)ve=!0;else switch(ct){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(X.$$typeof){case l:case e:ve=!0;break;case T:return ve=X._init,H(ve(X._payload),be,Ne,_e,ke)}}if(ve)return ke=ke(X),ve=_e===""?"."+Oe(X,0):_e,ie(ke)?(Ne="",ve!=null&&(Ne=ve.replace(Le,"$&/")+"/"),H(ke,be,Ne,"",function(An){return An})):ke!=null&&(ce(ke)&&(ke=ue(ke,Ne+(ke.key==null||X&&X.key===ke.key?"":(""+ke.key).replace(Le,"$&/")+"/")+ve)),be.push(ke)),1;ve=0;var sn=_e===""?".":_e+":";if(ie(X))for(var it=0;it<X.length;it++)_e=X[it],ct=sn+Oe(_e,it),ve+=H(_e,be,Ne,ct,ke);else if(it=D(X),typeof it=="function")for(X=it.call(X),it=0;!(_e=X.next()).done;)_e=_e.value,ct=sn+Oe(_e,it++),ve+=H(_e,be,Ne,ct,ke);else if(ct==="object"){if(typeof X.then=="function")return H(De(X),be,Ne,_e,ke);throw be=String(X),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return ve}function V(X,be,Ne){if(X==null)return X;var _e=[],ke=0;return H(X,_e,"","",function(ct){return be.call(Ne,ct,ke++)}),_e}function J(X){if(X._status===-1){var be=X._result;be=be(),be.then(function(Ne){(X._status===0||X._status===-1)&&(X._status=1,X._result=Ne)},function(Ne){(X._status===0||X._status===-1)&&(X._status=2,X._result=Ne)}),X._status===-1&&(X._status=0,X._result=be)}if(X._status===1)return X._result.default;throw X._result}var Ae=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function He(){}return dt.Children={map:V,forEach:function(X,be,Ne){V(X,function(){be.apply(this,arguments)},Ne)},count:function(X){var be=0;return V(X,function(){be++}),be},toArray:function(X){return V(X,function(be){return be})||[]},only:function(X){if(!ce(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},dt.Component=j,dt.Fragment=t,dt.Profiler=u,dt.PureComponent=re,dt.StrictMode=a,dt.Suspense=w,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,dt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return fe.H.useMemoCache(X)}},dt.cache=function(X){return function(){return X.apply(null,arguments)}},dt.cloneElement=function(X,be,Ne){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var _e=P({},X.props),ke=X.key,ct=void 0;if(be!=null)for(ve in be.ref!==void 0&&(ct=void 0),be.key!==void 0&&(ke=""+be.key),be)!ae.call(be,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&be.ref===void 0||(_e[ve]=be[ve]);var ve=arguments.length-2;if(ve===1)_e.children=Ne;else if(1<ve){for(var sn=Array(ve),it=0;it<ve;it++)sn[it]=arguments[it+2];_e.children=sn}return $(X.type,ke,void 0,void 0,ct,_e)},dt.createContext=function(X){return X={$$typeof:p,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:x,_context:X},X},dt.createElement=function(X,be,Ne){var _e,ke={},ct=null;if(be!=null)for(_e in be.key!==void 0&&(ct=""+be.key),be)ae.call(be,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ke[_e]=be[_e]);var ve=arguments.length-2;if(ve===1)ke.children=Ne;else if(1<ve){for(var sn=Array(ve),it=0;it<ve;it++)sn[it]=arguments[it+2];ke.children=sn}if(X&&X.defaultProps)for(_e in ve=X.defaultProps,ve)ke[_e]===void 0&&(ke[_e]=ve[_e]);return $(X,ct,void 0,void 0,null,ke)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(X){return{$$typeof:E,render:X}},dt.isValidElement=ce,dt.lazy=function(X){return{$$typeof:T,_payload:{_status:-1,_result:X},_init:J}},dt.memo=function(X,be){return{$$typeof:y,type:X,compare:be===void 0?null:be}},dt.startTransition=function(X){var be=fe.T,Ne={};fe.T=Ne;try{var _e=X(),ke=fe.S;ke!==null&&ke(Ne,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(He,Ae)}catch(ct){Ae(ct)}finally{fe.T=be}},dt.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},dt.use=function(X){return fe.H.use(X)},dt.useActionState=function(X,be,Ne){return fe.H.useActionState(X,be,Ne)},dt.useCallback=function(X,be){return fe.H.useCallback(X,be)},dt.useContext=function(X){return fe.H.useContext(X)},dt.useDebugValue=function(){},dt.useDeferredValue=function(X,be){return fe.H.useDeferredValue(X,be)},dt.useEffect=function(X,be,Ne){var _e=fe.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(X,be)},dt.useId=function(){return fe.H.useId()},dt.useImperativeHandle=function(X,be,Ne){return fe.H.useImperativeHandle(X,be,Ne)},dt.useInsertionEffect=function(X,be){return fe.H.useInsertionEffect(X,be)},dt.useLayoutEffect=function(X,be){return fe.H.useLayoutEffect(X,be)},dt.useMemo=function(X,be){return fe.H.useMemo(X,be)},dt.useOptimistic=function(X,be){return fe.H.useOptimistic(X,be)},dt.useReducer=function(X,be,Ne){return fe.H.useReducer(X,be,Ne)},dt.useRef=function(X){return fe.H.useRef(X)},dt.useState=function(X){return fe.H.useState(X)},dt.useSyncExternalStore=function(X,be,Ne){return fe.H.useSyncExternalStore(X,be,Ne)},dt.useTransition=function(){return fe.H.useTransition()},dt.version="19.1.0",dt}var oy;function Dm(){return oy||(oy=1,ug.exports=aE()),ug.exports}var Pe=Dm();const Jn=Z8(Pe);var fg={exports:{}},Uf={},dg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function lE(){return cy||(cy=1,function(l){function e(V,J){var Ae=V.length;V.push(J);e:for(;0<Ae;){var He=Ae-1>>>1,X=V[He];if(0<u(X,J))V[He]=J,V[Ae]=X,Ae=He;else break e}}function t(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var J=V[0],Ae=V.pop();if(Ae!==J){V[0]=Ae;e:for(var He=0,X=V.length,be=X>>>1;He<be;){var Ne=2*(He+1)-1,_e=V[Ne],ke=Ne+1,ct=V[ke];if(0>u(_e,Ae))ke<X&&0>u(ct,_e)?(V[He]=ct,V[ke]=Ae,He=ke):(V[He]=_e,V[Ne]=Ae,He=Ne);else if(ke<X&&0>u(ct,Ae))V[He]=ct,V[ke]=Ae,He=ke;else break e}}return J}function u(V,J){var Ae=V.sortIndex-J.sortIndex;return Ae!==0?Ae:V.id-J.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;l.unstable_now=function(){return x.now()}}else{var p=Date,E=p.now();l.unstable_now=function(){return p.now()-E}}var w=[],y=[],T=1,N=null,D=3,L=!1,P=!1,k=!1,j=!1,ee=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ie(V){for(var J=t(y);J!==null;){if(J.callback===null)a(y);else if(J.startTime<=V)a(y),J.sortIndex=J.expirationTime,e(w,J);else break;J=t(y)}}function fe(V){if(k=!1,ie(V),!P)if(t(w)!==null)P=!0,ae||(ae=!0,Oe());else{var J=t(y);J!==null&&H(fe,J.startTime-V)}}var ae=!1,$=-1,ue=5,ce=-1;function Fe(){return j?!0:!(l.unstable_now()-ce<ue)}function Le(){if(j=!1,ae){var V=l.unstable_now();ce=V;var J=!0;try{e:{P=!1,k&&(k=!1,re($),$=-1),L=!0;var Ae=D;try{t:{for(ie(V),N=t(w);N!==null&&!(N.expirationTime>V&&Fe());){var He=N.callback;if(typeof He=="function"){N.callback=null,D=N.priorityLevel;var X=He(N.expirationTime<=V);if(V=l.unstable_now(),typeof X=="function"){N.callback=X,ie(V),J=!0;break t}N===t(w)&&a(w),ie(V)}else a(w);N=t(w)}if(N!==null)J=!0;else{var be=t(y);be!==null&&H(fe,be.startTime-V),J=!1}}break e}finally{N=null,D=Ae,L=!1}J=void 0}}finally{J?Oe():ae=!1}}}var Oe;if(typeof Z=="function")Oe=function(){Z(Le)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,De=Ge.port2;Ge.port1.onmessage=Le,Oe=function(){De.postMessage(null)}}else Oe=function(){ee(Le,0)};function H(V,J){$=ee(function(){V(l.unstable_now())},J)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(V){V.callback=null},l.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<V?Math.floor(1e3/V):5},l.unstable_getCurrentPriorityLevel=function(){return D},l.unstable_next=function(V){switch(D){case 1:case 2:case 3:var J=3;break;default:J=D}var Ae=D;D=J;try{return V()}finally{D=Ae}},l.unstable_requestPaint=function(){j=!0},l.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Ae=D;D=V;try{return J()}finally{D=Ae}},l.unstable_scheduleCallback=function(V,J,Ae){var He=l.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?He+Ae:He):Ae=He,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Ae+X,V={id:T++,callback:J,priorityLevel:V,startTime:Ae,expirationTime:X,sortIndex:-1},Ae>He?(V.sortIndex=Ae,e(y,V),t(w)===null&&V===t(y)&&(k?(re($),$=-1):k=!0,H(fe,Ae-He))):(V.sortIndex=X,e(w,V),P||L||(P=!0,ae||(ae=!0,Oe()))),V},l.unstable_shouldYield=Fe,l.unstable_wrapCallback=function(V){var J=D;return function(){var Ae=D;D=J;try{return V.apply(this,arguments)}finally{D=Ae}}}}(hg)),hg}var uy;function oE(){return uy||(uy=1,dg.exports=lE()),dg.exports}var xg={exports:{}},Br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function cE(){if(fy)return Br;fy=1;var l=Dm();function e(w){var y="https://react.dev/errors/"+w;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+w+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},u=Symbol.for("react.portal");function x(w,y,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:w,containerInfo:y,implementation:T}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(w,y){if(w==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Br.createPortal=function(w,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return x(w,y,null,T)},Br.flushSync=function(w){var y=p.T,T=a.p;try{if(p.T=null,a.p=2,w)return w()}finally{p.T=y,a.p=T,a.d.f()}},Br.preconnect=function(w,y){typeof w=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(w,y))},Br.prefetchDNS=function(w){typeof w=="string"&&a.d.D(w)},Br.preinit=function(w,y){if(typeof w=="string"&&y&&typeof y.as=="string"){var T=y.as,N=E(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(w,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:D,fetchPriority:L}):T==="script"&&a.d.X(w,{crossOrigin:N,integrity:D,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Br.preinitModule=function(w,y){if(typeof w=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=E(y.as,y.crossOrigin);a.d.M(w,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(w)},Br.preload=function(w,y){if(typeof w=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,N=E(T,y.crossOrigin);a.d.L(w,T,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Br.preloadModule=function(w,y){if(typeof w=="string")if(y){var T=E(y.as,y.crossOrigin);a.d.m(w,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(w)},Br.requestFormReset=function(w){a.d.r(w)},Br.unstable_batchedUpdates=function(w,y){return w(y)},Br.useFormState=function(w,y,T){return p.H.useFormState(w,y,T)},Br.useFormStatus=function(){return p.H.useHostTransitionStatus()},Br.version="19.1.0",Br}var dy;function uE(){if(dy)return xg.exports;dy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),xg.exports=cE(),xg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function fE(){if(hy)return Uf;hy=1;var l=oE(),e=Dm(),t=uE();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function x(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function p(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function E(n){if(x(n)!==n)throw Error(a(188))}function w(n){var i=n.alternate;if(!i){if(i=x(n),i===null)throw Error(a(188));return i!==n?null:n}for(var c=n,h=i;;){var b=c.return;if(b===null)break;var C=b.alternate;if(C===null){if(h=b.return,h!==null){c=h;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===c)return E(b),n;if(C===h)return E(b),i;C=C.sibling}throw Error(a(188))}if(c.return!==h.return)c=b,h=C;else{for(var R=!1,_=b.child;_;){if(_===c){R=!0,c=b,h=C;break}if(_===h){R=!0,h=b,c=C;break}_=_.sibling}if(!R){for(_=C.child;_;){if(_===c){R=!0,c=C,h=b;break}if(_===h){R=!0,h=C,c=b;break}_=_.sibling}if(!R)throw Error(a(189))}}if(c.alternate!==h)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),Fe=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function Oe(n){return n===null||typeof n!="object"?null:(n=Le&&n[Le]||n["@@iterator"],typeof n=="function"?n:null)}var Ge=Symbol.for("react.client.reference");function De(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ge?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case fe:return"Suspense";case ae:return"SuspenseList";case ce:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case L:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case re:return(n._context.displayName||"Context")+".Consumer";case ie:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return i=n.displayName||null,i!==null?i:De(n.type)||"Memo";case ue:i=n._payload,n=n._init;try{return De(n(i))}catch{}}return null}var H=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},He=[],X=-1;function be(n){return{current:n}}function Ne(n){0>X||(n.current=He[X],He[X]=null,X--)}function _e(n,i){X++,He[X]=n.current,n.current=i}var ke=be(null),ct=be(null),ve=be(null),sn=be(null);function it(n,i){switch(_e(ve,i),_e(ct,n),_e(ke,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?D3(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=D3(i),n=M3(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ne(ke),_e(ke,n)}function An(){Ne(ke),Ne(ct),Ne(ve)}function Cr(n){n.memoizedState!==null&&_e(sn,n);var i=ke.current,c=M3(i,n.type);i!==c&&(_e(ct,n),_e(ke,c))}function En(n){ct.current===n&&(Ne(ke),Ne(ct)),sn.current===n&&(Ne(sn),Of._currentValue=Ae)}var kr=Object.prototype.hasOwnProperty,st=l.unstable_scheduleCallback,ur=l.unstable_cancelCallback,Pr=l.unstable_shouldYield,ms=l.unstable_requestPaint,Yt=l.unstable_now,Qt=l.unstable_getCurrentPriorityLevel,Et=l.unstable_ImmediatePriority,no=l.unstable_UserBlockingPriority,Ye=l.unstable_NormalPriority,Ac=l.unstable_LowPriority,ku=l.unstable_IdlePriority,Qi=l.log,Pu=l.unstable_setDisableYieldValue,fr=null,Sr=null;function dr(n){if(typeof Qi=="function"&&Pu(n),Sr&&typeof Sr.setStrictMode=="function")try{Sr.setStrictMode(fr,n)}catch{}}var Ht=Math.clz32?Math.clz32:hx,Pd=Math.log,Ec=Math.LN2;function hx(n){return n>>>=0,n===0?32:31-(Pd(n)/Ec|0)|0}var cn=256,Ue=4194304;function en(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function It(n,i,c){var h=n.pendingLanes;if(h===0)return 0;var b=0,C=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var _=h&134217727;return _!==0?(h=_&~C,h!==0?b=en(h):(R&=_,R!==0?b=en(R):c||(c=_&~n,c!==0&&(b=en(c))))):(_=h&~C,_!==0?b=en(_):R!==0?b=en(R):c||(c=h&~n,c!==0&&(b=en(c)))),b===0?0:i!==0&&i!==b&&(i&C)===0&&(C=b&-b,c=i&-i,C>=c||C===32&&(c&4194048)!==0)?i:b}function Kt(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ro(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var n=cn;return cn<<=1,(cn&4194048)===0&&(cn=256),n}function Fu(){var n=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),n}function St(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function ai(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fd(n,i,c,h,b,C){var R=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var _=n.entanglements,Q=n.expirationTimes,de=n.hiddenUpdates;for(c=R&~c;0<c;){var ye=31-Ht(c),Ce=1<<ye;_[ye]=0,Q[ye]=-1;var he=de[ye];if(he!==null)for(de[ye]=null,ye=0;ye<he.length;ye++){var me=he[ye];me!==null&&(me.lane&=-536870913)}c&=~Ce}h!==0&&Hu(n,h,0),C!==0&&b===0&&n.tag!==0&&(n.suspendedLanes|=C&~(R&~i))}function Hu(n,i,c){n.pendingLanes|=i,n.suspendedLanes&=~i;var h=31-Ht(i);n.entangledLanes|=i,n.entanglements[h]=n.entanglements[h]|1073741824|c&4194090}function Qr(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var h=31-Ht(c),b=1<<h;b&i|n[h]&i&&(n[h]|=i),c&=~b}}function io(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Hn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ea(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:J3(n.type))}function Sc(n,i){var c=J.p;try{return J.p=n,i()}finally{J.p=c}}var jn=Math.random().toString(36).slice(2),$n="__reactFiber$"+jn,Cn="__reactProps$"+jn,ps="__reactContainer$"+jn,er="__reactEvents$"+jn,ta="__reactListeners$"+jn,Kr="__reactHandles$"+jn,Ve="__reactResources$"+jn,Si="__reactMarker$"+jn;function so(n){delete n[$n],delete n[Cn],delete n[er],delete n[ta],delete n[Kr]}function Bn(n){var i=n[$n];if(i)return i;for(var c=n.parentNode;c;){if(i=c[ps]||c[$n]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=k3(n);n!==null;){if(c=n[$n])return c;n=k3(n)}return i}n=c,c=n.parentNode}return null}function li(n){if(n=n[$n]||n[ps]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function bs(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Ki(n){var i=n[Ve];return i||(i=n[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Gt(n){n[Si]=!0}var Hd=new Set,Gd={};function tr(n,i){Sn(n,i),Sn(n+"Capture",i)}function Sn(n,i){for(Gd[n]=i,n=0;n<i.length;n++)Hd.add(i[n])}var an=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},Zi={};function zu(n){return kr.call(Zi,n)?!0:kr.call(Gu,n)?!1:an.test(n)?Zi[n]=!0:(Gu[n]=!0,!1)}function Se(n,i,c){if(zu(i))if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+c)}}function Tc(n,i,c){if(c===null)n.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+c)}}function Bt(n,i,c,h){if(h===null)n.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(i,c,""+h)}}var ys,zd;function bt(n){if(ys===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);ys=i&&i[1]||"",zd=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+n+zd}var Tt=!1;function xt(n,i){if(!n||Tt)return"";Tt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(me){var he=me}Reflect.construct(n,[],Ce)}else{try{Ce.call()}catch(me){he=me}n.call(Ce.prototype)}}else{try{throw Error()}catch(me){he=me}(Ce=n())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=h.DetermineComponentFrameRoot(),R=C[0],_=C[1];if(R&&_){var Q=R.split(`
`),de=_.split(`
`);for(b=h=0;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;for(;b<de.length&&!de[b].includes("DetermineComponentFrameRoot");)b++;if(h===Q.length||b===de.length)for(h=Q.length-1,b=de.length-1;1<=h&&0<=b&&Q[h]!==de[b];)b--;for(;1<=h&&0<=b;h--,b--)if(Q[h]!==de[b]){if(h!==1||b!==1)do if(h--,b--,0>b||Q[h]!==de[b]){var ye=`
`+Q[h].replace(" at new "," at ");return n.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",n.displayName)),ye}while(1<=h&&0<=b);break}}}finally{Tt=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?bt(c):""}function Vu(n){switch(n.tag){case 26:case 27:case 5:return bt(n.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return xt(n.type,!1);case 11:return xt(n.type.render,!1);case 1:return xt(n.type,!0);case 31:return bt("Activity");default:return""}}function Nc(n){try{var i="";do i+=Vu(n),n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Tr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Tn(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ws(n){var i=Tn(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,C=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return b.call(this)},set:function(R){h=""+R,C.call(this,R)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function vc(n){n._valueTracker||(n._valueTracker=ws(n))}function hn(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return n&&(h=Tn(n)?n.checked?"true":"false":n.value),n=h,n!==c?(i.setValue(n),!0):!1}function oi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xx=/[\n"\\]/g;function Xn(n){return n.replace(xx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ut(n,i,c,h,b,C,R,_){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),i!=null?R==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Tr(i)):n.value!==""+Tr(i)&&(n.value=""+Tr(i)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),i!=null?le(n,R,Tr(i)):c!=null?le(n,R,Tr(c)):h!=null&&n.removeAttribute("value"),b==null&&C!=null&&(n.defaultChecked=!!C),b!=null&&(n.checked=b&&typeof b!="function"&&typeof b!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+Tr(_):n.removeAttribute("name")}function Yn(n,i,c,h,b,C,R,_){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.type=C),i!=null||c!=null){if(!(C!=="submit"&&C!=="reset"||i!=null))return;c=c!=null?""+Tr(c):"",i=i!=null?""+Tr(i):c,_||i===n.value||(n.value=i),n.defaultValue=i}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=_?n.checked:!!h,n.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R)}function le(n,i,c){i==="number"&&oi(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function F(n,i,c,h){if(n=n.options,i){i={};for(var b=0;b<c.length;b++)i["$"+c[b]]=!0;for(c=0;c<n.length;c++)b=i.hasOwnProperty("$"+n[c].value),n[c].selected!==b&&(n[c].selected=b),b&&h&&(n[c].defaultSelected=!0)}else{for(c=""+Tr(c),i=null,b=0;b<n.length;b++){if(n[b].value===c){n[b].selected=!0,h&&(n[b].defaultSelected=!0);return}i!==null||n[b].disabled||(i=n[b])}i!==null&&(i.selected=!0)}}function We(n,i,c){if(i!=null&&(i=""+Tr(i),i!==n.value&&(n.value=i),c==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=c!=null?""+Tr(c):""}function Dn(n,i,c,h){if(i==null){if(h!=null){if(c!=null)throw Error(a(92));if(H(h)){if(1<h.length)throw Error(a(93));h=h[0]}c=h}c==null&&(c=""),i=c}c=Tr(i),n.defaultValue=c,h=n.textContent,h===c&&h!==""&&h!==null&&(n.value=h)}function Qn(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(n,i,c){var h=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":h?n.setProperty(i,c):typeof c!="number"||c===0||gx.has(i)?i==="float"?n.cssFloat=c:n[i]=(""+c).trim():n[i]=c+"px"}function Fr(n,i,c){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var b in i)h=i[b],i.hasOwnProperty(b)&&c[b]!==h&&Rc(n,b,h)}else for(var C in i)i.hasOwnProperty(C)&&Rc(n,C,i[C])}function qe(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(n){return Vd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ao=null;function Za(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var As=null,Wa=null;function Mn(n){var i=li(n);if(i&&(n=i.stateNode)){var c=n[Cn]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ut(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Xn(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==n&&h.form===n.form){var b=h[Cn]||null;if(!b)throw Error(a(90));Ut(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(i=0;i<c.length;i++)h=c[i],h.form===n.form&&hn(h)}break e;case"textarea":We(n,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&F(n,!!c.multiple,i,!1)}}}var na=!1;function Wi(n,i,c){if(na)return n(i,c);na=!0;try{var h=n(i);return h}finally{if(na=!1,(As!==null||Wa!==null)&&(R1(),As&&(i=As,n=Wa,Wa=As=null,Mn(i),n)))for(i=0;i<n.length;i++)Mn(n[i])}}function $e(n,i){var c=n.stateNode;if(c===null)return null;var h=c[Cn]||null;if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(a(231,i,typeof c));return c}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lt=!1;if(qi)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){lt=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{lt=!1}var Es=null,lo=null,oo=null;function Cs(){if(oo)return oo;var n,i=lo,c=i.length,h,b="value"in Es?Es.value:Es.textContent,C=b.length;for(n=0;n<c&&i[n]===b[n];n++);var R=c-n;for(h=1;h<=R&&i[c-h]===b[C-h];h++);return oo=b.slice(n,1<h?1-h:void 0)}function Ic(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ss(){return!0}function qa(){return!1}function Gn(n){function i(c,h,b,C,R){this._reactName=c,this._targetInst=b,this.type=h,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(c=n[_],this[_]=c?c(C):C[_]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ss:qa,this.isPropagationStopped=qa,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),i}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Gn(Ts),Ji=T({},Ts,{view:0,detail:0}),Nr=Gn(Ji),Bc,Dc,Ja,Mc=T({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ja&&(Ja&&n.type==="mousemove"?(Bc=n.screenX-Ja.screenX,Dc=n.screenY-Ja.screenY):Dc=Bc=0,Ja=n),Bc)},movementY:function(n){return"movementY"in n?n.movementY:Dc}}),jd=Gn(Mc),mx=T({},Mc,{dataTransfer:0}),kt=Gn(mx),Xd=T({},Ji,{relatedTarget:0}),$a=Gn(Xd),vs=T({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),px=Gn(vs),pe=T({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ft=Gn(pe),Kn=T({},Ts,{data:0}),co=Gn(Kn),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=yx[n])?!!i[n]:!1}function uo(){return wx}var _n=T({},Ji,{key:function(n){if(n.key){var i=Yd[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ic(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(n){return n.type==="keypress"?Ic(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ic(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ju=Gn(_n),xn=T({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=Gn(xn),ra=T({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),zt=Gn(ra),et=T({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ax=Gn(et),tn=T({},Mc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Gn(tn),el=T({},Ts,{newState:0,oldState:0}),Ex=Gn(el),Ti=[9,13,27,32],ho=qi&&"CompositionEvent"in window,tl=null;qi&&"documentMode"in document&&(tl=document.documentMode);var Xu=qi&&"TextEvent"in window&&!tl,Yu=qi&&(!ho||tl&&8<tl&&11>=tl),Qu=" ",Qd=!1;function sa(n,i){switch(n){case"keyup":return Ti.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nl=!1;function xo(n,i){switch(n){case"compositionend":return _c(i);case"keypress":return i.which!==32?null:(Qd=!0,Qu);case"textInput":return n=i.data,n===Qu&&Qd?null:n;default:return null}}function Cx(n,i){if(nl)return n==="compositionend"||!ho&&sa(n,i)?(n=Cs(),oo=lo=Es=null,nl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yu&&i.locale!=="ko"?null:i.data;default:return null}}var Rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Rs[n.type]:i==="textarea"}function Hr(n,i,c,h){As?Wa?Wa.push(h):Wa=[h]:As=h,i=_1(i,"onChange"),0<i.length&&(c=new Ns("onChange","change",null,c,h),n.push({event:c,listeners:i}))}var rl=null,vr=null;function Sx(n){v3(n,0)}function il(n){var i=bs(n);if(hn(i))return n}function Kd(n,i){if(n==="change")return i}var Ku=!1;if(qi){var Zr;if(qi){var Zu="oninput"in document;if(!Zu){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Zu=typeof Lc.oninput=="function"}Zr=Zu}else Zr=!1;Ku=Zr&&(!document.documentMode||9<document.documentMode)}function sl(){rl&&(rl.detachEvent("onpropertychange",Ct),vr=rl=null)}function Ct(n){if(n.propertyName==="value"&&il(vr)){var i=[];Hr(i,vr,n,Za(n)),Wi(Sx,i)}}function Uc(n,i,c){n==="focusin"?(sl(),rl=i,vr=c,rl.attachEvent("onpropertychange",Ct)):n==="focusout"&&sl()}function O(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return il(vr)}function r(n,i){if(n==="click")return il(i)}function s(n,i){if(n==="input"||n==="change")return il(i)}function o(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var f=typeof Object.is=="function"?Object.is:o;function d(n,i){if(f(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var b=c[h];if(!kr.call(i,b)||!f(n[b],i[b]))return!1}return!0}function g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function m(n,i){var c=g(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=i&&h>=i)return{node:c,offset:i-n};n=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=g(c)}}function A(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?A(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function S(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=oi(n.document);i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=oi(n.document)}return i}function v(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var B=qi&&"documentMode"in document&&11>=document.documentMode,M=null,G=null,K=null,W=!1;function se(n,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;W||M==null||M!==oi(h)||(h=M,"selectionStart"in h&&v(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),K&&d(K,h)||(K=h,h=_1(G,"onSelect"),0<h.length&&(i=new Ns("onSelect","select",null,i,c),n.push({event:i,listeners:h}),i.target=M)))}function ge(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ie={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},Me={},Re={};qi&&(Re=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);function ot(n){if(Me[n])return Me[n];if(!Ie[n])return n;var i=Ie[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in Re)return Me[n]=i[c];return n}var at=ot("animationend"),hr=ot("animationiteration"),Wr=ot("animationstart"),Rr=ot("transitionrun"),Vt=ot("transitionstart"),Zn=ot("transitioncancel"),Or=ot("transitionend"),aa=new Map,Os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Os.push("scrollEnd");function ci(n,i){aa.set(n,i),tr(i,[n])}var Zd=new WeakMap;function Ni(n,i){if(typeof n=="object"&&n!==null){var c=Zd.get(n);return c!==void 0?c:(i={value:n,source:i,stack:Nc(i)},Zd.set(n,i),i)}return{value:n,source:i,stack:Nc(i)}}var vi=[],kc=0,Tx=0;function Wd(){for(var n=kc,i=Tx=kc=0;i<n;){var c=vi[i];vi[i++]=null;var h=vi[i];vi[i++]=null;var b=vi[i];vi[i++]=null;var C=vi[i];if(vi[i++]=null,h!==null&&b!==null){var R=h.pending;R===null?b.next=b:(b.next=R.next,R.next=b),h.pending=b}C!==0&&fp(c,b,C)}}function qd(n,i,c,h){vi[kc++]=n,vi[kc++]=i,vi[kc++]=c,vi[kc++]=h,Tx|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function Nx(n,i,c,h){return qd(n,i,c,h),Jd(n)}function Pc(n,i){return qd(n,null,null,i),Jd(n)}function fp(n,i,c){n.lanes|=c;var h=n.alternate;h!==null&&(h.lanes|=c);for(var b=!1,C=n.return;C!==null;)C.childLanes|=c,h=C.alternate,h!==null&&(h.childLanes|=c),C.tag===22&&(n=C.stateNode,n===null||n._visibility&1||(b=!0)),n=C,C=C.return;return n.tag===3?(C=n.stateNode,b&&i!==null&&(b=31-Ht(c),n=C.hiddenUpdates,h=n[b],h===null?n[b]=[i]:h.push(i),i.lane=c|536870912),C):null}function Jd(n){if(50<Af)throw Af=0,D2=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Fc={};function H6(n,i,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(n,i,c,h){return new H6(n,i,c,h)}function vx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function la(n,i){var c=n.alternate;return c===null?(c=ui(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function dp(n,i){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,i=c.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function $d(n,i,c,h,b,C){var R=0;if(h=n,typeof n=="function")vx(n)&&(R=1);else if(typeof n=="string")R=zA(n,c,ke.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ce:return n=ui(31,c,i,b),n.elementType=ce,n.lanes=C,n;case P:return mo(c.children,b,C,i);case k:R=8,b|=24;break;case j:return n=ui(12,c,i,b|2),n.elementType=j,n.lanes=C,n;case fe:return n=ui(13,c,i,b),n.elementType=fe,n.lanes=C,n;case ae:return n=ui(19,c,i,b),n.elementType=ae,n.lanes=C,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:case Z:R=10;break e;case re:R=9;break e;case ie:R=11;break e;case $:R=14;break e;case ue:R=16,h=null;break e}R=29,c=Error(a(130,n===null?"null":typeof n,"")),h=null}return i=ui(R,c,i,b),i.elementType=n,i.type=h,i.lanes=C,i}function mo(n,i,c,h){return n=ui(7,n,h,i),n.lanes=c,n}function Rx(n,i,c){return n=ui(6,n,null,i),n.lanes=c,n}function Ox(n,i,c){return i=ui(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Hc=[],Gc=0,e1=null,t1=0,Ri=[],Oi=0,po=null,oa=1,ca="";function bo(n,i){Hc[Gc++]=t1,Hc[Gc++]=e1,e1=n,t1=i}function hp(n,i,c){Ri[Oi++]=oa,Ri[Oi++]=ca,Ri[Oi++]=po,po=n;var h=oa;n=ca;var b=32-Ht(h)-1;h&=~(1<<b),c+=1;var C=32-Ht(i)+b;if(30<C){var R=b-b%5;C=(h&(1<<R)-1).toString(32),h>>=R,b-=R,oa=1<<32-Ht(i)+b|c<<b|h,ca=C+n}else oa=1<<C|c<<b|h,ca=n}function Ix(n){n.return!==null&&(bo(n,1),hp(n,1,0))}function Bx(n){for(;n===e1;)e1=Hc[--Gc],Hc[Gc]=null,t1=Hc[--Gc],Hc[Gc]=null;for(;n===po;)po=Ri[--Oi],Ri[Oi]=null,ca=Ri[--Oi],Ri[Oi]=null,oa=Ri[--Oi],Ri[Oi]=null}var Gr=null,Nn=null,Lt=!1,yo=null,Is=!1,Dx=Error(a(519));function wo(n){var i=Error(a(418,""));throw Ju(Ni(i,n)),Dx}function xp(n){var i=n.stateNode,c=n.type,h=n.memoizedProps;switch(i[$n]=n,i[Cn]=h,c){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(c=0;c<Cf.length;c++)wt(Cf[c],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":wt("invalid",i),Yn(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),vc(i);break;case"select":wt("invalid",i);break;case"textarea":wt("invalid",i),Dn(i,h.value,h.defaultValue,h.children),vc(i)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||h.suppressHydrationWarning===!0||B3(i.textContent,c)?(h.popover!=null&&(wt("beforetoggle",i),wt("toggle",i)),h.onScroll!=null&&wt("scroll",i),h.onScrollEnd!=null&&wt("scrollend",i),h.onClick!=null&&(i.onclick=L1),i=!0):i=!1,i||wo(n)}function gp(n){for(Gr=n.return;Gr;)switch(Gr.tag){case 5:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:Gr=Gr.return}}function Wu(n){if(n!==Gr)return!1;if(!Lt)return gp(n),Lt=!0,!1;var i=n.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||K2(n.type,n.memoizedProps)),c=!c),c&&Nn&&wo(n),gp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(c=n.data,c==="/$"){if(i===0){Nn=es(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++;n=n.nextSibling}Nn=null}}else i===27?(i=Nn,Al(n.type)?(n=J2,J2=null,Nn=n):Nn=i):Nn=Gr?es(n.stateNode.nextSibling):null;return!0}function qu(){Nn=Gr=null,Lt=!1}function mp(){var n=yo;return n!==null&&($r===null?$r=n:$r.push.apply($r,n),yo=null),n}function Ju(n){yo===null?yo=[n]:yo.push(n)}var Mx=be(null),Ao=null,ua=null;function al(n,i,c){_e(Mx,i._currentValue),i._currentValue=c}function fa(n){n._currentValue=Mx.current,Ne(Mx)}function _x(n,i,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===c)break;n=n.return}}function Lx(n,i,c,h){var b=n.child;for(b!==null&&(b.return=n);b!==null;){var C=b.dependencies;if(C!==null){var R=b.child;C=C.firstContext;e:for(;C!==null;){var _=C;C=b;for(var Q=0;Q<i.length;Q++)if(_.context===i[Q]){C.lanes|=c,_=C.alternate,_!==null&&(_.lanes|=c),_x(C.return,c,n),h||(R=null);break e}C=_.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(a(341));R.lanes|=c,C=R.alternate,C!==null&&(C.lanes|=c),_x(R,c,n),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===n){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function $u(n,i,c,h){n=null;for(var b=i,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(a(387));if(R=R.memoizedProps,R!==null){var _=b.type;f(b.pendingProps.value,R.value)||(n!==null?n.push(_):n=[_])}}else if(b===sn.current){if(R=b.alternate,R===null)throw Error(a(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(n!==null?n.push(Of):n=[Of])}b=b.return}n!==null&&Lx(i,n,c,h),i.flags|=262144}function n1(n){for(n=n.firstContext;n!==null;){if(!f(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Eo(n){Ao=n,ua=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ir(n){return pp(Ao,n)}function r1(n,i){return Ao===null&&Eo(n),pp(n,i)}function pp(n,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},ua===null){if(n===null)throw Error(a(308));ua=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ua=ua.next=i;return c}var G6=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(c,h){n.push(h)}};this.abort=function(){i.aborted=!0,n.forEach(function(c){return c()})}},z6=l.unstable_scheduleCallback,V6=l.unstable_NormalPriority,Wn={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ux(){return{controller:new G6,data:new Map,refCount:0}}function ef(n){n.refCount--,n.refCount===0&&z6(V6,function(){n.controller.abort()})}var tf=null,kx=0,zc=0,Vc=null;function j6(n,i){if(tf===null){var c=tf=[];kx=0,zc=F2(),Vc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return kx++,i.then(bp,bp),i}function bp(){if(--kx===0&&tf!==null){Vc!==null&&(Vc.status="fulfilled");var n=tf;tf=null,zc=0,Vc=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function X6(n,i){var c=[],h={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return n.then(function(){h.status="fulfilled",h.value=i;for(var b=0;b<c.length;b++)(0,c[b])(i)},function(b){for(h.status="rejected",h.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),h}var yp=V.S;V.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&j6(n,i),yp!==null&&yp(n,i)};var Co=be(null);function Px(){var n=Co.current;return n!==null?n:ln.pooledCache}function i1(n,i){i===null?_e(Co,Co.current):_e(Co,i.pool)}function wp(){var n=Px();return n===null?null:{parent:Wn._currentValue,pool:n}}var nf=Error(a(460)),Ap=Error(a(474)),s1=Error(a(542)),Fx={then:function(){}};function Ep(n){return n=n.status,n==="fulfilled"||n==="rejected"}function a1(){}function Cp(n,i,c){switch(c=n[c],c===void 0?n.push(i):c!==i&&(i.then(a1,a1),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Tp(n),n;default:if(typeof i.status=="string")i.then(a1,a1);else{if(n=ln,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(h){if(i.status==="pending"){var b=i;b.status="fulfilled",b.value=h}},function(h){if(i.status==="pending"){var b=i;b.status="rejected",b.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Tp(n),n}throw rf=i,nf}}var rf=null;function Sp(){if(rf===null)throw Error(a(459));var n=rf;return rf=null,n}function Tp(n){if(n===nf||n===s1)throw Error(a(483))}var ll=!1;function Hx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gx(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ol(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function cl(n,i,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(jt&2)!==0){var b=h.pending;return b===null?i.next=i:(i.next=b.next,b.next=i),h.pending=i,i=Jd(n),fp(n,null,c),i}return qd(n,h,i,c),Jd(n)}function sf(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,Qr(n,c)}}function zx(n,i){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var b=null,C=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};C===null?b=C=R:C=C.next=R,c=c.next}while(c!==null);C===null?b=C=i:C=C.next=i}else b=C=i;c={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:h.shared,callbacks:h.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}var Vx=!1;function af(){if(Vx){var n=Vc;if(n!==null)throw n}}function lf(n,i,c,h){Vx=!1;var b=n.updateQueue;ll=!1;var C=b.firstBaseUpdate,R=b.lastBaseUpdate,_=b.shared.pending;if(_!==null){b.shared.pending=null;var Q=_,de=Q.next;Q.next=null,R===null?C=de:R.next=de,R=Q;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,_=ye.lastBaseUpdate,_!==R&&(_===null?ye.firstBaseUpdate=de:_.next=de,ye.lastBaseUpdate=Q))}if(C!==null){var Ce=b.baseState;R=0,ye=de=Q=null,_=C;do{var he=_.lane&-536870913,me=he!==_.lane;if(me?(Ot&he)===he:(h&he)===he){he!==0&&he===zc&&(Vx=!0),ye!==null&&(ye=ye.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var rt=n,tt=_;he=i;var qt=c;switch(tt.tag){case 1:if(rt=tt.payload,typeof rt=="function"){Ce=rt.call(qt,Ce,he);break e}Ce=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=tt.payload,he=typeof rt=="function"?rt.call(qt,Ce,he):rt,he==null)break e;Ce=T({},Ce,he);break e;case 2:ll=!0}}he=_.callback,he!==null&&(n.flags|=64,me&&(n.flags|=8192),me=b.callbacks,me===null?b.callbacks=[he]:me.push(he))}else me={lane:he,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ye===null?(de=ye=me,Q=Ce):ye=ye.next=me,R|=he;if(_=_.next,_===null){if(_=b.shared.pending,_===null)break;me=_,_=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);ye===null&&(Q=Ce),b.baseState=Q,b.firstBaseUpdate=de,b.lastBaseUpdate=ye,C===null&&(b.shared.lanes=0),pl|=R,n.lanes=R,n.memoizedState=Ce}}function Np(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function vp(n,i){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)Np(c[n],i)}var jc=be(null),l1=be(0);function Rp(n,i){n=ba,_e(l1,n),_e(jc,i),ba=n|i.baseLanes}function jx(){_e(l1,ba),_e(jc,jc.current)}function Xx(){ba=l1.current,Ne(jc),Ne(l1)}var ul=0,gt=null,Zt=null,zn=null,o1=!1,Xc=!1,So=!1,c1=0,of=0,Yc=null,Y6=0;function Ln(){throw Error(a(321))}function Yx(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!f(n[c],i[c]))return!1;return!0}function Qx(n,i,c,h,b,C){return ul=C,gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?fb:db,So=!1,C=c(h,b),So=!1,Xc&&(C=Ip(i,c,h,b)),Op(n),C}function Op(n){V.H=g1;var i=Zt!==null&&Zt.next!==null;if(ul=0,zn=Zt=gt=null,o1=!1,of=0,Yc=null,i)throw Error(a(300));n===null||nr||(n=n.dependencies,n!==null&&n1(n)&&(nr=!0))}function Ip(n,i,c,h){gt=n;var b=0;do{if(Xc&&(Yc=null),of=0,Xc=!1,25<=b)throw Error(a(301));if(b+=1,zn=Zt=null,n.updateQueue!=null){var C=n.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}V.H=$6,C=i(c,h)}while(Xc);return C}function Q6(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?cf(i):i,n=n.useState()[0],(Zt!==null?Zt.memoizedState:null)!==n&&(gt.flags|=1024),i}function Kx(){var n=c1!==0;return c1=0,n}function Zx(n,i,c){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c}function Wx(n){if(o1){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}o1=!1}ul=0,zn=Zt=gt=null,Xc=!1,of=c1=0,Yc=null}function qr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?gt.memoizedState=zn=n:zn=zn.next=n,zn}function Vn(){if(Zt===null){var n=gt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var i=zn===null?gt.memoizedState:zn.next;if(i!==null)zn=i,Zt=n;else{if(n===null)throw gt.alternate===null?Error(a(467)):Error(a(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},zn===null?gt.memoizedState=zn=n:zn=zn.next=n}return zn}function qx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cf(n){var i=of;return of+=1,Yc===null&&(Yc=[]),n=Cp(Yc,n,i),i=gt,(zn===null?i.memoizedState:zn.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?fb:db),n}function u1(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cf(n);if(n.$$typeof===Z)return Ir(n)}throw Error(a(438,String(n)))}function Jx(n){var i=null,c=gt.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var h=gt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(b){return b.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=qx(),gt.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(n),h=0;h<n;h++)c[h]=Fe;return i.index++,c}function da(n,i){return typeof i=="function"?i(n):i}function f1(n){var i=Vn();return $x(i,Zt,n)}function $x(n,i,c){var h=n.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=c;var b=n.baseQueue,C=h.pending;if(C!==null){if(b!==null){var R=b.next;b.next=C.next,C.next=R}i.baseQueue=b=C,h.pending=null}if(C=n.baseState,b===null)n.memoizedState=C;else{i=b.next;var _=R=null,Q=null,de=i,ye=!1;do{var Ce=de.lane&-536870913;if(Ce!==de.lane?(Ot&Ce)===Ce:(ul&Ce)===Ce){var he=de.revertLane;if(he===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ce===zc&&(ye=!0);else if((ul&he)===he){de=de.next,he===zc&&(ye=!0);continue}else Ce={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Q===null?(_=Q=Ce,R=C):Q=Q.next=Ce,gt.lanes|=he,pl|=he;Ce=de.action,So&&c(C,Ce),C=de.hasEagerState?de.eagerState:c(C,Ce)}else he={lane:Ce,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Q===null?(_=Q=he,R=C):Q=Q.next=he,gt.lanes|=Ce,pl|=Ce;de=de.next}while(de!==null&&de!==i);if(Q===null?R=C:Q.next=_,!f(C,n.memoizedState)&&(nr=!0,ye&&(c=Vc,c!==null)))throw c;n.memoizedState=C,n.baseState=R,n.baseQueue=Q,h.lastRenderedState=C}return b===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function e2(n){var i=Vn(),c=i.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=n;var h=c.dispatch,b=c.pending,C=i.memoizedState;if(b!==null){c.pending=null;var R=b=b.next;do C=n(C,R.action),R=R.next;while(R!==b);f(C,i.memoizedState)||(nr=!0),i.memoizedState=C,i.baseQueue===null&&(i.baseState=C),c.lastRenderedState=C}return[C,h]}function Bp(n,i,c){var h=gt,b=Vn(),C=Lt;if(C){if(c===void 0)throw Error(a(407));c=c()}else c=i();var R=!f((Zt||b).memoizedState,c);R&&(b.memoizedState=c,nr=!0),b=b.queue;var _=_p.bind(null,h,b,n);if(uf(2048,8,_,[n]),b.getSnapshot!==i||R||zn!==null&&zn.memoizedState.tag&1){if(h.flags|=2048,Qc(9,d1(),Mp.bind(null,h,b,c,i),null),ln===null)throw Error(a(349));C||(ul&124)!==0||Dp(h,i,c)}return c}function Dp(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=gt.updateQueue,i===null?(i=qx(),gt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Mp(n,i,c,h){i.value=c,i.getSnapshot=h,Lp(i)&&Up(n)}function _p(n,i,c){return c(function(){Lp(i)&&Up(n)})}function Lp(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!f(n,c)}catch{return!0}}function Up(n){var i=Pc(n,2);i!==null&&gi(i,n,2)}function t2(n){var i=qr();if(typeof n=="function"){var c=n;if(n=c(),So){dr(!0);try{c()}finally{dr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},i}function kp(n,i,c,h){return n.baseState=c,$x(n,Zt,typeof h=="function"?h:da)}function K6(n,i,c,h,b){if(x1(n))throw Error(a(485));if(n=i.action,n!==null){var C={payload:b,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){C.listeners.push(R)}};V.T!==null?c(!0):C.isTransition=!1,h(C),c=i.pending,c===null?(C.next=i.pending=C,Pp(i,C)):(C.next=c.next,i.pending=c.next=C)}}function Pp(n,i){var c=i.action,h=i.payload,b=n.state;if(i.isTransition){var C=V.T,R={};V.T=R;try{var _=c(b,h),Q=V.S;Q!==null&&Q(R,_),Fp(n,i,_)}catch(de){n2(n,i,de)}finally{V.T=C}}else try{C=c(b,h),Fp(n,i,C)}catch(de){n2(n,i,de)}}function Fp(n,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Hp(n,i,h)},function(h){return n2(n,i,h)}):Hp(n,i,c)}function Hp(n,i,c){i.status="fulfilled",i.value=c,Gp(i),n.state=c,i=n.pending,i!==null&&(c=i.next,c===i?n.pending=null:(c=c.next,i.next=c,Pp(n,c)))}function n2(n,i,c){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=c,Gp(i),i=i.next;while(i!==h)}n.action=null}function Gp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function zp(n,i){return i}function Vp(n,i){if(Lt){var c=ln.formState;if(c!==null){e:{var h=gt;if(Lt){if(Nn){t:{for(var b=Nn,C=Is;b.nodeType!==8;){if(!C){b=null;break t}if(b=es(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){Nn=es(b.nextSibling),h=b.data==="F!";break e}}wo(h)}h=!1}h&&(i=c[0])}}return c=qr(),c.memoizedState=c.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:i},c.queue=h,c=ob.bind(null,gt,h),h.dispatch=c,h=t2(!1),C=l2.bind(null,gt,!1,h.queue),h=qr(),b={state:i,dispatch:null,action:n,pending:null},h.queue=b,c=K6.bind(null,gt,b,C,c),b.dispatch=c,h.memoizedState=n,[i,c,!1]}function jp(n){var i=Vn();return Xp(i,Zt,n)}function Xp(n,i,c){if(i=$x(n,i,zp)[0],n=f1(da)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=cf(i)}catch(R){throw R===nf?s1:R}else h=i;i=Vn();var b=i.queue,C=b.dispatch;return c!==i.memoizedState&&(gt.flags|=2048,Qc(9,d1(),Z6.bind(null,b,c),null)),[h,C,n]}function Z6(n,i){n.action=i}function Yp(n){var i=Vn(),c=Zt;if(c!==null)return Xp(i,c,n);Vn(),i=i.memoizedState,c=Vn();var h=c.queue.dispatch;return c.memoizedState=n,[i,h,!1]}function Qc(n,i,c,h){return n={tag:n,create:c,deps:h,inst:i,next:null},i=gt.updateQueue,i===null&&(i=qx(),gt.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,i.lastEffect=n),n}function d1(){return{destroy:void 0,resource:void 0}}function Qp(){return Vn().memoizedState}function h1(n,i,c,h){var b=qr();h=h===void 0?null:h,gt.flags|=n,b.memoizedState=Qc(1|i,d1(),c,h)}function uf(n,i,c,h){var b=Vn();h=h===void 0?null:h;var C=b.memoizedState.inst;Zt!==null&&h!==null&&Yx(h,Zt.memoizedState.deps)?b.memoizedState=Qc(i,C,c,h):(gt.flags|=n,b.memoizedState=Qc(1|i,C,c,h))}function Kp(n,i){h1(8390656,8,n,i)}function Zp(n,i){uf(2048,8,n,i)}function Wp(n,i){return uf(4,2,n,i)}function qp(n,i){return uf(4,4,n,i)}function Jp(n,i){if(typeof i=="function"){n=n();var c=i(n);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function $p(n,i,c){c=c!=null?c.concat([n]):null,uf(4,4,Jp.bind(null,i,n),c)}function r2(){}function eb(n,i){var c=Vn();i=i===void 0?null:i;var h=c.memoizedState;return i!==null&&Yx(i,h[1])?h[0]:(c.memoizedState=[n,i],n)}function tb(n,i){var c=Vn();i=i===void 0?null:i;var h=c.memoizedState;if(i!==null&&Yx(i,h[1]))return h[0];if(h=n(),So){dr(!0);try{n()}finally{dr(!1)}}return c.memoizedState=[h,i],h}function i2(n,i,c){return c===void 0||(ul&1073741824)!==0?n.memoizedState=i:(n.memoizedState=c,n=i3(),gt.lanes|=n,pl|=n,c)}function nb(n,i,c,h){return f(c,i)?c:jc.current!==null?(n=i2(n,c,h),f(n,i)||(nr=!0),n):(ul&42)===0?(nr=!0,n.memoizedState=c):(n=i3(),gt.lanes|=n,pl|=n,i)}function rb(n,i,c,h,b){var C=J.p;J.p=C!==0&&8>C?C:8;var R=V.T,_={};V.T=_,l2(n,!1,i,c);try{var Q=b(),de=V.S;if(de!==null&&de(_,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ye=X6(Q,h);ff(n,i,ye,xi(n))}else ff(n,i,h,xi(n))}catch(Ce){ff(n,i,{then:function(){},status:"rejected",reason:Ce},xi())}finally{J.p=C,V.T=R}}function W6(){}function s2(n,i,c,h){if(n.tag!==5)throw Error(a(476));var b=ib(n).queue;rb(n,b,i,Ae,c===null?W6:function(){return sb(n),c(h)})}function ib(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:Ae},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:c},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function sb(n){var i=ib(n).next.queue;ff(n,i,{},xi())}function a2(){return Ir(Of)}function ab(){return Vn().memoizedState}function lb(){return Vn().memoizedState}function q6(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var c=xi();n=ol(c);var h=cl(i,n,c);h!==null&&(gi(h,i,c),sf(h,i,c)),i={cache:Ux()},n.payload=i;return}i=i.return}}function J6(n,i,c){var h=xi();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},x1(n)?cb(i,c):(c=Nx(n,i,c,h),c!==null&&(gi(c,n,h),ub(c,i,h)))}function ob(n,i,c){var h=xi();ff(n,i,c,h)}function ff(n,i,c,h){var b={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(x1(n))cb(i,b);else{var C=n.alternate;if(n.lanes===0&&(C===null||C.lanes===0)&&(C=i.lastRenderedReducer,C!==null))try{var R=i.lastRenderedState,_=C(R,c);if(b.hasEagerState=!0,b.eagerState=_,f(_,R))return qd(n,i,b,0),ln===null&&Wd(),!1}catch{}finally{}if(c=Nx(n,i,b,h),c!==null)return gi(c,n,h),ub(c,i,h),!0}return!1}function l2(n,i,c,h){if(h={lane:2,revertLane:F2(),action:h,hasEagerState:!1,eagerState:null,next:null},x1(n)){if(i)throw Error(a(479))}else i=Nx(n,c,h,2),i!==null&&gi(i,n,2)}function x1(n){var i=n.alternate;return n===gt||i!==null&&i===gt}function cb(n,i){Xc=o1=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function ub(n,i,c){if((c&4194048)!==0){var h=i.lanes;h&=n.pendingLanes,c|=h,i.lanes=c,Qr(n,c)}}var g1={readContext:Ir,use:u1,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln},fb={readContext:Ir,use:u1,useCallback:function(n,i){return qr().memoizedState=[n,i===void 0?null:i],n},useContext:Ir,useEffect:Kp,useImperativeHandle:function(n,i,c){c=c!=null?c.concat([n]):null,h1(4194308,4,Jp.bind(null,i,n),c)},useLayoutEffect:function(n,i){return h1(4194308,4,n,i)},useInsertionEffect:function(n,i){h1(4,2,n,i)},useMemo:function(n,i){var c=qr();i=i===void 0?null:i;var h=n();if(So){dr(!0);try{n()}finally{dr(!1)}}return c.memoizedState=[h,i],h},useReducer:function(n,i,c){var h=qr();if(c!==void 0){var b=c(i);if(So){dr(!0);try{c(i)}finally{dr(!1)}}}else b=i;return h.memoizedState=h.baseState=b,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:b},h.queue=n,n=n.dispatch=J6.bind(null,gt,n),[h.memoizedState,n]},useRef:function(n){var i=qr();return n={current:n},i.memoizedState=n},useState:function(n){n=t2(n);var i=n.queue,c=ob.bind(null,gt,i);return i.dispatch=c,[n.memoizedState,c]},useDebugValue:r2,useDeferredValue:function(n,i){var c=qr();return i2(c,n,i)},useTransition:function(){var n=t2(!1);return n=rb.bind(null,gt,n.queue,!0,!1),qr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,c){var h=gt,b=qr();if(Lt){if(c===void 0)throw Error(a(407));c=c()}else{if(c=i(),ln===null)throw Error(a(349));(Ot&124)!==0||Dp(h,i,c)}b.memoizedState=c;var C={value:c,getSnapshot:i};return b.queue=C,Kp(_p.bind(null,h,C,n),[n]),h.flags|=2048,Qc(9,d1(),Mp.bind(null,h,C,c,i),null),c},useId:function(){var n=qr(),i=ln.identifierPrefix;if(Lt){var c=ca,h=oa;c=(h&~(1<<32-Ht(h)-1)).toString(32)+c,i="«"+i+"R"+c,c=c1++,0<c&&(i+="H"+c.toString(32)),i+="»"}else c=Y6++,i="«"+i+"r"+c.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:a2,useFormState:Vp,useActionState:Vp,useOptimistic:function(n){var i=qr();i.memoizedState=i.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=l2.bind(null,gt,!0,c),c.dispatch=i,[n,i]},useMemoCache:Jx,useCacheRefresh:function(){return qr().memoizedState=q6.bind(null,gt)}},db={readContext:Ir,use:u1,useCallback:eb,useContext:Ir,useEffect:Zp,useImperativeHandle:$p,useInsertionEffect:Wp,useLayoutEffect:qp,useMemo:tb,useReducer:f1,useRef:Qp,useState:function(){return f1(da)},useDebugValue:r2,useDeferredValue:function(n,i){var c=Vn();return nb(c,Zt.memoizedState,n,i)},useTransition:function(){var n=f1(da)[0],i=Vn().memoizedState;return[typeof n=="boolean"?n:cf(n),i]},useSyncExternalStore:Bp,useId:ab,useHostTransitionStatus:a2,useFormState:jp,useActionState:jp,useOptimistic:function(n,i){var c=Vn();return kp(c,Zt,n,i)},useMemoCache:Jx,useCacheRefresh:lb},$6={readContext:Ir,use:u1,useCallback:eb,useContext:Ir,useEffect:Zp,useImperativeHandle:$p,useInsertionEffect:Wp,useLayoutEffect:qp,useMemo:tb,useReducer:e2,useRef:Qp,useState:function(){return e2(da)},useDebugValue:r2,useDeferredValue:function(n,i){var c=Vn();return Zt===null?i2(c,n,i):nb(c,Zt.memoizedState,n,i)},useTransition:function(){var n=e2(da)[0],i=Vn().memoizedState;return[typeof n=="boolean"?n:cf(n),i]},useSyncExternalStore:Bp,useId:ab,useHostTransitionStatus:a2,useFormState:Yp,useActionState:Yp,useOptimistic:function(n,i){var c=Vn();return Zt!==null?kp(c,Zt,n,i):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:Jx,useCacheRefresh:lb},Kc=null,df=0;function m1(n){var i=df;return df+=1,Kc===null&&(Kc=[]),Cp(Kc,n,i)}function hf(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function p1(n,i){throw i.$$typeof===N?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function hb(n){var i=n._init;return i(n._payload)}function xb(n){function i(ne,q){if(n){var oe=ne.deletions;oe===null?(ne.deletions=[q],ne.flags|=16):oe.push(q)}}function c(ne,q){if(!n)return null;for(;q!==null;)i(ne,q),q=q.sibling;return null}function h(ne){for(var q=new Map;ne!==null;)ne.key!==null?q.set(ne.key,ne):q.set(ne.index,ne),ne=ne.sibling;return q}function b(ne,q){return ne=la(ne,q),ne.index=0,ne.sibling=null,ne}function C(ne,q,oe){return ne.index=oe,n?(oe=ne.alternate,oe!==null?(oe=oe.index,oe<q?(ne.flags|=67108866,q):oe):(ne.flags|=67108866,q)):(ne.flags|=1048576,q)}function R(ne){return n&&ne.alternate===null&&(ne.flags|=67108866),ne}function _(ne,q,oe,Ee){return q===null||q.tag!==6?(q=Rx(oe,ne.mode,Ee),q.return=ne,q):(q=b(q,oe),q.return=ne,q)}function Q(ne,q,oe,Ee){var Ke=oe.type;return Ke===P?ye(ne,q,oe.props.children,Ee,oe.key):q!==null&&(q.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ue&&hb(Ke)===q.type)?(q=b(q,oe.props),hf(q,oe),q.return=ne,q):(q=$d(oe.type,oe.key,oe.props,null,ne.mode,Ee),hf(q,oe),q.return=ne,q)}function de(ne,q,oe,Ee){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Ox(oe,ne.mode,Ee),q.return=ne,q):(q=b(q,oe.children||[]),q.return=ne,q)}function ye(ne,q,oe,Ee,Ke){return q===null||q.tag!==7?(q=mo(oe,ne.mode,Ee,Ke),q.return=ne,q):(q=b(q,oe),q.return=ne,q)}function Ce(ne,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Rx(""+q,ne.mode,oe),q.return=ne,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return oe=$d(q.type,q.key,q.props,null,ne.mode,oe),hf(oe,q),oe.return=ne,oe;case L:return q=Ox(q,ne.mode,oe),q.return=ne,q;case ue:var Ee=q._init;return q=Ee(q._payload),Ce(ne,q,oe)}if(H(q)||Oe(q))return q=mo(q,ne.mode,oe,null),q.return=ne,q;if(typeof q.then=="function")return Ce(ne,m1(q),oe);if(q.$$typeof===Z)return Ce(ne,r1(ne,q),oe);p1(ne,q)}return null}function he(ne,q,oe,Ee){var Ke=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ke!==null?null:_(ne,q,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:return oe.key===Ke?Q(ne,q,oe,Ee):null;case L:return oe.key===Ke?de(ne,q,oe,Ee):null;case ue:return Ke=oe._init,oe=Ke(oe._payload),he(ne,q,oe,Ee)}if(H(oe)||Oe(oe))return Ke!==null?null:ye(ne,q,oe,Ee,null);if(typeof oe.then=="function")return he(ne,q,m1(oe),Ee);if(oe.$$typeof===Z)return he(ne,q,r1(ne,oe),Ee);p1(ne,oe)}return null}function me(ne,q,oe,Ee,Ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ne=ne.get(oe)||null,_(q,ne,""+Ee,Ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case D:return ne=ne.get(Ee.key===null?oe:Ee.key)||null,Q(q,ne,Ee,Ke);case L:return ne=ne.get(Ee.key===null?oe:Ee.key)||null,de(q,ne,Ee,Ke);case ue:var mt=Ee._init;return Ee=mt(Ee._payload),me(ne,q,oe,Ee,Ke)}if(H(Ee)||Oe(Ee))return ne=ne.get(oe)||null,ye(q,ne,Ee,Ke,null);if(typeof Ee.then=="function")return me(ne,q,oe,m1(Ee),Ke);if(Ee.$$typeof===Z)return me(ne,q,oe,r1(q,Ee),Ke);p1(q,Ee)}return null}function rt(ne,q,oe,Ee){for(var Ke=null,mt=null,Je=q,nt=q=0,ir=null;Je!==null&&nt<oe.length;nt++){Je.index>nt?(ir=Je,Je=null):ir=Je.sibling;var Dt=he(ne,Je,oe[nt],Ee);if(Dt===null){Je===null&&(Je=ir);break}n&&Je&&Dt.alternate===null&&i(ne,Je),q=C(Dt,q,nt),mt===null?Ke=Dt:mt.sibling=Dt,mt=Dt,Je=ir}if(nt===oe.length)return c(ne,Je),Lt&&bo(ne,nt),Ke;if(Je===null){for(;nt<oe.length;nt++)Je=Ce(ne,oe[nt],Ee),Je!==null&&(q=C(Je,q,nt),mt===null?Ke=Je:mt.sibling=Je,mt=Je);return Lt&&bo(ne,nt),Ke}for(Je=h(Je);nt<oe.length;nt++)ir=me(Je,ne,nt,oe[nt],Ee),ir!==null&&(n&&ir.alternate!==null&&Je.delete(ir.key===null?nt:ir.key),q=C(ir,q,nt),mt===null?Ke=ir:mt.sibling=ir,mt=ir);return n&&Je.forEach(function(Nl){return i(ne,Nl)}),Lt&&bo(ne,nt),Ke}function tt(ne,q,oe,Ee){if(oe==null)throw Error(a(151));for(var Ke=null,mt=null,Je=q,nt=q=0,ir=null,Dt=oe.next();Je!==null&&!Dt.done;nt++,Dt=oe.next()){Je.index>nt?(ir=Je,Je=null):ir=Je.sibling;var Nl=he(ne,Je,Dt.value,Ee);if(Nl===null){Je===null&&(Je=ir);break}n&&Je&&Nl.alternate===null&&i(ne,Je),q=C(Nl,q,nt),mt===null?Ke=Nl:mt.sibling=Nl,mt=Nl,Je=ir}if(Dt.done)return c(ne,Je),Lt&&bo(ne,nt),Ke;if(Je===null){for(;!Dt.done;nt++,Dt=oe.next())Dt=Ce(ne,Dt.value,Ee),Dt!==null&&(q=C(Dt,q,nt),mt===null?Ke=Dt:mt.sibling=Dt,mt=Dt);return Lt&&bo(ne,nt),Ke}for(Je=h(Je);!Dt.done;nt++,Dt=oe.next())Dt=me(Je,ne,nt,Dt.value,Ee),Dt!==null&&(n&&Dt.alternate!==null&&Je.delete(Dt.key===null?nt:Dt.key),q=C(Dt,q,nt),mt===null?Ke=Dt:mt.sibling=Dt,mt=Dt);return n&&Je.forEach(function(eE){return i(ne,eE)}),Lt&&bo(ne,nt),Ke}function qt(ne,q,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===P&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:e:{for(var Ke=oe.key;q!==null;){if(q.key===Ke){if(Ke=oe.type,Ke===P){if(q.tag===7){c(ne,q.sibling),Ee=b(q,oe.props.children),Ee.return=ne,ne=Ee;break e}}else if(q.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ue&&hb(Ke)===q.type){c(ne,q.sibling),Ee=b(q,oe.props),hf(Ee,oe),Ee.return=ne,ne=Ee;break e}c(ne,q);break}else i(ne,q);q=q.sibling}oe.type===P?(Ee=mo(oe.props.children,ne.mode,Ee,oe.key),Ee.return=ne,ne=Ee):(Ee=$d(oe.type,oe.key,oe.props,null,ne.mode,Ee),hf(Ee,oe),Ee.return=ne,ne=Ee)}return R(ne);case L:e:{for(Ke=oe.key;q!==null;){if(q.key===Ke)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){c(ne,q.sibling),Ee=b(q,oe.children||[]),Ee.return=ne,ne=Ee;break e}else{c(ne,q);break}else i(ne,q);q=q.sibling}Ee=Ox(oe,ne.mode,Ee),Ee.return=ne,ne=Ee}return R(ne);case ue:return Ke=oe._init,oe=Ke(oe._payload),qt(ne,q,oe,Ee)}if(H(oe))return rt(ne,q,oe,Ee);if(Oe(oe)){if(Ke=Oe(oe),typeof Ke!="function")throw Error(a(150));return oe=Ke.call(oe),tt(ne,q,oe,Ee)}if(typeof oe.then=="function")return qt(ne,q,m1(oe),Ee);if(oe.$$typeof===Z)return qt(ne,q,r1(ne,oe),Ee);p1(ne,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,q!==null&&q.tag===6?(c(ne,q.sibling),Ee=b(q,oe),Ee.return=ne,ne=Ee):(c(ne,q),Ee=Rx(oe,ne.mode,Ee),Ee.return=ne,ne=Ee),R(ne)):c(ne,q)}return function(ne,q,oe,Ee){try{df=0;var Ke=qt(ne,q,oe,Ee);return Kc=null,Ke}catch(Je){if(Je===nf||Je===s1)throw Je;var mt=ui(29,Je,null,ne.mode);return mt.lanes=Ee,mt.return=ne,mt}finally{}}}var Zc=xb(!0),gb=xb(!1),Ii=be(null),Bs=null;function fl(n){var i=n.alternate;_e(qn,qn.current&1),_e(Ii,n),Bs===null&&(i===null||jc.current!==null||i.memoizedState!==null)&&(Bs=n)}function mb(n){if(n.tag===22){if(_e(qn,qn.current),_e(Ii,n),Bs===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Bs=n)}}else dl()}function dl(){_e(qn,qn.current),_e(Ii,Ii.current)}function ha(n){Ne(Ii),Bs===n&&(Bs=null),Ne(qn)}var qn=be(0);function b1(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||q2(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function o2(n,i,c,h){i=n.memoizedState,c=c(h,i),c=c==null?i:T({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var c2={enqueueSetState:function(n,i,c){n=n._reactInternals;var h=xi(),b=ol(h);b.payload=i,c!=null&&(b.callback=c),i=cl(n,b,h),i!==null&&(gi(i,n,h),sf(i,n,h))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var h=xi(),b=ol(h);b.tag=1,b.payload=i,c!=null&&(b.callback=c),i=cl(n,b,h),i!==null&&(gi(i,n,h),sf(i,n,h))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=xi(),h=ol(c);h.tag=2,i!=null&&(h.callback=i),i=cl(n,h,c),i!==null&&(gi(i,n,c),sf(i,n,c))}};function pb(n,i,c,h,b,C,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,C,R):i.prototype&&i.prototype.isPureReactComponent?!d(c,h)||!d(b,C):!0}function bb(n,i,c,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==n&&c2.enqueueReplaceState(i,i.state,null)}function To(n,i){var c=i;if("ref"in i){c={};for(var h in i)h!=="ref"&&(c[h]=i[h])}if(n=n.defaultProps){c===i&&(c=T({},c));for(var b in n)c[b]===void 0&&(c[b]=n[b])}return c}var y1=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function yb(n){y1(n)}function wb(n){console.error(n)}function Ab(n){y1(n)}function w1(n,i){try{var c=n.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function Eb(n,i,c){try{var h=n.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function u2(n,i,c){return c=ol(c),c.tag=3,c.payload={element:null},c.callback=function(){w1(n,i)},c}function Cb(n){return n=ol(n),n.tag=3,n}function Sb(n,i,c,h){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var C=h.value;n.payload=function(){return b(C)},n.callback=function(){Eb(i,c,h)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){Eb(i,c,h),typeof b!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function eA(n,i,c,h,b){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=c.alternate,i!==null&&$u(i,c,b,!0),c=Ii.current,c!==null){switch(c.tag){case 13:return Bs===null?_2():c.alternate===null&&vn===0&&(vn=3),c.flags&=-257,c.flags|=65536,c.lanes=b,h===Fx?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([h]):i.add(h),U2(n,h,b)),!1;case 22:return c.flags|=65536,h===Fx?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([h]):c.add(h)),U2(n,h,b)),!1}throw Error(a(435,c.tag))}return U2(n,h,b),_2(),!1}if(Lt)return i=Ii.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=b,h!==Dx&&(n=Error(a(422),{cause:h}),Ju(Ni(n,c)))):(h!==Dx&&(i=Error(a(423),{cause:h}),Ju(Ni(i,c))),n=n.current.alternate,n.flags|=65536,b&=-b,n.lanes|=b,h=Ni(h,c),b=u2(n.stateNode,h,b),zx(n,b),vn!==4&&(vn=2)),!1;var C=Error(a(520),{cause:h});if(C=Ni(C,c),wf===null?wf=[C]:wf.push(C),vn!==4&&(vn=2),i===null)return!0;h=Ni(h,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,n=b&-b,c.lanes|=n,n=u2(c.stateNode,h,n),zx(c,n),!1;case 1:if(i=c.type,C=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(bl===null||!bl.has(C))))return c.flags|=65536,b&=-b,c.lanes|=b,b=Cb(b),Sb(b,n,c,h),zx(c,b),!1}c=c.return}while(c!==null);return!1}var Tb=Error(a(461)),nr=!1;function xr(n,i,c,h){i.child=n===null?gb(i,null,c,h):Zc(i,n.child,c,h)}function Nb(n,i,c,h,b){c=c.render;var C=i.ref;if("ref"in h){var R={};for(var _ in h)_!=="ref"&&(R[_]=h[_])}else R=h;return Eo(i),h=Qx(n,i,c,R,C,b),_=Kx(),n!==null&&!nr?(Zx(n,i,b),xa(n,i,b)):(Lt&&_&&Ix(i),i.flags|=1,xr(n,i,h,b),i.child)}function vb(n,i,c,h,b){if(n===null){var C=c.type;return typeof C=="function"&&!vx(C)&&C.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=C,Rb(n,i,C,h,b)):(n=$d(c.type,null,h,i,i.mode,b),n.ref=i.ref,n.return=i,i.child=n)}if(C=n.child,!b2(n,b)){var R=C.memoizedProps;if(c=c.compare,c=c!==null?c:d,c(R,h)&&n.ref===i.ref)return xa(n,i,b)}return i.flags|=1,n=la(C,h),n.ref=i.ref,n.return=i,i.child=n}function Rb(n,i,c,h,b){if(n!==null){var C=n.memoizedProps;if(d(C,h)&&n.ref===i.ref)if(nr=!1,i.pendingProps=h=C,b2(n,b))(n.flags&131072)!==0&&(nr=!0);else return i.lanes=n.lanes,xa(n,i,b)}return f2(n,i,c,h,b)}function Ob(n,i,c){var h=i.pendingProps,b=h.children,C=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((i.flags&128)!==0){if(h=C!==null?C.baseLanes|c:c,n!==null){for(b=i.child=n.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;i.childLanes=C&~h}else i.childLanes=0,i.child=null;return Ib(n,i,h,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&i1(i,C!==null?C.cachePool:null),C!==null?Rp(i,C):jx(),mb(i);else return i.lanes=i.childLanes=536870912,Ib(n,i,C!==null?C.baseLanes|c:c,c)}else C!==null?(i1(i,C.cachePool),Rp(i,C),dl(),i.memoizedState=null):(n!==null&&i1(i,null),jx(),dl());return xr(n,i,b,c),i.child}function Ib(n,i,c,h){var b=Px();return b=b===null?null:{parent:Wn._currentValue,pool:b},i.memoizedState={baseLanes:c,cachePool:b},n!==null&&i1(i,null),jx(),mb(i),n!==null&&$u(n,i,h,!0),null}function A1(n,i){var c=i.ref;if(c===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(n===null||n.ref!==c)&&(i.flags|=4194816)}}function f2(n,i,c,h,b){return Eo(i),c=Qx(n,i,c,h,void 0,b),h=Kx(),n!==null&&!nr?(Zx(n,i,b),xa(n,i,b)):(Lt&&h&&Ix(i),i.flags|=1,xr(n,i,c,b),i.child)}function Bb(n,i,c,h,b,C){return Eo(i),i.updateQueue=null,c=Ip(i,h,c,b),Op(n),h=Kx(),n!==null&&!nr?(Zx(n,i,C),xa(n,i,C)):(Lt&&h&&Ix(i),i.flags|=1,xr(n,i,c,C),i.child)}function Db(n,i,c,h,b){if(Eo(i),i.stateNode===null){var C=Fc,R=c.contextType;typeof R=="object"&&R!==null&&(C=Ir(R)),C=new c(h,C),i.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=c2,i.stateNode=C,C._reactInternals=i,C=i.stateNode,C.props=h,C.state=i.memoizedState,C.refs={},Hx(i),R=c.contextType,C.context=typeof R=="object"&&R!==null?Ir(R):Fc,C.state=i.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(o2(i,c,R,h),C.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(R=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),R!==C.state&&c2.enqueueReplaceState(C,C.state,null),lf(i,h,C,b),af(),C.state=i.memoizedState),typeof C.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(n===null){C=i.stateNode;var _=i.memoizedProps,Q=To(c,_);C.props=Q;var de=C.context,ye=c.contextType;R=Fc,typeof ye=="object"&&ye!==null&&(R=Ir(ye));var Ce=c.getDerivedStateFromProps;ye=typeof Ce=="function"||typeof C.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,ye||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(_||de!==R)&&bb(i,C,h,R),ll=!1;var he=i.memoizedState;C.state=he,lf(i,h,C,b),af(),de=i.memoizedState,_||he!==de||ll?(typeof Ce=="function"&&(o2(i,c,Ce,h),de=i.memoizedState),(Q=ll||pb(i,c,Q,h,he,de,R))?(ye||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=de),C.props=h,C.state=de,C.context=R,h=Q):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{C=i.stateNode,Gx(n,i),R=i.memoizedProps,ye=To(c,R),C.props=ye,Ce=i.pendingProps,he=C.context,de=c.contextType,Q=Fc,typeof de=="object"&&de!==null&&(Q=Ir(de)),_=c.getDerivedStateFromProps,(de=typeof _=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==Ce||he!==Q)&&bb(i,C,h,Q),ll=!1,he=i.memoizedState,C.state=he,lf(i,h,C,b),af();var me=i.memoizedState;R!==Ce||he!==me||ll||n!==null&&n.dependencies!==null&&n1(n.dependencies)?(typeof _=="function"&&(o2(i,c,_,h),me=i.memoizedState),(ye=ll||pb(i,c,ye,h,he,me,Q)||n!==null&&n.dependencies!==null&&n1(n.dependencies))?(de||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,me,Q),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,me,Q)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=me),C.props=h,C.state=me,C.context=Q,h=ye):(typeof C.componentDidUpdate!="function"||R===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),h=!1)}return C=h,A1(n,i),h=(i.flags&128)!==0,C||h?(C=i.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:C.render(),i.flags|=1,n!==null&&h?(i.child=Zc(i,n.child,null,b),i.child=Zc(i,null,c,b)):xr(n,i,c,b),i.memoizedState=C.state,n=i.child):n=xa(n,i,b),n}function Mb(n,i,c,h){return qu(),i.flags|=256,xr(n,i,c,h),i.child}var d2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function h2(n){return{baseLanes:n,cachePool:wp()}}function x2(n,i,c){return n=n!==null?n.childLanes&~c:0,i&&(n|=Bi),n}function _b(n,i,c){var h=i.pendingProps,b=!1,C=(i.flags&128)!==0,R;if((R=C)||(R=n!==null&&n.memoizedState===null?!1:(qn.current&2)!==0),R&&(b=!0,i.flags&=-129),R=(i.flags&32)!==0,i.flags&=-33,n===null){if(Lt){if(b?fl(i):dl(),Lt){var _=Nn,Q;if(Q=_){e:{for(Q=_,_=Is;Q.nodeType!==8;){if(!_){_=null;break e}if(Q=es(Q.nextSibling),Q===null){_=null;break e}}_=Q}_!==null?(i.memoizedState={dehydrated:_,treeContext:po!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},Q=ui(18,null,null,0),Q.stateNode=_,Q.return=i,i.child=Q,Gr=i,Nn=null,Q=!0):Q=!1}Q||wo(i)}if(_=i.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return q2(_)?i.lanes=32:i.lanes=536870912,null;ha(i)}return _=h.children,h=h.fallback,b?(dl(),b=i.mode,_=E1({mode:"hidden",children:_},b),h=mo(h,b,c,null),_.return=i,h.return=i,_.sibling=h,i.child=_,b=i.child,b.memoizedState=h2(c),b.childLanes=x2(n,R,c),i.memoizedState=d2,h):(fl(i),g2(i,_))}if(Q=n.memoizedState,Q!==null&&(_=Q.dehydrated,_!==null)){if(C)i.flags&256?(fl(i),i.flags&=-257,i=m2(n,i,c)):i.memoizedState!==null?(dl(),i.child=n.child,i.flags|=128,i=null):(dl(),b=h.fallback,_=i.mode,h=E1({mode:"visible",children:h.children},_),b=mo(b,_,c,null),b.flags|=2,h.return=i,b.return=i,h.sibling=b,i.child=h,Zc(i,n.child,null,c),h=i.child,h.memoizedState=h2(c),h.childLanes=x2(n,R,c),i.memoizedState=d2,i=b);else if(fl(i),q2(_)){if(R=_.nextSibling&&_.nextSibling.dataset,R)var de=R.dgst;R=de,h=Error(a(419)),h.stack="",h.digest=R,Ju({value:h,source:null,stack:null}),i=m2(n,i,c)}else if(nr||$u(n,i,c,!1),R=(c&n.childLanes)!==0,nr||R){if(R=ln,R!==null&&(h=c&-c,h=(h&42)!==0?1:io(h),h=(h&(R.suspendedLanes|c))!==0?0:h,h!==0&&h!==Q.retryLane))throw Q.retryLane=h,Pc(n,h),gi(R,n,h),Tb;_.data==="$?"||_2(),i=m2(n,i,c)}else _.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=Q.treeContext,Nn=es(_.nextSibling),Gr=i,Lt=!0,yo=null,Is=!1,n!==null&&(Ri[Oi++]=oa,Ri[Oi++]=ca,Ri[Oi++]=po,oa=n.id,ca=n.overflow,po=i),i=g2(i,h.children),i.flags|=4096);return i}return b?(dl(),b=h.fallback,_=i.mode,Q=n.child,de=Q.sibling,h=la(Q,{mode:"hidden",children:h.children}),h.subtreeFlags=Q.subtreeFlags&65011712,de!==null?b=la(de,b):(b=mo(b,_,c,null),b.flags|=2),b.return=i,h.return=i,h.sibling=b,i.child=h,h=b,b=i.child,_=n.child.memoizedState,_===null?_=h2(c):(Q=_.cachePool,Q!==null?(de=Wn._currentValue,Q=Q.parent!==de?{parent:de,pool:de}:Q):Q=wp(),_={baseLanes:_.baseLanes|c,cachePool:Q}),b.memoizedState=_,b.childLanes=x2(n,R,c),i.memoizedState=d2,h):(fl(i),c=n.child,n=c.sibling,c=la(c,{mode:"visible",children:h.children}),c.return=i,c.sibling=null,n!==null&&(R=i.deletions,R===null?(i.deletions=[n],i.flags|=16):R.push(n)),i.child=c,i.memoizedState=null,c)}function g2(n,i){return i=E1({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function E1(n,i){return n=ui(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function m2(n,i,c){return Zc(i,n.child,null,c),n=g2(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Lb(n,i,c){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),_x(n.return,i,c)}function p2(n,i,c,h,b){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:b}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=b)}function Ub(n,i,c){var h=i.pendingProps,b=h.revealOrder,C=h.tail;if(xr(n,i,h.children,c),h=qn.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lb(n,c,i);else if(n.tag===19)Lb(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(_e(qn,h),b){case"forwards":for(c=i.child,b=null;c!==null;)n=c.alternate,n!==null&&b1(n)===null&&(b=c),c=c.sibling;c=b,c===null?(b=i.child,i.child=null):(b=c.sibling,c.sibling=null),p2(i,!1,b,c,C);break;case"backwards":for(c=null,b=i.child,i.child=null;b!==null;){if(n=b.alternate,n!==null&&b1(n)===null){i.child=b;break}n=b.sibling,b.sibling=c,c=b,b=n}p2(i,!0,c,null,C);break;case"together":p2(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xa(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),pl|=i.lanes,(c&i.childLanes)===0)if(n!==null){if($u(n,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,c=la(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=la(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function b2(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&n1(n)))}function tA(n,i,c){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),al(i,Wn,n.memoizedState.cache),qu();break;case 27:case 5:Cr(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:al(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(fl(i),i.flags|=128,null):(c&i.child.childLanes)!==0?_b(n,i,c):(fl(i),n=xa(n,i,c),n!==null?n.sibling:null);fl(i);break;case 19:var b=(n.flags&128)!==0;if(h=(c&i.childLanes)!==0,h||($u(n,i,c,!1),h=(c&i.childLanes)!==0),b){if(h)return Ub(n,i,c);i.flags|=128}if(b=i.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),_e(qn,qn.current),h)break;return null;case 22:case 23:return i.lanes=0,Ob(n,i,c);case 24:al(i,Wn,n.memoizedState.cache)}return xa(n,i,c)}function kb(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps)nr=!0;else{if(!b2(n,c)&&(i.flags&128)===0)return nr=!1,tA(n,i,c);nr=(n.flags&131072)!==0}else nr=!1,Lt&&(i.flags&1048576)!==0&&hp(i,t1,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var h=i.elementType,b=h._init;if(h=b(h._payload),i.type=h,typeof h=="function")vx(h)?(n=To(h,n),i.tag=1,i=Db(null,i,h,n,c)):(i.tag=0,i=f2(null,i,h,n,c));else{if(h!=null){if(b=h.$$typeof,b===ie){i.tag=11,i=Nb(null,i,h,n,c);break e}else if(b===$){i.tag=14,i=vb(null,i,h,n,c);break e}}throw i=De(h)||h,Error(a(306,i,""))}}return i;case 0:return f2(n,i,i.type,i.pendingProps,c);case 1:return h=i.type,b=To(h,i.pendingProps),Db(n,i,h,b,c);case 3:e:{if(it(i,i.stateNode.containerInfo),n===null)throw Error(a(387));h=i.pendingProps;var C=i.memoizedState;b=C.element,Gx(n,i),lf(i,h,null,c);var R=i.memoizedState;if(h=R.cache,al(i,Wn,h),h!==C.cache&&Lx(i,[Wn],c,!0),af(),h=R.element,C.isDehydrated)if(C={element:h,isDehydrated:!1,cache:R.cache},i.updateQueue.baseState=C,i.memoizedState=C,i.flags&256){i=Mb(n,i,h,c);break e}else if(h!==b){b=Ni(Error(a(424)),i),Ju(b),i=Mb(n,i,h,c);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Nn=es(n.firstChild),Gr=i,Lt=!0,yo=null,Is=!0,c=gb(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(qu(),h===b){i=xa(n,i,c);break e}xr(n,i,h,c)}i=i.child}return i;case 26:return A1(n,i),n===null?(c=G3(i.type,null,i.pendingProps,null))?i.memoizedState=c:Lt||(c=i.type,n=i.pendingProps,h=U1(ve.current).createElement(c),h[$n]=i,h[Cn]=n,mr(h,c,n),Gt(h),i.stateNode=h):i.memoizedState=G3(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Cr(i),n===null&&Lt&&(h=i.stateNode=P3(i.type,i.pendingProps,ve.current),Gr=i,Is=!0,b=Nn,Al(i.type)?(J2=b,Nn=es(h.firstChild)):Nn=b),xr(n,i,i.pendingProps.children,c),A1(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Lt&&((b=h=Nn)&&(h=OA(h,i.type,i.pendingProps,Is),h!==null?(i.stateNode=h,Gr=i,Nn=es(h.firstChild),Is=!1,b=!0):b=!1),b||wo(i)),Cr(i),b=i.type,C=i.pendingProps,R=n!==null?n.memoizedProps:null,h=C.children,K2(b,C)?h=null:R!==null&&K2(b,R)&&(i.flags|=32),i.memoizedState!==null&&(b=Qx(n,i,Q6,null,null,c),Of._currentValue=b),A1(n,i),xr(n,i,h,c),i.child;case 6:return n===null&&Lt&&((n=c=Nn)&&(c=IA(c,i.pendingProps,Is),c!==null?(i.stateNode=c,Gr=i,Nn=null,n=!0):n=!1),n||wo(i)),null;case 13:return _b(n,i,c);case 4:return it(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=Zc(i,null,h,c):xr(n,i,h,c),i.child;case 11:return Nb(n,i,i.type,i.pendingProps,c);case 7:return xr(n,i,i.pendingProps,c),i.child;case 8:return xr(n,i,i.pendingProps.children,c),i.child;case 12:return xr(n,i,i.pendingProps.children,c),i.child;case 10:return h=i.pendingProps,al(i,i.type,h.value),xr(n,i,h.children,c),i.child;case 9:return b=i.type._context,h=i.pendingProps.children,Eo(i),b=Ir(b),h=h(b),i.flags|=1,xr(n,i,h,c),i.child;case 14:return vb(n,i,i.type,i.pendingProps,c);case 15:return Rb(n,i,i.type,i.pendingProps,c);case 19:return Ub(n,i,c);case 31:return h=i.pendingProps,c=i.mode,h={mode:h.mode,children:h.children},n===null?(c=E1(h,c),c.ref=i.ref,i.child=c,c.return=i,i=c):(c=la(n.child,h),c.ref=i.ref,i.child=c,c.return=i,i=c),i;case 22:return Ob(n,i,c);case 24:return Eo(i),h=Ir(Wn),n===null?(b=Px(),b===null&&(b=ln,C=Ux(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=c),b=C),i.memoizedState={parent:h,cache:b},Hx(i),al(i,Wn,b)):((n.lanes&c)!==0&&(Gx(n,i),lf(i,null,null,c),af()),b=n.memoizedState,C=i.memoizedState,b.parent!==h?(b={parent:h,cache:h},i.memoizedState=b,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=b),al(i,Wn,h)):(h=C.cache,al(i,Wn,h),h!==b.cache&&Lx(i,[Wn],c,!0))),xr(n,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ga(n){n.flags|=4}function Pb(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Y3(i)){if(i=Ii.current,i!==null&&((Ot&4194048)===Ot?Bs!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||i!==Bs))throw rf=Fx,Ap;n.flags|=8192}}function C1(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Fu():536870912,n.lanes|=i,$c|=i)}function xf(n,i){if(!Lt)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function bn(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(i)for(var b=n.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=n,b=b.sibling;else for(b=n.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=n,b=b.sibling;return n.subtreeFlags|=h,n.childLanes=c,i}function nA(n,i,c){var h=i.pendingProps;switch(Bx(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(i),null;case 1:return bn(i),null;case 3:return c=i.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),fa(Wn),An(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Wu(i)?ga(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mp())),bn(i),null;case 26:return c=i.memoizedState,n===null?(ga(i),c!==null?(bn(i),Pb(i,c)):(bn(i),i.flags&=-16777217)):c?c!==n.memoizedState?(ga(i),bn(i),Pb(i,c)):(bn(i),i.flags&=-16777217):(n.memoizedProps!==h&&ga(i),bn(i),i.flags&=-16777217),null;case 27:En(i),c=ve.current;var b=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==h&&ga(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return bn(i),null}n=ke.current,Wu(i)?xp(i):(n=P3(b,h,c),i.stateNode=n,ga(i))}return bn(i),null;case 5:if(En(i),c=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==h&&ga(i);else{if(!h){if(i.stateNode===null)throw Error(a(166));return bn(i),null}if(n=ke.current,Wu(i))xp(i);else{switch(b=U1(ve.current),n){case 1:n=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:n=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":n=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":n=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?b.createElement("select",{is:h.is}):b.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?b.createElement(c,{is:h.is}):b.createElement(c)}}n[$n]=i,n[Cn]=h;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)n.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=n;e:switch(mr(n,c,h),c){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ga(i)}}return bn(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==h&&ga(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(a(166));if(n=ve.current,Wu(i)){if(n=i.stateNode,c=i.memoizedProps,h=null,b=Gr,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}n[$n]=i,n=!!(n.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||B3(n.nodeValue,c)),n||wo(i)}else n=U1(n).createTextNode(h),n[$n]=i,i.stateNode=n}return bn(i),null;case 13:if(h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(b=Wu(i),h!==null&&h.dehydrated!==null){if(n===null){if(!b)throw Error(a(318));if(b=i.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[$n]=i}else qu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bn(i),b=!1}else b=mp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=b),b=!0;if(!b)return i.flags&256?(ha(i),i):(ha(i),null)}if(ha(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=h!==null,n=n!==null&&n.memoizedState!==null,c){h=i.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool);var C=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(C=h.memoizedState.cachePool.pool),C!==b&&(h.flags|=2048)}return c!==n&&c&&(i.child.flags|=8192),C1(i,i.updateQueue),bn(i),null;case 4:return An(),n===null&&V2(i.stateNode.containerInfo),bn(i),null;case 10:return fa(i.type),bn(i),null;case 19:if(Ne(qn),b=i.memoizedState,b===null)return bn(i),null;if(h=(i.flags&128)!==0,C=b.rendering,C===null)if(h)xf(b,!1);else{if(vn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(C=b1(n),C!==null){for(i.flags|=128,xf(b,!1),n=C.updateQueue,i.updateQueue=n,C1(i,n),i.subtreeFlags=0,n=c,c=i.child;c!==null;)dp(c,n),c=c.sibling;return _e(qn,qn.current&1|2),i.child}n=n.sibling}b.tail!==null&&Yt()>N1&&(i.flags|=128,h=!0,xf(b,!1),i.lanes=4194304)}else{if(!h)if(n=b1(C),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,C1(i,n),xf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Lt)return bn(i),null}else 2*Yt()-b.renderingStartTime>N1&&c!==536870912&&(i.flags|=128,h=!0,xf(b,!1),i.lanes=4194304);b.isBackwards?(C.sibling=i.child,i.child=C):(n=b.last,n!==null?n.sibling=C:i.child=C,b.last=C)}return b.tail!==null?(i=b.tail,b.rendering=i,b.tail=i.sibling,b.renderingStartTime=Yt(),i.sibling=null,n=qn.current,_e(qn,h?n&1|2:n&1),i):(bn(i),null);case 22:case 23:return ha(i),Xx(),h=i.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(c&536870912)!==0&&(i.flags&128)===0&&(bn(i),i.subtreeFlags&6&&(i.flags|=8192)):bn(i),c=i.updateQueue,c!==null&&C1(i,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==c&&(i.flags|=2048),n!==null&&Ne(Co),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),fa(Wn),bn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function rA(n,i){switch(Bx(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return fa(Wn),An(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return En(i),null;case 13:if(ha(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));qu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ne(qn),null;case 4:return An(),null;case 10:return fa(i.type),null;case 22:case 23:return ha(i),Xx(),n!==null&&Ne(Co),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return fa(Wn),null;case 25:return null;default:return null}}function Fb(n,i){switch(Bx(i),i.tag){case 3:fa(Wn),An();break;case 26:case 27:case 5:En(i);break;case 4:An();break;case 13:ha(i);break;case 19:Ne(qn);break;case 10:fa(i.type);break;case 22:case 23:ha(i),Xx(),n!==null&&Ne(Co);break;case 24:fa(Wn)}}function gf(n,i){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&n)===n){h=void 0;var C=c.create,R=c.inst;h=C(),R.destroy=h}c=c.next}while(c!==b)}}catch(_){nn(i,i.return,_)}}function hl(n,i,c){try{var h=i.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var C=b.next;h=C;do{if((h.tag&n)===n){var R=h.inst,_=R.destroy;if(_!==void 0){R.destroy=void 0,b=i;var Q=c,de=_;try{de()}catch(ye){nn(b,Q,ye)}}}h=h.next}while(h!==C)}}catch(ye){nn(i,i.return,ye)}}function Hb(n){var i=n.updateQueue;if(i!==null){var c=n.stateNode;try{vp(i,c)}catch(h){nn(n,n.return,h)}}}function Gb(n,i,c){c.props=To(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(h){nn(n,i,h)}}function mf(n,i){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof c=="function"?n.refCleanup=c(h):c.current=h}}catch(b){nn(n,i,b)}}function Ds(n,i){var c=n.ref,h=n.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(b){nn(n,i,b)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){nn(n,i,b)}else c.current=null}function zb(n){var i=n.type,c=n.memoizedProps,h=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(b){nn(n,n.return,b)}}function y2(n,i,c){try{var h=n.stateNode;SA(h,n.type,c,i),h[Cn]=i}catch(b){nn(n,n.return,b)}}function Vb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Al(n.type)||n.tag===4}function w2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Al(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function A2(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(n),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=L1));else if(h!==4&&(h===27&&Al(n.type)&&(c=n.stateNode,i=null),n=n.child,n!==null))for(A2(n,i,c),n=n.sibling;n!==null;)A2(n,i,c),n=n.sibling}function S1(n,i,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(h!==4&&(h===27&&Al(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(S1(n,i,c),n=n.sibling;n!==null;)S1(n,i,c),n=n.sibling}function jb(n){var i=n.stateNode,c=n.memoizedProps;try{for(var h=n.type,b=i.attributes;b.length;)i.removeAttributeNode(b[0]);mr(i,h,c),i[$n]=n,i[Cn]=c}catch(C){nn(n,n.return,C)}}var ma=!1,Un=!1,E2=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,rr=null;function iA(n,i){if(n=n.containerInfo,Y2=z1,n=S(n),v(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var b=h.anchorOffset,C=h.focusNode;h=h.focusOffset;try{c.nodeType,C.nodeType}catch{c=null;break e}var R=0,_=-1,Q=-1,de=0,ye=0,Ce=n,he=null;t:for(;;){for(var me;Ce!==c||b!==0&&Ce.nodeType!==3||(_=R+b),Ce!==C||h!==0&&Ce.nodeType!==3||(Q=R+h),Ce.nodeType===3&&(R+=Ce.nodeValue.length),(me=Ce.firstChild)!==null;)he=Ce,Ce=me;for(;;){if(Ce===n)break t;if(he===c&&++de===b&&(_=R),he===C&&++ye===h&&(Q=R),(me=Ce.nextSibling)!==null)break;Ce=he,he=Ce.parentNode}Ce=me}c=_===-1||Q===-1?null:{start:_,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Q2={focusedElem:n,selectionRange:c},z1=!1,rr=i;rr!==null;)if(i=rr,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,rr=n;else for(;rr!==null;){switch(i=rr,C=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&C!==null){n=void 0,c=i,b=C.memoizedProps,C=C.memoizedState,h=c.stateNode;try{var rt=To(c.type,b,c.elementType===c.type);n=h.getSnapshotBeforeUpdate(rt,C),h.__reactInternalSnapshotBeforeUpdate=n}catch(tt){nn(c,c.return,tt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,c=n.nodeType,c===9)W2(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":W2(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,rr=n;break}rr=i.return}}function Yb(n,i,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:xl(n,c),h&4&&gf(5,c);break;case 1:if(xl(n,c),h&4)if(n=c.stateNode,i===null)try{n.componentDidMount()}catch(R){nn(c,c.return,R)}else{var b=To(c.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(b,i,n.__reactInternalSnapshotBeforeUpdate)}catch(R){nn(c,c.return,R)}}h&64&&Hb(c),h&512&&mf(c,c.return);break;case 3:if(xl(n,c),h&64&&(n=c.updateQueue,n!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{vp(n,i)}catch(R){nn(c,c.return,R)}}break;case 27:i===null&&h&4&&jb(c);case 26:case 5:xl(n,c),i===null&&h&4&&zb(c),h&512&&mf(c,c.return);break;case 12:xl(n,c);break;case 13:xl(n,c),h&4&&Zb(n,c),h&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=hA.bind(null,c),BA(n,c))));break;case 22:if(h=c.memoizedState!==null||ma,!h){i=i!==null&&i.memoizedState!==null||Un,b=ma;var C=Un;ma=h,(Un=i)&&!C?gl(n,c,(c.subtreeFlags&8772)!==0):xl(n,c),ma=b,Un=C}break;case 30:break;default:xl(n,c)}}function Qb(n){var i=n.alternate;i!==null&&(n.alternate=null,Qb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&so(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gn=null,Jr=!1;function pa(n,i,c){for(c=c.child;c!==null;)Kb(n,i,c),c=c.sibling}function Kb(n,i,c){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(fr,c)}catch{}switch(c.tag){case 26:Un||Ds(c,i),pa(n,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Un||Ds(c,i);var h=gn,b=Jr;Al(c.type)&&(gn=c.stateNode,Jr=!1),pa(n,i,c),Tf(c.stateNode),gn=h,Jr=b;break;case 5:Un||Ds(c,i);case 6:if(h=gn,b=Jr,gn=null,pa(n,i,c),gn=h,Jr=b,gn!==null)if(Jr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(c.stateNode)}catch(C){nn(c,i,C)}else try{gn.removeChild(c.stateNode)}catch(C){nn(c,i,C)}break;case 18:gn!==null&&(Jr?(n=gn,U3(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),Mf(n)):U3(gn,c.stateNode));break;case 4:h=gn,b=Jr,gn=c.stateNode.containerInfo,Jr=!0,pa(n,i,c),gn=h,Jr=b;break;case 0:case 11:case 14:case 15:Un||hl(2,c,i),Un||hl(4,c,i),pa(n,i,c);break;case 1:Un||(Ds(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Gb(c,i,h)),pa(n,i,c);break;case 21:pa(n,i,c);break;case 22:Un=(h=Un)||c.memoizedState!==null,pa(n,i,c),Un=h;break;default:pa(n,i,c)}}function Zb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Mf(n)}catch(c){nn(i,i.return,c)}}function sA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Xb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Xb),i;default:throw Error(a(435,n.tag))}}function C2(n,i){var c=sA(n);i.forEach(function(h){var b=xA.bind(null,n,h);c.has(h)||(c.add(h),h.then(b,b))})}function fi(n,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var b=c[h],C=n,R=i,_=R;e:for(;_!==null;){switch(_.tag){case 27:if(Al(_.type)){gn=_.stateNode,Jr=!1;break e}break;case 5:gn=_.stateNode,Jr=!1;break e;case 3:case 4:gn=_.stateNode.containerInfo,Jr=!0;break e}_=_.return}if(gn===null)throw Error(a(160));Kb(C,R,b),gn=null,Jr=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wb(i,n),i=i.sibling}var $i=null;function Wb(n,i){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fi(i,n),di(n),h&4&&(hl(3,n,n.return),gf(3,n),hl(5,n,n.return));break;case 1:fi(i,n),di(n),h&512&&(Un||c===null||Ds(c,c.return)),h&64&&ma&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var b=$i;if(fi(i,n),di(n),h&512&&(Un||c===null||Ds(c,c.return)),h&4){var C=c!==null?c.memoizedState:null;if(h=n.memoizedState,c===null)if(h===null)if(n.stateNode===null){e:{h=n.type,c=n.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":C=b.getElementsByTagName("title")[0],(!C||C[Si]||C[$n]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(h),b.head.insertBefore(C,b.querySelector("head > title"))),mr(C,h,c),C[$n]=n,Gt(C),h=C;break e;case"link":var R=j3("link","href",b).get(h+(c.href||""));if(R){for(var _=0;_<R.length;_++)if(C=R[_],C.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&C.getAttribute("rel")===(c.rel==null?null:c.rel)&&C.getAttribute("title")===(c.title==null?null:c.title)&&C.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(_,1);break t}}C=b.createElement(h),mr(C,h,c),b.head.appendChild(C);break;case"meta":if(R=j3("meta","content",b).get(h+(c.content||""))){for(_=0;_<R.length;_++)if(C=R[_],C.getAttribute("content")===(c.content==null?null:""+c.content)&&C.getAttribute("name")===(c.name==null?null:c.name)&&C.getAttribute("property")===(c.property==null?null:c.property)&&C.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&C.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(_,1);break t}}C=b.createElement(h),mr(C,h,c),b.head.appendChild(C);break;default:throw Error(a(468,h))}C[$n]=n,Gt(C),h=C}n.stateNode=h}else X3(b,n.type,n.stateNode);else n.stateNode=V3(b,h,n.memoizedProps);else C!==h?(C===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):C.count--,h===null?X3(b,n.type,n.stateNode):V3(b,h,n.memoizedProps)):h===null&&n.stateNode!==null&&y2(n,n.memoizedProps,c.memoizedProps)}break;case 27:fi(i,n),di(n),h&512&&(Un||c===null||Ds(c,c.return)),c!==null&&h&4&&y2(n,n.memoizedProps,c.memoizedProps);break;case 5:if(fi(i,n),di(n),h&512&&(Un||c===null||Ds(c,c.return)),n.flags&32){b=n.stateNode;try{Qn(b,"")}catch(me){nn(n,n.return,me)}}h&4&&n.stateNode!=null&&(b=n.memoizedProps,y2(n,b,c!==null?c.memoizedProps:b)),h&1024&&(E2=!0);break;case 6:if(fi(i,n),di(n),h&4){if(n.stateNode===null)throw Error(a(162));h=n.memoizedProps,c=n.stateNode;try{c.nodeValue=h}catch(me){nn(n,n.return,me)}}break;case 3:if(F1=null,b=$i,$i=k1(i.containerInfo),fi(i,n),$i=b,di(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Mf(i.containerInfo)}catch(me){nn(n,n.return,me)}E2&&(E2=!1,qb(n));break;case 4:h=$i,$i=k1(n.stateNode.containerInfo),fi(i,n),di(n),$i=h;break;case 12:fi(i,n),di(n);break;case 13:fi(i,n),di(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(O2=Yt()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,C2(n,h)));break;case 22:b=n.memoizedState!==null;var Q=c!==null&&c.memoizedState!==null,de=ma,ye=Un;if(ma=de||b,Un=ye||Q,fi(i,n),Un=ye,ma=de,di(n),h&8192)e:for(i=n.stateNode,i._visibility=b?i._visibility&-2:i._visibility|1,b&&(c===null||Q||ma||Un||No(n)),c=null,i=n;;){if(i.tag===5||i.tag===26){if(c===null){Q=c=i;try{if(C=Q.stateNode,b)R=C.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{_=Q.stateNode;var Ce=Q.memoizedProps.style,he=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;_.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(me){nn(Q,Q.return,me)}}}else if(i.tag===6){if(c===null){Q=i;try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(me){nn(Q,Q.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=n.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,C2(n,c))));break;case 19:fi(i,n),di(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,C2(n,h)));break;case 30:break;case 21:break;default:fi(i,n),di(n)}}function di(n){var i=n.flags;if(i&2){try{for(var c,h=n.return;h!==null;){if(Vb(h)){c=h;break}h=h.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var b=c.stateNode,C=w2(n);S1(n,C,b);break;case 5:var R=c.stateNode;c.flags&32&&(Qn(R,""),c.flags&=-33);var _=w2(n);S1(n,_,R);break;case 3:case 4:var Q=c.stateNode.containerInfo,de=w2(n);A2(n,de,Q);break;default:throw Error(a(161))}}catch(ye){nn(n,n.return,ye)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function qb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;qb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function xl(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yb(n,i.alternate,i),i=i.sibling}function No(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:hl(4,i,i.return),No(i);break;case 1:Ds(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Gb(i,i.return,c),No(i);break;case 27:Tf(i.stateNode);case 26:case 5:Ds(i,i.return),No(i);break;case 22:i.memoizedState===null&&No(i);break;case 30:No(i);break;default:No(i)}n=n.sibling}}function gl(n,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,b=n,C=i,R=C.flags;switch(C.tag){case 0:case 11:case 15:gl(b,C,c),gf(4,C);break;case 1:if(gl(b,C,c),h=C,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(de){nn(h,h.return,de)}if(h=C,b=h.updateQueue,b!==null){var _=h.stateNode;try{var Q=b.shared.hiddenCallbacks;if(Q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Q.length;b++)Np(Q[b],_)}catch(de){nn(h,h.return,de)}}c&&R&64&&Hb(C),mf(C,C.return);break;case 27:jb(C);case 26:case 5:gl(b,C,c),c&&h===null&&R&4&&zb(C),mf(C,C.return);break;case 12:gl(b,C,c);break;case 13:gl(b,C,c),c&&R&4&&Zb(b,C);break;case 22:C.memoizedState===null&&gl(b,C,c),mf(C,C.return);break;case 30:break;default:gl(b,C,c)}i=i.sibling}}function S2(n,i){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&ef(c))}function T2(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ef(n))}function Ms(n,i,c,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jb(n,i,c,h),i=i.sibling}function Jb(n,i,c,h){var b=i.flags;switch(i.tag){case 0:case 11:case 15:Ms(n,i,c,h),b&2048&&gf(9,i);break;case 1:Ms(n,i,c,h);break;case 3:Ms(n,i,c,h),b&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ef(n)));break;case 12:if(b&2048){Ms(n,i,c,h),n=i.stateNode;try{var C=i.memoizedProps,R=C.id,_=C.onPostCommit;typeof _=="function"&&_(R,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Q){nn(i,i.return,Q)}}else Ms(n,i,c,h);break;case 13:Ms(n,i,c,h);break;case 23:break;case 22:C=i.stateNode,R=i.alternate,i.memoizedState!==null?C._visibility&2?Ms(n,i,c,h):pf(n,i):C._visibility&2?Ms(n,i,c,h):(C._visibility|=2,Wc(n,i,c,h,(i.subtreeFlags&10256)!==0)),b&2048&&S2(R,i);break;case 24:Ms(n,i,c,h),b&2048&&T2(i.alternate,i);break;default:Ms(n,i,c,h)}}function Wc(n,i,c,h,b){for(b=b&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var C=n,R=i,_=c,Q=h,de=R.flags;switch(R.tag){case 0:case 11:case 15:Wc(C,R,_,Q,b),gf(8,R);break;case 23:break;case 22:var ye=R.stateNode;R.memoizedState!==null?ye._visibility&2?Wc(C,R,_,Q,b):pf(C,R):(ye._visibility|=2,Wc(C,R,_,Q,b)),b&&de&2048&&S2(R.alternate,R);break;case 24:Wc(C,R,_,Q,b),b&&de&2048&&T2(R.alternate,R);break;default:Wc(C,R,_,Q,b)}i=i.sibling}}function pf(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=n,h=i,b=h.flags;switch(h.tag){case 22:pf(c,h),b&2048&&S2(h.alternate,h);break;case 24:pf(c,h),b&2048&&T2(h.alternate,h);break;default:pf(c,h)}i=i.sibling}}var bf=8192;function qc(n){if(n.subtreeFlags&bf)for(n=n.child;n!==null;)$b(n),n=n.sibling}function $b(n){switch(n.tag){case 26:qc(n),n.flags&bf&&n.memoizedState!==null&&jA($i,n.memoizedState,n.memoizedProps);break;case 5:qc(n);break;case 3:case 4:var i=$i;$i=k1(n.stateNode.containerInfo),qc(n),$i=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=bf,bf=16777216,qc(n),bf=i):qc(n));break;default:qc(n)}}function e3(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function yf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];rr=h,n3(h,n)}e3(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)t3(n),n=n.sibling}function t3(n){switch(n.tag){case 0:case 11:case 15:yf(n),n.flags&2048&&hl(9,n,n.return);break;case 3:yf(n);break;case 12:yf(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,T1(n)):yf(n);break;default:yf(n)}}function T1(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];rr=h,n3(h,n)}e3(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:hl(8,i,i.return),T1(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,T1(i));break;default:T1(i)}n=n.sibling}}function n3(n,i){for(;rr!==null;){var c=rr;switch(c.tag){case 0:case 11:case 15:hl(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ef(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,rr=h;else e:for(c=n;rr!==null;){h=rr;var b=h.sibling,C=h.return;if(Qb(h),h===c){rr=null;break e}if(b!==null){b.return=C,rr=b;break e}rr=C}}}var aA={getCacheForType:function(n){var i=Ir(Wn),c=i.data.get(n);return c===void 0&&(c=n(),i.data.set(n,c)),c}},lA=typeof WeakMap=="function"?WeakMap:Map,jt=0,ln=null,yt=null,Ot=0,Xt=0,hi=null,ml=!1,Jc=!1,N2=!1,ba=0,vn=0,pl=0,vo=0,v2=0,Bi=0,$c=0,wf=null,$r=null,R2=!1,O2=0,N1=1/0,v1=null,bl=null,gr=0,yl=null,e0=null,t0=0,I2=0,B2=null,r3=null,Af=0,D2=null;function xi(){if((jt&2)!==0&&Ot!==0)return Ot&-Ot;if(V.T!==null){var n=zc;return n!==0?n:F2()}return ea()}function i3(){Bi===0&&(Bi=(Ot&536870912)===0||Lt?Cc():536870912);var n=Ii.current;return n!==null&&(n.flags|=32),Bi}function gi(n,i,c){(n===ln&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)&&(n0(n,0),wl(n,Ot,Bi,!1)),ai(n,c),((jt&2)===0||n!==ln)&&(n===ln&&((jt&2)===0&&(vo|=c),vn===4&&wl(n,Ot,Bi,!1)),_s(n))}function s3(n,i,c){if((jt&6)!==0)throw Error(a(327));var h=!c&&(i&124)===0&&(i&n.expiredLanes)===0||Kt(n,i),b=h?uA(n,i):L2(n,i,!0),C=h;do{if(b===0){Jc&&!h&&wl(n,i,0,!1);break}else{if(c=n.current.alternate,C&&!oA(c)){b=L2(n,i,!1),C=!1;continue}if(b===2){if(C=i,n.errorRecoveryDisabledLanes&C)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){i=R;e:{var _=n;b=wf;var Q=_.current.memoizedState.isDehydrated;if(Q&&(n0(_,R).flags|=256),R=L2(_,R,!1),R!==2){if(N2&&!Q){_.errorRecoveryDisabledLanes|=C,vo|=C,b=4;break e}C=$r,$r=b,C!==null&&($r===null?$r=C:$r.push.apply($r,C))}b=R}if(C=!1,b!==2)continue}}if(b===1){n0(n,0),wl(n,i,0,!0);break}e:{switch(h=n,C=b,C){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:wl(h,i,Bi,!ml);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(b=O2+300-Yt(),10<b)){if(wl(h,i,Bi,!ml),It(h,0,!0)!==0)break e;h.timeoutHandle=_3(a3.bind(null,h,c,$r,v1,R2,i,Bi,vo,$c,ml,C,2,-0,0),b);break e}a3(h,c,$r,v1,R2,i,Bi,vo,$c,ml,C,0,-0,0)}}break}while(!0);_s(n)}function a3(n,i,c,h,b,C,R,_,Q,de,ye,Ce,he,me){if(n.timeoutHandle=-1,Ce=i.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(Rf={stylesheets:null,count:0,unsuspend:VA},$b(i),Ce=XA(),Ce!==null)){n.cancelPendingCommit=Ce(h3.bind(null,n,i,C,c,h,b,R,_,Q,ye,1,he,me)),wl(n,C,R,!de);return}h3(n,i,C,c,h,b,R,_,Q)}function oA(n){for(var i=n;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var b=c[h],C=b.getSnapshot;b=b.value;try{if(!f(C(),b))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wl(n,i,c,h){i&=~v2,i&=~vo,n.suspendedLanes|=i,n.pingedLanes&=~i,h&&(n.warmLanes|=i),h=n.expirationTimes;for(var b=i;0<b;){var C=31-Ht(b),R=1<<C;h[C]=-1,b&=~R}c!==0&&Hu(n,c,i)}function R1(){return(jt&6)===0?(Ef(0),!1):!0}function M2(){if(yt!==null){if(Xt===0)var n=yt.return;else n=yt,ua=Ao=null,Wx(n),Kc=null,df=0,n=yt;for(;n!==null;)Fb(n.alternate,n),n=n.return;yt=null}}function n0(n,i){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,NA(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),M2(),ln=n,yt=c=la(n.current,null),Ot=i,Xt=0,hi=null,ml=!1,Jc=Kt(n,i),N2=!1,$c=Bi=v2=vo=pl=vn=0,$r=wf=null,R2=!1,(i&8)!==0&&(i|=i&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=i;0<h;){var b=31-Ht(h),C=1<<b;i|=n[b],h&=~C}return ba=i,Wd(),c}function l3(n,i){gt=null,V.H=g1,i===nf||i===s1?(i=Sp(),Xt=3):i===Ap?(i=Sp(),Xt=4):Xt=i===Tb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hi=i,yt===null&&(vn=1,w1(n,Ni(i,n.current)))}function o3(){var n=V.H;return V.H=g1,n===null?g1:n}function c3(){var n=V.A;return V.A=aA,n}function _2(){vn=4,ml||(Ot&4194048)!==Ot&&Ii.current!==null||(Jc=!0),(pl&134217727)===0&&(vo&134217727)===0||ln===null||wl(ln,Ot,Bi,!1)}function L2(n,i,c){var h=jt;jt|=2;var b=o3(),C=c3();(ln!==n||Ot!==i)&&(v1=null,n0(n,i)),i=!1;var R=vn;e:do try{if(Xt!==0&&yt!==null){var _=yt,Q=hi;switch(Xt){case 8:M2(),R=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(i=!0);var de=Xt;if(Xt=0,hi=null,r0(n,_,Q,de),c&&Jc){R=0;break e}break;default:de=Xt,Xt=0,hi=null,r0(n,_,Q,de)}}cA(),R=vn;break}catch(ye){l3(n,ye)}while(!0);return i&&n.shellSuspendCounter++,ua=Ao=null,jt=h,V.H=b,V.A=C,yt===null&&(ln=null,Ot=0,Wd()),R}function cA(){for(;yt!==null;)u3(yt)}function uA(n,i){var c=jt;jt|=2;var h=o3(),b=c3();ln!==n||Ot!==i?(v1=null,N1=Yt()+500,n0(n,i)):Jc=Kt(n,i);e:do try{if(Xt!==0&&yt!==null){i=yt;var C=hi;t:switch(Xt){case 1:Xt=0,hi=null,r0(n,i,C,1);break;case 2:case 9:if(Ep(C)){Xt=0,hi=null,f3(i);break}i=function(){Xt!==2&&Xt!==9||ln!==n||(Xt=7),_s(n)},C.then(i,i);break e;case 3:Xt=7;break e;case 4:Xt=5;break e;case 7:Ep(C)?(Xt=0,hi=null,f3(i)):(Xt=0,hi=null,r0(n,i,C,7));break;case 5:var R=null;switch(yt.tag){case 26:R=yt.memoizedState;case 5:case 27:var _=yt;if(!R||Y3(R)){Xt=0,hi=null;var Q=_.sibling;if(Q!==null)yt=Q;else{var de=_.return;de!==null?(yt=de,O1(de)):yt=null}break t}}Xt=0,hi=null,r0(n,i,C,5);break;case 6:Xt=0,hi=null,r0(n,i,C,6);break;case 8:M2(),vn=6;break e;default:throw Error(a(462))}}fA();break}catch(ye){l3(n,ye)}while(!0);return ua=Ao=null,V.H=h,V.A=b,jt=c,yt!==null?0:(ln=null,Ot=0,Wd(),vn)}function fA(){for(;yt!==null&&!Pr();)u3(yt)}function u3(n){var i=kb(n.alternate,n,ba);n.memoizedProps=n.pendingProps,i===null?O1(n):yt=i}function f3(n){var i=n,c=i.alternate;switch(i.tag){case 15:case 0:i=Bb(c,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=Bb(c,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:Wx(i);default:Fb(c,i),i=yt=dp(i,ba),i=kb(c,i,ba)}n.memoizedProps=n.pendingProps,i===null?O1(n):yt=i}function r0(n,i,c,h){ua=Ao=null,Wx(i),Kc=null,df=0;var b=i.return;try{if(eA(n,b,i,c,Ot)){vn=1,w1(n,Ni(c,n.current)),yt=null;return}}catch(C){if(b!==null)throw yt=b,C;vn=1,w1(n,Ni(c,n.current)),yt=null;return}i.flags&32768?(Lt||h===1?n=!0:Jc||(Ot&536870912)!==0?n=!1:(ml=n=!0,(h===2||h===9||h===3||h===6)&&(h=Ii.current,h!==null&&h.tag===13&&(h.flags|=16384))),d3(i,n)):O1(i)}function O1(n){var i=n;do{if((i.flags&32768)!==0){d3(i,ml);return}n=i.return;var c=nA(i.alternate,i,ba);if(c!==null){yt=c;return}if(i=i.sibling,i!==null){yt=i;return}yt=i=n}while(i!==null);vn===0&&(vn=5)}function d3(n,i){do{var c=rA(n.alternate,n);if(c!==null){c.flags&=32767,yt=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(n=n.sibling,n!==null)){yt=n;return}yt=n=c}while(n!==null);vn=6,yt=null}function h3(n,i,c,h,b,C,R,_,Q){n.cancelPendingCommit=null;do I1();while(gr!==0);if((jt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(C=i.lanes|i.childLanes,C|=Tx,Fd(n,c,C,R,_,Q),n===ln&&(yt=ln=null,Ot=0),e0=i,yl=n,t0=c,I2=C,B2=b,r3=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gA(Ye,function(){return b3(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=V.T,V.T=null,b=J.p,J.p=2,R=jt,jt|=4;try{iA(n,i,c)}finally{jt=R,J.p=b,V.T=h}}gr=1,x3(),g3(),m3()}}function x3(){if(gr===1){gr=0;var n=yl,i=e0,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=V.T,V.T=null;var h=J.p;J.p=2;var b=jt;jt|=4;try{Wb(i,n);var C=Q2,R=S(n.containerInfo),_=C.focusedElem,Q=C.selectionRange;if(R!==_&&_&&_.ownerDocument&&A(_.ownerDocument.documentElement,_)){if(Q!==null&&v(_)){var de=Q.start,ye=Q.end;if(ye===void 0&&(ye=de),"selectionStart"in _)_.selectionStart=de,_.selectionEnd=Math.min(ye,_.value.length);else{var Ce=_.ownerDocument||document,he=Ce&&Ce.defaultView||window;if(he.getSelection){var me=he.getSelection(),rt=_.textContent.length,tt=Math.min(Q.start,rt),qt=Q.end===void 0?tt:Math.min(Q.end,rt);!me.extend&&tt>qt&&(R=qt,qt=tt,tt=R);var ne=m(_,tt),q=m(_,qt);if(ne&&q&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==q.node||me.focusOffset!==q.offset)){var oe=Ce.createRange();oe.setStart(ne.node,ne.offset),me.removeAllRanges(),tt>qt?(me.addRange(oe),me.extend(q.node,q.offset)):(oe.setEnd(q.node,q.offset),me.addRange(oe))}}}}for(Ce=[],me=_;me=me.parentNode;)me.nodeType===1&&Ce.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Ce.length;_++){var Ee=Ce[_];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}z1=!!Y2,Q2=Y2=null}finally{jt=b,J.p=h,V.T=c}}n.current=i,gr=2}}function g3(){if(gr===2){gr=0;var n=yl,i=e0,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=V.T,V.T=null;var h=J.p;J.p=2;var b=jt;jt|=4;try{Yb(n,i.alternate,i)}finally{jt=b,J.p=h,V.T=c}}gr=3}}function m3(){if(gr===4||gr===3){gr=0,ms();var n=yl,i=e0,c=t0,h=r3;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gr=5:(gr=0,e0=yl=null,p3(n,n.pendingLanes));var b=n.pendingLanes;if(b===0&&(bl=null),Hn(c),i=i.stateNode,Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(fr,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=V.T,b=J.p,J.p=2,V.T=null;try{for(var C=n.onRecoverableError,R=0;R<h.length;R++){var _=h[R];C(_.value,{componentStack:_.stack})}}finally{V.T=i,J.p=b}}(t0&3)!==0&&I1(),_s(n),b=n.pendingLanes,(c&4194090)!==0&&(b&42)!==0?n===D2?Af++:(Af=0,D2=n):Af=0,Ef(0)}}function p3(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ef(i)))}function I1(n){return x3(),g3(),m3(),b3()}function b3(){if(gr!==5)return!1;var n=yl,i=I2;I2=0;var c=Hn(t0),h=V.T,b=J.p;try{J.p=32>c?32:c,V.T=null,c=B2,B2=null;var C=yl,R=t0;if(gr=0,e0=yl=null,t0=0,(jt&6)!==0)throw Error(a(331));var _=jt;if(jt|=4,t3(C.current),Jb(C,C.current,R,c),jt=_,Ef(0,!1),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(fr,C)}catch{}return!0}finally{J.p=b,V.T=h,p3(n,i)}}function y3(n,i,c){i=Ni(c,i),i=u2(n.stateNode,i,2),n=cl(n,i,2),n!==null&&(ai(n,2),_s(n))}function nn(n,i,c){if(n.tag===3)y3(n,n,c);else for(;i!==null;){if(i.tag===3){y3(i,n,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bl===null||!bl.has(h))){n=Ni(c,n),c=Cb(2),h=cl(i,c,2),h!==null&&(Sb(c,h,i,n),ai(h,2),_s(h));break}}i=i.return}}function U2(n,i,c){var h=n.pingCache;if(h===null){h=n.pingCache=new lA;var b=new Set;h.set(i,b)}else b=h.get(i),b===void 0&&(b=new Set,h.set(i,b));b.has(c)||(N2=!0,b.add(c),n=dA.bind(null,n,i,c),i.then(n,n))}function dA(n,i,c){var h=n.pingCache;h!==null&&h.delete(i),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,ln===n&&(Ot&c)===c&&(vn===4||vn===3&&(Ot&62914560)===Ot&&300>Yt()-O2?(jt&2)===0&&n0(n,0):v2|=c,$c===Ot&&($c=0)),_s(n)}function w3(n,i){i===0&&(i=Fu()),n=Pc(n,i),n!==null&&(ai(n,i),_s(n))}function hA(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),w3(n,c)}function xA(n,i){var c=0;switch(n.tag){case 13:var h=n.stateNode,b=n.memoizedState;b!==null&&(c=b.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(i),w3(n,c)}function gA(n,i){return st(n,i)}var B1=null,i0=null,k2=!1,D1=!1,P2=!1,Ro=0;function _s(n){n!==i0&&n.next===null&&(i0===null?B1=i0=n:i0=i0.next=n),D1=!0,k2||(k2=!0,pA())}function Ef(n,i){if(!P2&&D1){P2=!0;do for(var c=!1,h=B1;h!==null;){if(n!==0){var b=h.pendingLanes;if(b===0)var C=0;else{var R=h.suspendedLanes,_=h.pingedLanes;C=(1<<31-Ht(42|n)+1)-1,C&=b&~(R&~_),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(c=!0,S3(h,C))}else C=Ot,C=It(h,h===ln?C:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(C&3)===0||Kt(h,C)||(c=!0,S3(h,C));h=h.next}while(c);P2=!1}}function mA(){A3()}function A3(){D1=k2=!1;var n=0;Ro!==0&&(TA()&&(n=Ro),Ro=0);for(var i=Yt(),c=null,h=B1;h!==null;){var b=h.next,C=E3(h,i);C===0?(h.next=null,c===null?B1=b:c.next=b,b===null&&(i0=c)):(c=h,(n!==0||(C&3)!==0)&&(D1=!0)),h=b}Ef(n)}function E3(n,i){for(var c=n.suspendedLanes,h=n.pingedLanes,b=n.expirationTimes,C=n.pendingLanes&-62914561;0<C;){var R=31-Ht(C),_=1<<R,Q=b[R];Q===-1?((_&c)===0||(_&h)!==0)&&(b[R]=ro(_,i)):Q<=i&&(n.expiredLanes|=_),C&=~_}if(i=ln,c=Ot,c=It(n,n===i?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,c===0||n===i&&(Xt===2||Xt===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&ur(h),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||Kt(n,c)){if(i=c&-c,i===n.callbackPriority)return i;switch(h!==null&&ur(h),Hn(c)){case 2:case 8:c=no;break;case 32:c=Ye;break;case 268435456:c=ku;break;default:c=Ye}return h=C3.bind(null,n),c=st(c,h),n.callbackPriority=i,n.callbackNode=c,i}return h!==null&&h!==null&&ur(h),n.callbackPriority=2,n.callbackNode=null,2}function C3(n,i){if(gr!==0&&gr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(I1()&&n.callbackNode!==c)return null;var h=Ot;return h=It(n,n===ln?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(s3(n,h,i),E3(n,Yt()),n.callbackNode!=null&&n.callbackNode===c?C3.bind(null,n):null)}function S3(n,i){if(I1())return null;s3(n,i,!0)}function pA(){vA(function(){(jt&6)!==0?st(Et,mA):A3()})}function F2(){return Ro===0&&(Ro=Cc()),Ro}function T3(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oc(""+n)}function N3(n,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,n.id&&c.setAttribute("form",n.id),i.parentNode.insertBefore(c,i),n=new FormData(n),c.parentNode.removeChild(c),n}function bA(n,i,c,h,b){if(i==="submit"&&c&&c.stateNode===b){var C=T3((b[Cn]||null).action),R=h.submitter;R&&(i=(i=R[Cn]||null)?T3(i.formAction):R.getAttribute("formAction"),i!==null&&(C=i,R=null));var _=new Ns("action","action",null,h,b);n.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ro!==0){var Q=R?N3(b,R):new FormData(b);s2(c,{pending:!0,data:Q,method:b.method,action:C},null,Q)}}else typeof C=="function"&&(_.preventDefault(),Q=R?N3(b,R):new FormData(b),s2(c,{pending:!0,data:Q,method:b.method,action:C},C,Q))},currentTarget:b}]})}}for(var H2=0;H2<Os.length;H2++){var G2=Os[H2],yA=G2.toLowerCase(),wA=G2[0].toUpperCase()+G2.slice(1);ci(yA,"on"+wA)}ci(at,"onAnimationEnd"),ci(hr,"onAnimationIteration"),ci(Wr,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Rr,"onTransitionRun"),ci(Vt,"onTransitionStart"),ci(Zn,"onTransitionCancel"),ci(Or,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cf));function v3(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],b=h.event;h=h.listeners;e:{var C=void 0;if(i)for(var R=h.length-1;0<=R;R--){var _=h[R],Q=_.instance,de=_.currentTarget;if(_=_.listener,Q!==C&&b.isPropagationStopped())break e;C=_,b.currentTarget=de;try{C(b)}catch(ye){y1(ye)}b.currentTarget=null,C=Q}else for(R=0;R<h.length;R++){if(_=h[R],Q=_.instance,de=_.currentTarget,_=_.listener,Q!==C&&b.isPropagationStopped())break e;C=_,b.currentTarget=de;try{C(b)}catch(ye){y1(ye)}b.currentTarget=null,C=Q}}}}function wt(n,i){var c=i[er];c===void 0&&(c=i[er]=new Set);var h=n+"__bubble";c.has(h)||(R3(i,n,2,!1),c.add(h))}function z2(n,i,c){var h=0;i&&(h|=4),R3(c,n,h,i)}var M1="_reactListening"+Math.random().toString(36).slice(2);function V2(n){if(!n[M1]){n[M1]=!0,Hd.forEach(function(c){c!=="selectionchange"&&(AA.has(c)||z2(c,!1,n),z2(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[M1]||(i[M1]=!0,z2("selectionchange",!1,i))}}function R3(n,i,c,h){switch(J3(i)){case 2:var b=KA;break;case 8:b=ZA;break;default:b=rg}c=b.bind(null,i,c,n),b=void 0,!lt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(b=!0),h?b!==void 0?n.addEventListener(i,c,{capture:!0,passive:b}):n.addEventListener(i,c,!0):b!==void 0?n.addEventListener(i,c,{passive:b}):n.addEventListener(i,c,!1)}function j2(n,i,c,h,b){var C=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var _=h.stateNode.containerInfo;if(_===b)break;if(R===4)for(R=h.return;R!==null;){var Q=R.tag;if((Q===3||Q===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;_!==null;){if(R=Bn(_),R===null)return;if(Q=R.tag,Q===5||Q===6||Q===26||Q===27){h=C=R;continue e}_=_.parentNode}}h=h.return}Wi(function(){var de=C,ye=Za(c),Ce=[];e:{var he=aa.get(n);if(he!==void 0){var me=Ns,rt=n;switch(n){case"keypress":if(Ic(c)===0)break e;case"keydown":case"keyup":me=ju;break;case"focusin":rt="focus",me=$a;break;case"focusout":rt="blur",me=$a;break;case"beforeblur":case"afterblur":me=$a;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=kt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=zt;break;case at:case hr:case Wr:me=px;break;case Or:me=Ax;break;case"scroll":case"scrollend":me=Nr;break;case"wheel":me=ia;break;case"copy":case"cut":case"paste":me=ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=fo;break;case"toggle":case"beforetoggle":me=Ex}var tt=(i&4)!==0,qt=!tt&&(n==="scroll"||n==="scrollend"),ne=tt?he!==null?he+"Capture":null:he;tt=[];for(var q=de,oe;q!==null;){var Ee=q;if(oe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||oe===null||ne===null||(Ee=$e(q,ne),Ee!=null&&tt.push(Sf(q,Ee,oe))),qt)break;q=q.return}0<tt.length&&(he=new me(he,rt,null,c,ye),Ce.push({event:he,listeners:tt}))}}if((i&7)===0){e:{if(he=n==="mouseover"||n==="pointerover",me=n==="mouseout"||n==="pointerout",he&&c!==ao&&(rt=c.relatedTarget||c.fromElement)&&(Bn(rt)||rt[ps]))break e;if((me||he)&&(he=ye.window===ye?ye:(he=ye.ownerDocument)?he.defaultView||he.parentWindow:window,me?(rt=c.relatedTarget||c.toElement,me=de,rt=rt?Bn(rt):null,rt!==null&&(qt=x(rt),tt=rt.tag,rt!==qt||tt!==5&&tt!==27&&tt!==6)&&(rt=null)):(me=null,rt=de),me!==rt)){if(tt=jd,Ee="onMouseLeave",ne="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(tt=fo,Ee="onPointerLeave",ne="onPointerEnter",q="pointer"),qt=me==null?he:bs(me),oe=rt==null?he:bs(rt),he=new tt(Ee,q+"leave",me,c,ye),he.target=qt,he.relatedTarget=oe,Ee=null,Bn(ye)===de&&(tt=new tt(ne,q+"enter",rt,c,ye),tt.target=oe,tt.relatedTarget=qt,Ee=tt),qt=Ee,me&&rt)t:{for(tt=me,ne=rt,q=0,oe=tt;oe;oe=s0(oe))q++;for(oe=0,Ee=ne;Ee;Ee=s0(Ee))oe++;for(;0<q-oe;)tt=s0(tt),q--;for(;0<oe-q;)ne=s0(ne),oe--;for(;q--;){if(tt===ne||ne!==null&&tt===ne.alternate)break t;tt=s0(tt),ne=s0(ne)}tt=null}else tt=null;me!==null&&O3(Ce,he,me,tt,!1),rt!==null&&qt!==null&&O3(Ce,qt,rt,tt,!0)}}e:{if(he=de?bs(de):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var Ke=Kd;else if(go(he))if(Ku)Ke=s;else{Ke=O;var mt=Uc}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?de&&qe(de.elementType)&&(Ke=Kd):Ke=r;if(Ke&&(Ke=Ke(n,de))){Hr(Ce,Ke,c,ye);break e}mt&&mt(n,he,de),n==="focusout"&&de&&he.type==="number"&&de.memoizedProps.value!=null&&le(he,"number",he.value)}switch(mt=de?bs(de):window,n){case"focusin":(go(mt)||mt.contentEditable==="true")&&(M=mt,G=de,K=null);break;case"focusout":K=G=M=null;break;case"mousedown":W=!0;break;case"contextmenu":case"mouseup":case"dragend":W=!1,se(Ce,c,ye);break;case"selectionchange":if(B)break;case"keydown":case"keyup":se(Ce,c,ye)}var Je;if(ho)e:{switch(n){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else nl?sa(n,c)&&(nt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(Yu&&c.locale!=="ko"&&(nl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&nl&&(Je=Cs()):(Es=ye,lo="value"in Es?Es.value:Es.textContent,nl=!0)),mt=_1(de,nt),0<mt.length&&(nt=new co(nt,n,null,c,ye),Ce.push({event:nt,listeners:mt}),Je?nt.data=Je:(Je=_c(c),Je!==null&&(nt.data=Je)))),(Je=Xu?xo(n,c):Cx(n,c))&&(nt=_1(de,"onBeforeInput"),0<nt.length&&(mt=new co("onBeforeInput","beforeinput",null,c,ye),Ce.push({event:mt,listeners:nt}),mt.data=Je)),bA(Ce,n,de,c,ye)}v3(Ce,i)})}function Sf(n,i,c){return{instance:n,listener:i,currentTarget:c}}function _1(n,i){for(var c=i+"Capture",h=[];n!==null;){var b=n,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=$e(n,c),b!=null&&h.unshift(Sf(n,b,C)),b=$e(n,i),b!=null&&h.push(Sf(n,b,C))),n.tag===3)return h;n=n.return}return[]}function s0(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function O3(n,i,c,h,b){for(var C=i._reactName,R=[];c!==null&&c!==h;){var _=c,Q=_.alternate,de=_.stateNode;if(_=_.tag,Q!==null&&Q===h)break;_!==5&&_!==26&&_!==27||de===null||(Q=de,b?(de=$e(c,C),de!=null&&R.unshift(Sf(c,de,Q))):b||(de=$e(c,C),de!=null&&R.push(Sf(c,de,Q)))),c=c.return}R.length!==0&&n.push({event:i,listeners:R})}var EA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function I3(n){return(typeof n=="string"?n:""+n).replace(EA,`
`).replace(CA,"")}function B3(n,i){return i=I3(i),I3(n)===i}function L1(){}function Wt(n,i,c,h,b,C){switch(c){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Qn(n,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Qn(n,""+h);break;case"className":Tc(n,"class",h);break;case"tabIndex":Tc(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Tc(n,c,h);break;case"style":Fr(n,h,C);break;case"data":if(i!=="object"){Tc(n,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||c!=="href")){n.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=Oc(""+h),n.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(c==="formAction"?(i!=="input"&&Wt(n,i,"name",b.name,b,null),Wt(n,i,"formEncType",b.formEncType,b,null),Wt(n,i,"formMethod",b.formMethod,b,null),Wt(n,i,"formTarget",b.formTarget,b,null)):(Wt(n,i,"encType",b.encType,b,null),Wt(n,i,"method",b.method,b,null),Wt(n,i,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=Oc(""+h),n.setAttribute(c,h);break;case"onClick":h!=null&&(n.onclick=L1);break;case"onScroll":h!=null&&wt("scroll",n);break;case"onScrollEnd":h!=null&&wt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(a(60));n.innerHTML=c}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}c=Oc(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""+h):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":h===!0?n.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,h):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(c,h):n.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(c):n.setAttribute(c,h);break;case"popover":wt("beforetoggle",n),wt("toggle",n),Se(n,"popover",h);break;case"xlinkActuate":Bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Bt(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Bt(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Bt(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Bt(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Se(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=un.get(c)||c,Se(n,c,h))}}function X2(n,i,c,h,b,C){switch(c){case"style":Fr(n,h,C);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(a(60));n.innerHTML=c}}break;case"children":typeof h=="string"?Qn(n,h):(typeof h=="number"||typeof h=="bigint")&&Qn(n,""+h);break;case"onScroll":h!=null&&wt("scroll",n);break;case"onScrollEnd":h!=null&&wt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=L1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),i=c.slice(2,b?c.length-7:void 0),C=n[Cn]||null,C=C!=null?C[c]:null,typeof C=="function"&&n.removeEventListener(i,C,b),typeof h=="function")){typeof C!="function"&&C!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(i,h,b);break e}c in n?n[c]=h:h===!0?n.setAttribute(c,""):Se(n,c,h)}}}function mr(n,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",n),wt("load",n);var h=!1,b=!1,C;for(C in c)if(c.hasOwnProperty(C)){var R=c[C];if(R!=null)switch(C){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Wt(n,i,C,R,c,null)}}b&&Wt(n,i,"srcSet",c.srcSet,c,null),h&&Wt(n,i,"src",c.src,c,null);return;case"input":wt("invalid",n);var _=C=R=b=null,Q=null,de=null;for(h in c)if(c.hasOwnProperty(h)){var ye=c[h];if(ye!=null)switch(h){case"name":b=ye;break;case"type":R=ye;break;case"checked":Q=ye;break;case"defaultChecked":de=ye;break;case"value":C=ye;break;case"defaultValue":_=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,i));break;default:Wt(n,i,h,ye,c,null)}}Yn(n,C,_,Q,de,R,b,!1),vc(n);return;case"select":wt("invalid",n),h=R=C=null;for(b in c)if(c.hasOwnProperty(b)&&(_=c[b],_!=null))switch(b){case"value":C=_;break;case"defaultValue":R=_;break;case"multiple":h=_;default:Wt(n,i,b,_,c,null)}i=C,c=R,n.multiple=!!h,i!=null?F(n,!!h,i,!1):c!=null&&F(n,!!h,c,!0);return;case"textarea":wt("invalid",n),C=b=h=null;for(R in c)if(c.hasOwnProperty(R)&&(_=c[R],_!=null))switch(R){case"value":h=_;break;case"defaultValue":b=_;break;case"children":C=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Wt(n,i,R,_,c,null)}Dn(n,h,b,C),vc(n);return;case"option":for(Q in c)if(c.hasOwnProperty(Q)&&(h=c[Q],h!=null))switch(Q){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Wt(n,i,Q,h,c,null)}return;case"dialog":wt("beforetoggle",n),wt("toggle",n),wt("cancel",n),wt("close",n);break;case"iframe":case"object":wt("load",n);break;case"video":case"audio":for(h=0;h<Cf.length;h++)wt(Cf[h],n);break;case"image":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"embed":case"source":case"link":wt("error",n),wt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in c)if(c.hasOwnProperty(de)&&(h=c[de],h!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Wt(n,i,de,h,c,null)}return;default:if(qe(i)){for(ye in c)c.hasOwnProperty(ye)&&(h=c[ye],h!==void 0&&X2(n,i,ye,h,c,void 0));return}}for(_ in c)c.hasOwnProperty(_)&&(h=c[_],h!=null&&Wt(n,i,_,h,c,null))}function SA(n,i,c,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,R=null,_=null,Q=null,de=null,ye=null;for(me in c){var Ce=c[me];if(c.hasOwnProperty(me)&&Ce!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Q=Ce;default:h.hasOwnProperty(me)||Wt(n,i,me,null,h,Ce)}}for(var he in h){var me=h[he];if(Ce=c[he],h.hasOwnProperty(he)&&(me!=null||Ce!=null))switch(he){case"type":C=me;break;case"name":b=me;break;case"checked":de=me;break;case"defaultChecked":ye=me;break;case"value":R=me;break;case"defaultValue":_=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,i));break;default:me!==Ce&&Wt(n,i,he,me,h,Ce)}}Ut(n,R,_,Q,de,ye,C,b);return;case"select":me=R=_=he=null;for(C in c)if(Q=c[C],c.hasOwnProperty(C)&&Q!=null)switch(C){case"value":break;case"multiple":me=Q;default:h.hasOwnProperty(C)||Wt(n,i,C,null,h,Q)}for(b in h)if(C=h[b],Q=c[b],h.hasOwnProperty(b)&&(C!=null||Q!=null))switch(b){case"value":he=C;break;case"defaultValue":_=C;break;case"multiple":R=C;default:C!==Q&&Wt(n,i,b,C,h,Q)}i=_,c=R,h=me,he!=null?F(n,!!c,he,!1):!!h!=!!c&&(i!=null?F(n,!!c,i,!0):F(n,!!c,c?[]:"",!1));return;case"textarea":me=he=null;for(_ in c)if(b=c[_],c.hasOwnProperty(_)&&b!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Wt(n,i,_,null,h,b)}for(R in h)if(b=h[R],C=c[R],h.hasOwnProperty(R)&&(b!=null||C!=null))switch(R){case"value":he=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==C&&Wt(n,i,R,b,h,C)}We(n,he,me);return;case"option":for(var rt in c)if(he=c[rt],c.hasOwnProperty(rt)&&he!=null&&!h.hasOwnProperty(rt))switch(rt){case"selected":n.selected=!1;break;default:Wt(n,i,rt,null,h,he)}for(Q in h)if(he=h[Q],me=c[Q],h.hasOwnProperty(Q)&&he!==me&&(he!=null||me!=null))switch(Q){case"selected":n.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Wt(n,i,Q,he,h,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in c)he=c[tt],c.hasOwnProperty(tt)&&he!=null&&!h.hasOwnProperty(tt)&&Wt(n,i,tt,null,h,he);for(de in h)if(he=h[de],me=c[de],h.hasOwnProperty(de)&&he!==me&&(he!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,i));break;default:Wt(n,i,de,he,h,me)}return;default:if(qe(i)){for(var qt in c)he=c[qt],c.hasOwnProperty(qt)&&he!==void 0&&!h.hasOwnProperty(qt)&&X2(n,i,qt,void 0,h,he);for(ye in h)he=h[ye],me=c[ye],!h.hasOwnProperty(ye)||he===me||he===void 0&&me===void 0||X2(n,i,ye,he,h,me);return}}for(var ne in c)he=c[ne],c.hasOwnProperty(ne)&&he!=null&&!h.hasOwnProperty(ne)&&Wt(n,i,ne,null,h,he);for(Ce in h)he=h[Ce],me=c[Ce],!h.hasOwnProperty(Ce)||he===me||he==null&&me==null||Wt(n,i,Ce,he,h,me)}var Y2=null,Q2=null;function U1(n){return n.nodeType===9?n:n.ownerDocument}function D3(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M3(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function K2(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Z2=null;function TA(){var n=window.event;return n&&n.type==="popstate"?n===Z2?!1:(Z2=n,!0):(Z2=null,!1)}var _3=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,L3=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof L3<"u"?function(n){return L3.resolve(null).then(n).catch(RA)}:_3;function RA(n){setTimeout(function(){throw n})}function Al(n){return n==="head"}function U3(n,i){var c=i,h=0,b=0;do{var C=c.nextSibling;if(n.removeChild(c),C&&C.nodeType===8)if(c=C.data,c==="/$"){if(0<h&&8>h){c=h;var R=n.ownerDocument;if(c&1&&Tf(R.documentElement),c&2&&Tf(R.body),c&4)for(c=R.head,Tf(c),R=c.firstChild;R;){var _=R.nextSibling,Q=R.nodeName;R[Si]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=_}}if(b===0){n.removeChild(C),Mf(i);return}b--}else c==="$"||c==="$?"||c==="$!"?b++:h=c.charCodeAt(0)-48;else h=0;c=C}while(c);Mf(i)}function W2(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":W2(c),so(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function OA(n,i,c,h){for(;n.nodeType===1;){var b=c;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Si])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(C=n.getAttribute("rel"),C==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(C!==b.rel||n.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||n.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||n.getAttribute("title")!==(b.title==null?null:b.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(C=n.getAttribute("src"),(C!==(b.src==null?null:b.src)||n.getAttribute("type")!==(b.type==null?null:b.type)||n.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&n.getAttribute("name")===C)return n}else return n;if(n=es(n.nextSibling),n===null)break}return null}function IA(n,i,c){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=es(n.nextSibling),n===null))return null;return n}function q2(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function BA(n,i){var c=n.ownerDocument;if(n.data!=="$?"||c.readyState==="complete")i();else{var h=function(){i(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function es(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var J2=null;function k3(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}function P3(n,i,c){switch(i=U1(c),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Tf(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);so(n)}var Di=new Map,F3=new Set;function k1(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ya=J.d;J.d={f:DA,r:MA,D:_A,C:LA,L:UA,m:kA,X:FA,S:PA,M:HA};function DA(){var n=ya.f(),i=R1();return n||i}function MA(n){var i=li(n);i!==null&&i.tag===5&&i.type==="form"?sb(i):ya.r(n)}var a0=typeof document>"u"?null:document;function H3(n,i,c){var h=a0;if(h&&typeof i=="string"&&i){var b=Xn(i);b='link[rel="'+n+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),F3.has(b)||(F3.add(b),n={rel:n,crossOrigin:c,href:i},h.querySelector(b)===null&&(i=h.createElement("link"),mr(i,"link",n),Gt(i),h.head.appendChild(i)))}}function _A(n){ya.D(n),H3("dns-prefetch",n,null)}function LA(n,i){ya.C(n,i),H3("preconnect",n,i)}function UA(n,i,c){ya.L(n,i,c);var h=a0;if(h&&n&&i){var b='link[rel="preload"][as="'+Xn(i)+'"]';i==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+Xn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+Xn(c.imageSizes)+'"]')):b+='[href="'+Xn(n)+'"]';var C=b;switch(i){case"style":C=l0(n);break;case"script":C=o0(n)}Di.has(C)||(n=T({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:n,as:i},c),Di.set(C,n),h.querySelector(b)!==null||i==="style"&&h.querySelector(Nf(C))||i==="script"&&h.querySelector(vf(C))||(i=h.createElement("link"),mr(i,"link",n),Gt(i),h.head.appendChild(i)))}}function kA(n,i){ya.m(n,i);var c=a0;if(c&&n){var h=i&&typeof i.as=="string"?i.as:"script",b='link[rel="modulepreload"][as="'+Xn(h)+'"][href="'+Xn(n)+'"]',C=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=o0(n)}if(!Di.has(C)&&(n=T({rel:"modulepreload",href:n},i),Di.set(C,n),c.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(vf(C)))return}h=c.createElement("link"),mr(h,"link",n),Gt(h),c.head.appendChild(h)}}}function PA(n,i,c){ya.S(n,i,c);var h=a0;if(h&&n){var b=Ki(h).hoistableStyles,C=l0(n);i=i||"default";var R=b.get(C);if(!R){var _={loading:0,preload:null};if(R=h.querySelector(Nf(C)))_.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},c),(c=Di.get(C))&&$2(n,c);var Q=R=h.createElement("link");Gt(Q),mr(Q,"link",n),Q._p=new Promise(function(de,ye){Q.onload=de,Q.onerror=ye}),Q.addEventListener("load",function(){_.loading|=1}),Q.addEventListener("error",function(){_.loading|=2}),_.loading|=4,P1(R,i,h)}R={type:"stylesheet",instance:R,count:1,state:_},b.set(C,R)}}}function FA(n,i){ya.X(n,i);var c=a0;if(c&&n){var h=Ki(c).hoistableScripts,b=o0(n),C=h.get(b);C||(C=c.querySelector(vf(b)),C||(n=T({src:n,async:!0},i),(i=Di.get(b))&&eg(n,i),C=c.createElement("script"),Gt(C),mr(C,"link",n),c.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},h.set(b,C))}}function HA(n,i){ya.M(n,i);var c=a0;if(c&&n){var h=Ki(c).hoistableScripts,b=o0(n),C=h.get(b);C||(C=c.querySelector(vf(b)),C||(n=T({src:n,async:!0,type:"module"},i),(i=Di.get(b))&&eg(n,i),C=c.createElement("script"),Gt(C),mr(C,"link",n),c.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},h.set(b,C))}}function G3(n,i,c,h){var b=(b=ve.current)?k1(b):null;if(!b)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=l0(c.href),c=Ki(b).hoistableStyles,h=c.get(i),h||(h={type:"style",instance:null,count:0,state:null},c.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=l0(c.href);var C=Ki(b).hoistableStyles,R=C.get(n);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(n,R),(C=b.querySelector(Nf(n)))&&!C._p&&(R.instance=C,R.state.loading=5),Di.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Di.set(n,c),C||GA(b,n,c,R.state))),i&&h===null)throw Error(a(528,""));return R}if(i&&h!==null)throw Error(a(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=o0(c),c=Ki(b).hoistableScripts,h=c.get(i),h||(h={type:"script",instance:null,count:0,state:null},c.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function l0(n){return'href="'+Xn(n)+'"'}function Nf(n){return'link[rel="stylesheet"]['+n+"]"}function z3(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function GA(n,i,c,h){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=n.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),mr(i,"link",c),Gt(i),n.head.appendChild(i))}function o0(n){return'[src="'+Xn(n)+'"]'}function vf(n){return"script[async]"+n}function V3(n,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var h=n.querySelector('style[data-href~="'+Xn(c.href)+'"]');if(h)return i.instance=h,Gt(h),h;var b=T({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Gt(h),mr(h,"style",b),P1(h,c.precedence,n),i.instance=h;case"stylesheet":b=l0(c.href);var C=n.querySelector(Nf(b));if(C)return i.state.loading|=4,i.instance=C,Gt(C),C;h=z3(c),(b=Di.get(b))&&$2(h,b),C=(n.ownerDocument||n).createElement("link"),Gt(C);var R=C;return R._p=new Promise(function(_,Q){R.onload=_,R.onerror=Q}),mr(C,"link",h),i.state.loading|=4,P1(C,c.precedence,n),i.instance=C;case"script":return C=o0(c.src),(b=n.querySelector(vf(C)))?(i.instance=b,Gt(b),b):(h=c,(b=Di.get(C))&&(h=T({},c),eg(h,b)),n=n.ownerDocument||n,b=n.createElement("script"),Gt(b),mr(b,"link",h),n.head.appendChild(b),i.instance=b);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,P1(h,c.precedence,n));return i.instance}function P1(n,i,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,C=b,R=0;R<h.length;R++){var _=h[R];if(_.dataset.precedence===i)C=_;else if(C!==b)break}C?C.parentNode.insertBefore(n,C.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(n,i.firstChild))}function $2(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function eg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var F1=null;function j3(n,i,c){if(F1===null){var h=new Map,b=F1=new Map;b.set(c,h)}else b=F1,h=b.get(c),h||(h=new Map,b.set(c,h));if(h.has(n))return h;for(h.set(n,null),c=c.getElementsByTagName(n),b=0;b<c.length;b++){var C=c[b];if(!(C[Si]||C[$n]||n==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var R=C.getAttribute(i)||"";R=n+R;var _=h.get(R);_?_.push(C):h.set(R,[C])}}return h}function X3(n,i,c){n=n.ownerDocument||n,n.head.insertBefore(c,i==="title"?n.querySelector("head > title"):null)}function zA(n,i,c){if(c===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y3(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Rf=null;function VA(){}function jA(n,i,c){if(Rf===null)throw Error(a(475));var h=Rf;if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var b=l0(c.href),C=n.querySelector(Nf(b));if(C){n=C._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=H1.bind(h),n.then(h,h)),i.state.loading|=4,i.instance=C,Gt(C);return}C=n.ownerDocument||n,c=z3(c),(b=Di.get(b))&&$2(c,b),C=C.createElement("link"),Gt(C);var R=C;R._p=new Promise(function(_,Q){R.onload=_,R.onerror=Q}),mr(C,"link",c),i.instance=C}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=H1.bind(h),n.addEventListener("load",i),n.addEventListener("error",i))}}function XA(){if(Rf===null)throw Error(a(475));var n=Rf;return n.stylesheets&&n.count===0&&tg(n,n.stylesheets),0<n.count?function(i){var c=setTimeout(function(){if(n.stylesheets&&tg(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(c)}}:null}function H1(){if(this.count--,this.count===0){if(this.stylesheets)tg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var G1=null;function tg(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,G1=new Map,i.forEach(YA,n),G1=null,H1.call(n))}function YA(n,i){if(!(i.state.loading&4)){var c=G1.get(n);if(c)var h=c.get(null);else{c=new Map,G1.set(n,c);for(var b=n.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var R=b[C];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),h=R)}h&&c.set(null,h)}b=i.instance,R=b.getAttribute("data-precedence"),C=c.get(R)||h,C===h&&c.set(null,b),c.set(R,b),this.count++,h=H1.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),C?C.parentNode.insertBefore(b,C.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(b,n.firstChild)),i.state.loading|=4}}var Of={$$typeof:Z,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function QA(n,i,c,h,b,C,R,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Q3(n,i,c,h,b,C,R,_,Q,de,ye,Ce){return n=new QA(n,i,c,R,_,Q,de,Ce),i=1,C===!0&&(i|=24),C=ui(3,null,null,i),n.current=C,C.stateNode=n,i=Ux(),i.refCount++,n.pooledCache=i,i.refCount++,C.memoizedState={element:h,isDehydrated:c,cache:i},Hx(C),n}function K3(n){return n?(n=Fc,n):Fc}function Z3(n,i,c,h,b,C){b=K3(b),h.context===null?h.context=b:h.pendingContext=b,h=ol(i),h.payload={element:c},C=C===void 0?null:C,C!==null&&(h.callback=C),c=cl(n,h,i),c!==null&&(gi(c,n,i),sf(c,n,i))}function W3(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function ng(n,i){W3(n,i),(n=n.alternate)&&W3(n,i)}function q3(n){if(n.tag===13){var i=Pc(n,67108864);i!==null&&gi(i,n,67108864),ng(n,67108864)}}var z1=!0;function KA(n,i,c,h){var b=V.T;V.T=null;var C=J.p;try{J.p=2,rg(n,i,c,h)}finally{J.p=C,V.T=b}}function ZA(n,i,c,h){var b=V.T;V.T=null;var C=J.p;try{J.p=8,rg(n,i,c,h)}finally{J.p=C,V.T=b}}function rg(n,i,c,h){if(z1){var b=ig(h);if(b===null)j2(n,i,h,V1,c),$3(n,h);else if(qA(b,n,i,c,h))h.stopPropagation();else if($3(n,h),i&4&&-1<WA.indexOf(n)){for(;b!==null;){var C=li(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var R=en(C.pendingLanes);if(R!==0){var _=C;for(_.pendingLanes|=2,_.entangledLanes|=2;R;){var Q=1<<31-Ht(R);_.entanglements[1]|=Q,R&=~Q}_s(C),(jt&6)===0&&(N1=Yt()+500,Ef(0))}}break;case 13:_=Pc(C,2),_!==null&&gi(_,C,2),R1(),ng(C,2)}if(C=ig(h),C===null&&j2(n,i,h,V1,c),C===b)break;b=C}b!==null&&h.stopPropagation()}else j2(n,i,h,null,c)}}function ig(n){return n=Za(n),sg(n)}var V1=null;function sg(n){if(V1=null,n=Bn(n),n!==null){var i=x(n);if(i===null)n=null;else{var c=i.tag;if(c===13){if(n=p(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return V1=n,null}function J3(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Et:return 2;case no:return 8;case Ye:case Ac:return 32;case ku:return 268435456;default:return 32}default:return 32}}var ag=!1,El=null,Cl=null,Sl=null,If=new Map,Bf=new Map,Tl=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $3(n,i){switch(n){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":If.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(i.pointerId)}}function Df(n,i,c,h,b,C){return n===null||n.nativeEvent!==C?(n={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:C,targetContainers:[b]},i!==null&&(i=li(i),i!==null&&q3(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,b!==null&&i.indexOf(b)===-1&&i.push(b),n)}function qA(n,i,c,h,b){switch(i){case"focusin":return El=Df(El,n,i,c,h,b),!0;case"dragenter":return Cl=Df(Cl,n,i,c,h,b),!0;case"mouseover":return Sl=Df(Sl,n,i,c,h,b),!0;case"pointerover":var C=b.pointerId;return If.set(C,Df(If.get(C)||null,n,i,c,h,b)),!0;case"gotpointercapture":return C=b.pointerId,Bf.set(C,Df(Bf.get(C)||null,n,i,c,h,b)),!0}return!1}function ey(n){var i=Bn(n.target);if(i!==null){var c=x(i);if(c!==null){if(i=c.tag,i===13){if(i=p(c),i!==null){n.blockedOn=i,Sc(n.priority,function(){if(c.tag===13){var h=xi();h=io(h);var b=Pc(c,h);b!==null&&gi(b,c,h),ng(c,h)}});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function j1(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=ig(n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);ao=h,c.target.dispatchEvent(h),ao=null}else return i=li(c),i!==null&&q3(i),n.blockedOn=c,!1;i.shift()}return!0}function ty(n,i,c){j1(n)&&c.delete(i)}function JA(){ag=!1,El!==null&&j1(El)&&(El=null),Cl!==null&&j1(Cl)&&(Cl=null),Sl!==null&&j1(Sl)&&(Sl=null),If.forEach(ty),Bf.forEach(ty)}function X1(n,i){n.blockedOn===i&&(n.blockedOn=null,ag||(ag=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,JA)))}var Y1=null;function ny(n){Y1!==n&&(Y1=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Y1===n&&(Y1=null);for(var i=0;i<n.length;i+=3){var c=n[i],h=n[i+1],b=n[i+2];if(typeof h!="function"){if(sg(h||c)===null)continue;break}var C=li(c);C!==null&&(n.splice(i,3),i-=3,s2(C,{pending:!0,data:b,method:c.method,action:h},h,b))}}))}function Mf(n){function i(Q){return X1(Q,n)}El!==null&&X1(El,n),Cl!==null&&X1(Cl,n),Sl!==null&&X1(Sl,n),If.forEach(i),Bf.forEach(i);for(var c=0;c<Tl.length;c++){var h=Tl[c];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Tl.length&&(c=Tl[0],c.blockedOn===null);)ey(c),c.blockedOn===null&&Tl.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var b=c[h],C=c[h+1],R=b[Cn]||null;if(typeof C=="function")R||ny(c);else if(R){var _=null;if(C&&C.hasAttribute("formAction")){if(b=C,R=C[Cn]||null)_=R.formAction;else if(sg(b)!==null)continue}else _=R.action;typeof _=="function"?c[h+1]=_:(c.splice(h,3),h-=3),ny(c)}}}function lg(n){this._internalRoot=n}Q1.prototype.render=lg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var c=i.current,h=xi();Z3(c,h,n,i,null,null)},Q1.prototype.unmount=lg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Z3(n.current,2,null,n,null,null),R1(),i[ps]=null}};function Q1(n){this._internalRoot=n}Q1.prototype.unstable_scheduleHydration=function(n){if(n){var i=ea();n={blockedOn:null,target:n,priority:i};for(var c=0;c<Tl.length&&i!==0&&i<Tl[c].priority;c++);Tl.splice(c,0,n),c===0&&ey(n)}};var ry=e.version;if(ry!=="19.1.0")throw Error(a(527,ry,"19.1.0"));J.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=w(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var $A={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K1.isDisabled&&K1.supportsFiber)try{fr=K1.inject($A),Sr=K1}catch{}}return Uf.createRoot=function(n,i){if(!u(n))throw Error(a(299));var c=!1,h="",b=yb,C=wb,R=Ab,_=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(b=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks)),i=Q3(n,1,!1,null,null,c,h,b,C,R,_,null),n[ps]=i.current,V2(n),new lg(i)},Uf.hydrateRoot=function(n,i,c){if(!u(n))throw Error(a(299));var h=!1,b="",C=yb,R=wb,_=Ab,Q=null,de=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Q=c.unstable_transitionCallbacks),c.formState!==void 0&&(de=c.formState)),i=Q3(n,1,!0,i,c??null,h,b,C,R,_,Q,de),i.context=K3(null),c=i.current,h=xi(),h=io(h),b=ol(h),b.callback=null,cl(c,b,h),c=h,i.current.lanes=c,ai(i,c),_s(i),n[ps]=i.current,V2(n),new Q1(i)},Uf.version="19.1.0",Uf}var xy;function dE(){if(xy)return fg.exports;xy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),fg.exports=fE(),fg.exports}var hE=dE();const W8="6.15.0";function xE(l,e,t){const a=e.split("|").map(x=>x.trim());for(let x=0;x<a.length;x++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof l===e)return}const u=new Error(`invalid value for type ${e}`);throw u.code="INVALID_ARGUMENT",u.argument=`value.${t}`,u.value=l,u}async function Lr(l){const e=Object.keys(l);return(await Promise.all(e.map(a=>Promise.resolve(l[a])))).reduce((a,u,x)=>(a[e[x]]=u,a),{})}function Ze(l,e,t){for(let a in e){let u=e[a];const x=t?t[a]:null;x&&xE(u,x,a),Object.defineProperty(l,a,{enumerable:!0,value:u,writable:!1})}}function b0(l,e){if(l==null)return"null";if(e==null&&(e=new Set),typeof l=="object"){if(e.has(l))return"[Circular]";e.add(l)}if(Array.isArray(l))return"[ "+l.map(t=>b0(t,e)).join(", ")+" ]";if(l instanceof Uint8Array){const t="0123456789abcdef";let a="0x";for(let u=0;u<l.length;u++)a+=t[l[u]>>4],a+=t[l[u]&15];return a}if(typeof l=="object"&&typeof l.toJSON=="function")return b0(l.toJSON(),e);switch(typeof l){case"boolean":case"number":case"symbol":return l.toString();case"bigint":return BigInt(l).toString();case"string":return JSON.stringify(l);case"object":{const t=Object.keys(l);return t.sort(),"{ "+t.map(a=>`${b0(a,e)}: ${b0(l[a],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function wr(l,e){return l&&l.code===e}function Mm(l){return wr(l,"CALL_EXCEPTION")}function yn(l,e,t){let a=l;{const x=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${b0(t)}`);for(const p in t){if(p==="shortMessage")continue;const E=t[p];x.push(p+"="+b0(E))}}x.push(`code=${e}`),x.push(`version=${W8}`),x.length&&(l+=" ("+x.join(", ")+")")}let u;switch(e){case"INVALID_ARGUMENT":u=new TypeError(l);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":u=new RangeError(l);break;default:u=new Error(l)}return Ze(u,{code:e}),t&&Object.assign(u,t),u.shortMessage==null&&Ze(u,{shortMessage:a}),u}function we(l,e,t,a){if(!l)throw yn(e,t,a)}function Y(l,e,t,a){we(l,e,"INVALID_ARGUMENT",{argument:t,value:a})}function q8(l,e,t){t==null&&(t=""),t&&(t=": "+t),we(l>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:l,expectedCount:e}),we(l<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:l,expectedCount:e})}const gE=["NFD","NFC","NFKD","NFKC"].reduce((l,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");l.push(e)}catch{}return l},[]);function J8(l){we(gE.indexOf(l)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:l}})}function $l(l,e,t){if(t==null&&(t=""),l!==e){let a=t,u="new";t&&(a+=".",u+=" "+t),we(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:u})}}function $8(l,e,t){if(l instanceof Uint8Array)return t?new Uint8Array(l):l;if(typeof l=="string"&&l.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const a=new Uint8Array((l.length-2)/2);let u=2;for(let x=0;x<a.length;x++)a[x]=parseInt(l.substring(u,u+2),16),u+=2;return a}Y(!1,"invalid BytesLike value",e||"value",l)}function ze(l,e){return $8(l,e,!1)}function Ar(l,e){return $8(l,e,!0)}function on(l,e){return!(typeof l!="string"||!l.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&l.length!==2+2*e||e===!0&&l.length%2!==0)}function qh(l){return on(l,!0)||l instanceof Uint8Array}const gy="0123456789abcdef";function Be(l){const e=ze(l);let t="0x";for(let a=0;a<e.length;a++){const u=e[a];t+=gy[(u&240)>>4]+gy[u&15]}return t}function Ft(l){return"0x"+l.map(e=>Be(e).substring(2)).join("")}function T0(l){return on(l,!0)?(l.length-2)/2:ze(l).length}function dn(l,e,t){const a=ze(l);return t!=null&&t>a.length&&we(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:t}),Be(a.slice(e??0,t??a.length))}function e4(l,e,t){const a=ze(l);we(e>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:e,offset:e+1});const u=new Uint8Array(e);return u.fill(0),t?u.set(a,e-a.length):u.set(a,0),Be(u)}function za(l,e){return e4(l,e,!0)}function mE(l,e){return e4(l,e,!1)}const Jh=BigInt(0),ds=BigInt(1),Hg=9007199254740991;function Sh(l,e){const t=$h(l,"value"),a=BigInt(ut(e,"width"));if(we(t>>a===Jh,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:l}),t>>a-ds){const u=(ds<<a)-ds;return-((~t&u)+ds)}return t}function t4(l,e){let t=je(l,"value");const a=BigInt(ut(e,"width")),u=ds<<a-ds;if(t<Jh){t=-t,we(t<=u,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:l});const x=(ds<<a)-ds;return(~t&x)+ds}else we(t<u,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:l});return t}function Fo(l,e){const t=$h(l,"value"),a=BigInt(ut(e,"bits"));return t&(ds<<a)-ds}function je(l,e){switch(typeof l){case"bigint":return l;case"number":return Y(Number.isInteger(l),"underflow",e||"value",l),Y(l>=-9007199254740991&&l<=Hg,"overflow",e||"value",l),BigInt(l);case"string":try{if(l==="")throw new Error("empty string");return l[0]==="-"&&l[1]!=="-"?-BigInt(l.substring(1)):BigInt(l)}catch(t){Y(!1,`invalid BigNumberish string: ${t.message}`,e||"value",l)}}Y(!1,"invalid BigNumberish value",e||"value",l)}function $h(l,e){const t=je(l,e);return we(t>=Jh,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:l}),t}const my="0123456789abcdef";function Id(l){if(l instanceof Uint8Array){let e="0x0";for(const t of l)e+=my[t>>4],e+=my[t&15];return BigInt(e)}return je(l)}function ut(l,e){switch(typeof l){case"bigint":return Y(l>=-9007199254740991&&l<=Hg,"overflow",e||"value",l),Number(l);case"number":return Y(Number.isInteger(l),"underflow",e||"value",l),Y(l>=-9007199254740991&&l<=Hg,"overflow",e||"value",l),l;case"string":try{if(l==="")throw new Error("empty string");return ut(BigInt(l),e)}catch(t){Y(!1,`invalid numeric string: ${t.message}`,e||"value",l)}}Y(!1,"invalid numeric value",e||"value",l)}function pE(l){return ut(Id(l))}function Va(l,e){let a=$h(l,"value").toString(16);if(e==null)a.length%2&&(a="0"+a);else{const u=ut(e,"width");for(we(u*2>=a.length,`value exceeds width (${u} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:l});a.length<u*2;)a="0"+a}return"0x"+a}function In(l){const e=$h(l,"value");if(e===Jh)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const a=new Uint8Array(t.length/2);for(let u=0;u<a.length;u++){const x=u*2;a[u]=parseInt(t.substring(x,x+2),16)}return a}function fs(l){let e=Be(qh(l)?l:In(l)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Th="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let W1=null;function bE(l){if(W1==null){W1={};for(let t=0;t<Th.length;t++)W1[Th[t]]=BigInt(t)}const e=W1[l];return Y(e!=null,"invalid base58 value","letter",l),e}const yE=BigInt(0),Gg=BigInt(58);function n4(l){const e=ze(l);let t=Id(e),a="";for(;t;)a=Th[Number(t%Gg)]+a,t/=Gg;for(let u=0;u<e.length&&!e[u];u++)a=Th[0]+a;return a}function wE(l){let e=yE;for(let t=0;t<l.length;t++)e*=Gg,e+=bE(l[t]);return e}function AE(l){l=atob(l);const e=new Uint8Array(l.length);for(let t=0;t<l.length;t++)e[t]=l.charCodeAt(t);return ze(e)}function EE(l){const e=ze(l);let t="";for(let a=0;a<e.length;a++)t+=String.fromCharCode(e[a]);return btoa(t)}var B0;class r4{constructor(e,t,a){te(this,"filter");te(this,"emitter");xe(this,B0);z(this,B0,t),Ze(this,{emitter:e,filter:a})}async removeListener(){I(this,B0)!=null&&await this.emitter.off(this.filter,I(this,B0))}}B0=new WeakMap;function CE(l,e,t,a,u){Y(!1,`invalid codepoint at offset ${e}; ${l}`,"bytes",t)}function i4(l,e,t,a,u){if(l==="BAD_PREFIX"||l==="UNEXPECTED_CONTINUE"){let x=0;for(let p=e+1;p<t.length&&t[p]>>6===2;p++)x++;return x}return l==="OVERRUN"?t.length-e-1:0}function SE(l,e,t,a,u){return l==="OVERLONG"?(Y(typeof u=="number","invalid bad code point for replacement","badCodepoint",u),a.push(u),0):(a.push(65533),i4(l,e,t))}const TE=Object.freeze({error:CE,ignore:i4,replace:SE});function NE(l,e){e==null&&(e=TE.error);const t=ze(l,"bytes"),a=[];let u=0;for(;u<t.length;){const x=t[u++];if(x>>7===0){a.push(x);continue}let p=null,E=null;if((x&224)===192)p=1,E=127;else if((x&240)===224)p=2,E=2047;else if((x&248)===240)p=3,E=65535;else{(x&192)===128?u+=e("UNEXPECTED_CONTINUE",u-1,t,a):u+=e("BAD_PREFIX",u-1,t,a);continue}if(u-1+p>=t.length){u+=e("OVERRUN",u-1,t,a);continue}let w=x&(1<<8-p-1)-1;for(let y=0;y<p;y++){let T=t[u];if((T&192)!=128){u+=e("MISSING_CONTINUE",u,t,a),w=null;break}w=w<<6|T&63,u++}if(w!==null){if(w>1114111){u+=e("OUT_OF_RANGE",u-1-p,t,a,w);continue}if(w>=55296&&w<=57343){u+=e("UTF16_SURROGATE",u-1-p,t,a,w);continue}if(w<=E){u+=e("OVERLONG",u-1-p,t,a,w);continue}a.push(w)}}return a}function Yr(l,e){Y(typeof l=="string","invalid string value","str",l),e!=null&&(J8(e),l=l.normalize(e));let t=[];for(let a=0;a<l.length;a++){const u=l.charCodeAt(a);if(u<128)t.push(u);else if(u<2048)t.push(u>>6|192),t.push(u&63|128);else if((u&64512)==55296){a++;const x=l.charCodeAt(a);Y(a<l.length&&(x&64512)===56320,"invalid surrogate pair","str",l);const p=65536+((u&1023)<<10)+(x&1023);t.push(p>>18|240),t.push(p>>12&63|128),t.push(p>>6&63|128),t.push(p&63|128)}else t.push(u>>12|224),t.push(u>>6&63|128),t.push(u&63|128)}return new Uint8Array(t)}function vE(l){return l.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Nh(l,e){return vE(NE(l,e))}function s4(l){async function e(t,a){we(a==null||!a.cancelled,"request cancelled before sending","CANCELLED");const u=t.url.split(":")[0].toLowerCase();we(u==="http"||u==="https",`unsupported protocol ${u}`,"UNSUPPORTED_OPERATION",{info:{protocol:u},operation:"request"}),we(u==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let x=null;const p=new AbortController,E=setTimeout(()=>{x=yn("request timeout","TIMEOUT"),p.abort()},t.timeout);a&&a.addListener(()=>{x=yn("request cancelled","CANCELLED"),p.abort()});const w=Object.assign({},l,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:p.signal});let y;try{y=await fetch(t.url,w)}catch(L){throw clearTimeout(E),x||L}clearTimeout(E);const T={};y.headers.forEach((L,P)=>{T[P.toLowerCase()]=L});const N=await y.arrayBuffer(),D=N==null?null:new Uint8Array(N);return{statusCode:y.status,statusMessage:y.statusText,headers:T,body:D}}return e}const RE=12,OE=250;let py=s4();const IE=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),BE=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let gg=!1;async function a4(l,e){try{const t=l.match(IE);if(!t)throw new Error("invalid data");return new ql(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?AE(t[3]):ME(t[3]))}catch{return new ql(599,"BAD REQUEST (invalid data: URI)",{},null,new ja(l))}}function l4(l){async function e(t,a){try{const u=t.match(BE);if(!u)throw new Error("invalid link");return new ja(`${l}${u[2]}`)}catch{return new ql(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ja(t))}}return e}const q1={data:a4,ipfs:l4("https://gateway.ipfs.io/ipfs/")},o4=new WeakMap;var Vo,_l;class DE{constructor(e){xe(this,Vo);xe(this,_l);z(this,Vo,[]),z(this,_l,!1),o4.set(e,()=>{if(!I(this,_l)){z(this,_l,!0);for(const t of I(this,Vo))setTimeout(()=>{t()},0);z(this,Vo,[])}})}addListener(e){we(!I(this,_l),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),I(this,Vo).push(e)}get cancelled(){return I(this,_l)}checkSignal(){we(!this.cancelled,"cancelled","CANCELLED",{})}}Vo=new WeakMap,_l=new WeakMap;function J1(l){if(l==null)throw new Error("missing signal; should not happen");return l.checkSignal(),l}var D0,M0,ss,Na,_0,L0,sr,yi,va,jo,Xo,Yo,Fs,as,Ll,Qo,Gf;const jh=class jh{constructor(e){xe(this,Qo);xe(this,D0);xe(this,M0);xe(this,ss);xe(this,Na);xe(this,_0);xe(this,L0);xe(this,sr);xe(this,yi);xe(this,va);xe(this,jo);xe(this,Xo);xe(this,Yo);xe(this,Fs);xe(this,as);xe(this,Ll);z(this,L0,String(e)),z(this,D0,!1),z(this,M0,!0),z(this,ss,{}),z(this,Na,""),z(this,_0,3e5),z(this,as,{slotInterval:OE,maxAttempts:RE}),z(this,Ll,null)}get url(){return I(this,L0)}set url(e){z(this,L0,String(e))}get body(){return I(this,sr)==null?null:new Uint8Array(I(this,sr))}set body(e){if(e==null)z(this,sr,void 0),z(this,yi,void 0);else if(typeof e=="string")z(this,sr,Yr(e)),z(this,yi,"text/plain");else if(e instanceof Uint8Array)z(this,sr,e),z(this,yi,"application/octet-stream");else if(typeof e=="object")z(this,sr,Yr(JSON.stringify(e))),z(this,yi,"application/json");else throw new Error("invalid body")}hasBody(){return I(this,sr)!=null}get method(){return I(this,Na)?I(this,Na):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),z(this,Na,String(e).toUpperCase())}get headers(){const e=Object.assign({},I(this,ss));return I(this,va)&&(e.authorization=`Basic ${EE(Yr(I(this,va)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&I(this,yi)&&(e["content-type"]=I(this,yi)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){I(this,ss)[String(e).toLowerCase()]=String(t)}clearHeaders(){z(this,ss,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let a=0;return{next:()=>{if(a<t.length){const u=t[a++];return{value:[u,e[u]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return I(this,va)||null}setCredentials(e,t){Y(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),z(this,va,`${e}:${t}`)}get allowGzip(){return I(this,M0)}set allowGzip(e){z(this,M0,!!e)}get allowInsecureAuthentication(){return!!I(this,D0)}set allowInsecureAuthentication(e){z(this,D0,!!e)}get timeout(){return I(this,_0)}set timeout(e){Y(e>=0,"timeout must be non-zero","timeout",e),z(this,_0,e)}get preflightFunc(){return I(this,jo)||null}set preflightFunc(e){z(this,jo,e)}get processFunc(){return I(this,Xo)||null}set processFunc(e){z(this,Xo,e)}get retryFunc(){return I(this,Yo)||null}set retryFunc(e){z(this,Yo,e)}get getUrlFunc(){return I(this,Ll)||py}set getUrlFunc(e){z(this,Ll,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${I(this,sr)?Be(I(this,sr)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(I(this,as).slotInterval=e.slotInterval),e.maxAttempts!=null&&(I(this,as).maxAttempts=e.maxAttempts)}send(){return we(I(this,Fs)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),z(this,Fs,new DE(this)),Te(this,Qo,Gf).call(this,0,by()+this.timeout,0,this,new ql(0,"",{},null,this))}cancel(){we(I(this,Fs)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=o4.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),a=e.split(":")[0].toLowerCase();we(this.method==="GET"&&(t!=="https"||a!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const u=new jh(e);return u.method="GET",u.allowGzip=this.allowGzip,u.timeout=this.timeout,z(u,ss,Object.assign({},I(this,ss))),I(this,sr)&&z(u,sr,new Uint8Array(I(this,sr))),z(u,yi,I(this,yi)),u}clone(){const e=new jh(this.url);return z(e,Na,I(this,Na)),I(this,sr)&&z(e,sr,I(this,sr)),z(e,yi,I(this,yi)),z(e,ss,Object.assign({},I(this,ss))),z(e,va,I(this,va)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),z(e,jo,I(this,jo)),z(e,Xo,I(this,Xo)),z(e,Yo,I(this,Yo)),z(e,as,Object.assign({},I(this,as))),z(e,Ll,I(this,Ll)),e}static lockConfig(){gg=!0}static getGateway(e){return q1[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(gg)throw new Error("gateways locked");q1[e]=t}static registerGetUrl(e){if(gg)throw new Error("gateways locked");py=e}static createGetUrlFunc(e){return s4(e)}static createDataGateway(){return a4}static createIpfsGatewayFunc(e){return l4(e)}};D0=new WeakMap,M0=new WeakMap,ss=new WeakMap,Na=new WeakMap,_0=new WeakMap,L0=new WeakMap,sr=new WeakMap,yi=new WeakMap,va=new WeakMap,jo=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,Fs=new WeakMap,as=new WeakMap,Ll=new WeakMap,Qo=new WeakSet,Gf=async function(e,t,a,u,x){var T,N,D;if(e>=I(this,as).maxAttempts)return x.makeServerError("exceeded maximum retry limit");we(by()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:u}),a>0&&await _E(a);let p=this.clone();const E=(p.url.split(":")[0]||"").toLowerCase();if(E in q1){const L=await q1[E](p.url,J1(I(u,Fs)));if(L instanceof ql){let P=L;if(this.processFunc){J1(I(u,Fs));try{P=await this.processFunc(p,P)}catch(k){(k.throttle==null||typeof k.stall!="number")&&P.makeServerError("error in post-processing function",k).assertOk()}}return P}p=L}this.preflightFunc&&(p=await this.preflightFunc(p));const w=await this.getUrlFunc(p,J1(I(u,Fs)));let y=new ql(w.statusCode,w.statusMessage,w.headers,w.body,u);if(y.statusCode===301||y.statusCode===302){try{const L=y.headers.location||"";return Te(T=p.redirect(L),Qo,Gf).call(T,e+1,t,0,u,y)}catch{}return y}else if(y.statusCode===429&&(this.retryFunc==null||await this.retryFunc(p,y,e))){const L=y.headers["retry-after"];let P=I(this,as).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof L=="string"&&L.match(/^[1-9][0-9]*$/)&&(P=parseInt(L)),Te(N=p.clone(),Qo,Gf).call(N,e+1,t,P,u,y)}if(this.processFunc){J1(I(u,Fs));try{y=await this.processFunc(p,y)}catch(L){(L.throttle==null||typeof L.stall!="number")&&y.makeServerError("error in post-processing function",L).assertOk();let P=I(this,as).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return L.stall>=0&&(P=L.stall),Te(D=p.clone(),Qo,Gf).call(D,e+1,t,P,u,y)}}return y};let ja=jh;var xd,gd,md,wi,U0,Ko;const ap=class ap{constructor(e,t,a,u,x){xe(this,xd);xe(this,gd);xe(this,md);xe(this,wi);xe(this,U0);xe(this,Ko);z(this,xd,e),z(this,gd,t),z(this,md,Object.keys(a).reduce((p,E)=>(p[E.toLowerCase()]=String(a[E]),p),{})),z(this,wi,u==null?null:new Uint8Array(u)),z(this,U0,x||null),z(this,Ko,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${I(this,wi)?Be(I(this,wi)):"null"}>`}get statusCode(){return I(this,xd)}get statusMessage(){return I(this,gd)}get headers(){return Object.assign({},I(this,md))}get body(){return I(this,wi)==null?null:new Uint8Array(I(this,wi))}get bodyText(){try{return I(this,wi)==null?"":Nh(I(this,wi))}catch{we(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{we(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let a=0;return{next:()=>{if(a<t.length){const u=t[a++];return{value:[u,e[u]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let a;e?a=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,a=`CLIENT ESCALATED SERVER ERROR (${e})`);const u=new ap(599,a,this.headers,this.body,I(this,U0)||void 0);return z(u,Ko,{message:e,error:t}),u}throwThrottleError(e,t){t==null?t=-1:Y(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const a=new Error(e||"throttling requests");throw Ze(a,{stall:t,throttle:!0}),a}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return I(this,wi)!=null}get request(){return I(this,U0)}ok(){return I(this,Ko).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=I(this,Ko);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let a=null;this.request&&(a=this.request.url);let u=null;try{I(this,wi)&&(u=Nh(I(this,wi)))}catch{}we(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:a,responseBody:u,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};xd=new WeakMap,gd=new WeakMap,md=new WeakMap,wi=new WeakMap,U0=new WeakMap,Ko=new WeakMap;let ql=ap;function by(){return new Date().getTime()}function ME(l){return Yr(l.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function _E(l){return new Promise(e=>setTimeout(e,l))}const LE=BigInt(-1),ts=BigInt(0),y0=BigInt(1),UE=BigInt(5),c0={};let N0="0000";for(;N0.length<80;)N0+=N0;function Oo(l){let e=N0;for(;e.length<l;)e+=e;return BigInt("1"+e.substring(0,l))}function kf(l,e,t){const a=BigInt(e.width);if(e.signed){const u=y0<<a-y0;we(t==null||l>=-u&&l<u,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:l}),l>ts?l=Sh(Fo(l,a),a):l=-Sh(Fo(-l,a),a)}else{const u=y0<<a;we(t==null||l>=0&&l<u,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:l}),l=(l%u+u)%u&u-y0}return l}function mg(l){typeof l=="number"&&(l=`fixed128x${l}`);let e=!0,t=128,a=18;if(typeof l=="string"){if(l!=="fixed")if(l==="ufixed")e=!1;else{const x=l.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Y(x,"invalid fixed format","format",l),e=x[1]!=="u",t=parseInt(x[2]),a=parseInt(x[3])}}else if(l){const x=l,p=(E,w,y)=>x[E]==null?y:(Y(typeof x[E]===w,"invalid fixed format ("+E+" not "+w+")","format."+E,x[E]),x[E]);e=p("signed","boolean",e),t=p("width","number",t),a=p("decimals","number",a)}Y(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),Y(a<=80,"invalid FixedNumber decimals (too large)","format.decimals",a);const u=(e?"":"u")+"fixed"+String(t)+"x"+String(a);return{signed:e,width:t,decimals:a,name:u}}function kE(l,e){let t="";l<ts&&(t="-",l*=LE);let a=l.toString();if(e===0)return t+a;for(;a.length<=e;)a=N0+a;const u=a.length-e;for(a=a.substring(0,u)+"."+a.substring(u);a[0]==="0"&&a[1]!==".";)a=a.substring(1);for(;a[a.length-1]==="0"&&a[a.length-2]!==".";)a=a.substring(0,a.length-1);return t+a}var ls,Jt,zr,Pt,Bo,wa,zg,Vg,jg,Xg;const Ml=class Ml{constructor(e,t,a){xe(this,Pt);te(this,"format");xe(this,ls);xe(this,Jt);xe(this,zr);te(this,"_value");$l(e,c0,"FixedNumber"),z(this,Jt,t),z(this,ls,a);const u=kE(t,a.decimals);Ze(this,{format:a.name,_value:u}),z(this,zr,Oo(a.decimals))}get signed(){return I(this,ls).signed}get width(){return I(this,ls).width}get decimals(){return I(this,ls).decimals}get value(){return I(this,Jt)}addUnsafe(e){return Te(this,Pt,zg).call(this,e)}add(e){return Te(this,Pt,zg).call(this,e,"add")}subUnsafe(e){return Te(this,Pt,Vg).call(this,e)}sub(e){return Te(this,Pt,Vg).call(this,e,"sub")}mulUnsafe(e){return Te(this,Pt,jg).call(this,e)}mul(e){return Te(this,Pt,jg).call(this,e,"mul")}mulSignal(e){Te(this,Pt,Bo).call(this,e);const t=I(this,Jt)*I(e,Jt);return we(t%I(this,zr)===ts,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Te(this,Pt,wa).call(this,t/I(this,zr),"mulSignal")}divUnsafe(e){return Te(this,Pt,Xg).call(this,e)}div(e){return Te(this,Pt,Xg).call(this,e,"div")}divSignal(e){we(I(e,Jt)!==ts,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Te(this,Pt,Bo).call(this,e);const t=I(this,Jt)*I(this,zr);return we(t%I(e,Jt)===ts,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Te(this,Pt,wa).call(this,t/I(e,Jt),"divSignal")}cmp(e){let t=this.value,a=e.value;const u=this.decimals-e.decimals;return u>0?a*=Oo(u):u<0&&(t*=Oo(-u)),t<a?-1:t>a?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=I(this,Jt);return I(this,Jt)<ts&&(e-=I(this,zr)-y0),e=I(this,Jt)/I(this,zr)*I(this,zr),Te(this,Pt,wa).call(this,e,"floor")}ceiling(){let e=I(this,Jt);return I(this,Jt)>ts&&(e+=I(this,zr)-y0),e=I(this,Jt)/I(this,zr)*I(this,zr),Te(this,Pt,wa).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,a=UE*Oo(t-1);let u=this.value+a;const x=Oo(t);return u=u/x*x,kf(u,I(this,ls),"round"),new Ml(c0,u,I(this,ls))}isZero(){return I(this,Jt)===ts}isNegative(){return I(this,Jt)<ts}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ml.fromString(this.toString(),e)}static fromValue(e,t,a){const u=t==null?0:ut(t),x=mg(a);let p=je(e,"value");const E=u-x.decimals;if(E>0){const w=Oo(E);we(p%w===ts,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),p/=w}else E<0&&(p*=Oo(-E));return kf(p,x,"fromValue"),new Ml(c0,p,x)}static fromString(e,t){const a=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Y(a&&a[2].length+a[3].length>0,"invalid FixedNumber string value","value",e);const u=mg(t);let x=a[2]||"0",p=a[3]||"";for(;p.length<u.decimals;)p+=N0;we(p.substring(u.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),p=p.substring(0,u.decimals);const E=BigInt(a[1]+x+p);return kf(E,u,"fromString"),new Ml(c0,E,u)}static fromBytes(e,t){let a=Id(ze(e,"value"));const u=mg(t);return u.signed&&(a=Sh(a,u.width)),kf(a,u,"fromBytes"),new Ml(c0,a,u)}};ls=new WeakMap,Jt=new WeakMap,zr=new WeakMap,Pt=new WeakSet,Bo=function(e){Y(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},wa=function(e,t){return e=kf(e,I(this,ls),t),new Ml(c0,e,I(this,ls))},zg=function(e,t){return Te(this,Pt,Bo).call(this,e),Te(this,Pt,wa).call(this,I(this,Jt)+I(e,Jt),t)},Vg=function(e,t){return Te(this,Pt,Bo).call(this,e),Te(this,Pt,wa).call(this,I(this,Jt)-I(e,Jt),t)},jg=function(e,t){return Te(this,Pt,Bo).call(this,e),Te(this,Pt,wa).call(this,I(this,Jt)*I(e,Jt)/I(this,zr),t)},Xg=function(e,t){return we(I(e,Jt)!==ts,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Te(this,Pt,Bo).call(this,e),Te(this,Pt,wa).call(this,I(this,Jt)*I(this,zr)/I(e,Jt),t)};let vh=Ml;function PE(l){let e=l.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function yy(l,e,t){let a=0;for(let u=0;u<t;u++)a=a*256+l[e+u];return a}function wy(l,e,t,a){const u=[];for(;t<e+1+a;){const x=c4(l,t);u.push(x.result),t+=x.consumed,we(t<=e+1+a,"child data too short","BUFFER_OVERRUN",{buffer:l,length:a,offset:e})}return{consumed:1+a,result:u}}function c4(l,e){we(l.length!==0,"data too short","BUFFER_OVERRUN",{buffer:l,length:0,offset:1});const t=a=>{we(a<=l.length,"data short segment too short","BUFFER_OVERRUN",{buffer:l,length:l.length,offset:a})};if(l[e]>=248){const a=l[e]-247;t(e+1+a);const u=yy(l,e+1,a);return t(e+1+a+u),wy(l,e,e+1+a,a+u)}else if(l[e]>=192){const a=l[e]-192;return t(e+1+a),wy(l,e,e+1,a)}else if(l[e]>=184){const a=l[e]-183;t(e+1+a);const u=yy(l,e+1,a);t(e+1+a+u);const x=Be(l.slice(e+1+a,e+1+a+u));return{consumed:1+a+u,result:x}}else if(l[e]>=128){const a=l[e]-128;t(e+1+a);const u=Be(l.slice(e+1,e+1+a));return{consumed:1+a,result:u}}return{consumed:1,result:PE(l[e])}}function Bd(l){const e=ze(l,"data"),t=c4(e,0);return Y(t.consumed===e.length,"unexpected junk after rlp payload","data",l),t.result}function Ay(l){const e=[];for(;l;)e.unshift(l&255),l>>=8;return e}function u4(l){if(Array.isArray(l)){let a=[];if(l.forEach(function(x){a=a.concat(u4(x))}),a.length<=55)return a.unshift(192+a.length),a;const u=Ay(a.length);return u.unshift(247+u.length),u.concat(a)}const e=Array.prototype.slice.call(ze(l,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Ay(e.length);return t.unshift(183+t.length),t.concat(e)}const Ey="0123456789abcdef";function Xa(l){let e="0x";for(const t of u4(l))e+=Ey[t>>4],e+=Ey[t&15];return e}function FE(l,e){let t=18;return t=ut(e,"unit"),vh.fromValue(l,t,{decimals:t,width:512}).toString()}function HE(l,e){Y(typeof l=="string","value must be a string","value",l);let t=18;return t=ut(e,"unit"),vh.fromString(l,{decimals:t,width:512}).value}function x0(l){return FE(l,18)}function ed(l){return HE(l,18)}function GE(l){const e=ze(l,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Be(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const jr=32,Yg=new Uint8Array(jr),zE=["then"],$1={},f4=new WeakMap;function _o(l){return f4.get(l)}function Cy(l,e){f4.set(l,e)}function Pf(l,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${l}`);throw t.error=e,t}function Qg(l,e,t){return l.indexOf(null)>=0?e.map((a,u)=>a instanceof yu?Qg(_o(a),a,t):a):l.reduce((a,u,x)=>{let p=e.getValue(u);return u in a||(t&&p instanceof yu&&(p=Qg(_o(p),p,t)),a[u]=p),a},{})}var k0;const E0=class E0 extends Array{constructor(...t){const a=t[0];let u=t[1],x=(t[2]||[]).slice(),p=!0;a!==$1&&(u=t,x=[],p=!1);super(u.length);xe(this,k0);u.forEach((y,T)=>{this[T]=y});const E=x.reduce((y,T)=>(typeof T=="string"&&y.set(T,(y.get(T)||0)+1),y),new Map);if(Cy(this,Object.freeze(u.map((y,T)=>{const N=x[T];return N!=null&&E.get(N)===1?N:null}))),z(this,k0,[]),I(this,k0)==null&&I(this,k0),!p)return;Object.freeze(this);const w=new Proxy(this,{get:(y,T,N)=>{if(typeof T=="string"){if(T.match(/^[0-9]+$/)){const L=ut(T,"%index");if(L<0||L>=this.length)throw new RangeError("out of result range");const P=y[L];return P instanceof Error&&Pf(`index ${L}`,P),P}if(zE.indexOf(T)>=0)return Reflect.get(y,T,N);const D=y[T];if(D instanceof Function)return function(...L){return D.apply(this===N?y:this,L)};if(!(T in y))return y.getValue.apply(this===N?y:this,[T])}return Reflect.get(y,T,N)}});return Cy(w,_o(this)),w}toArray(t){const a=[];return this.forEach((u,x)=>{u instanceof Error&&Pf(`index ${x}`,u),t&&u instanceof E0&&(u=u.toArray(t)),a.push(u)}),a}toObject(t){const a=_o(this);return a.reduce((u,x,p)=>(we(x!=null,`value at index ${p} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Qg(a,this,t)),{})}slice(t,a){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),a==null&&(a=this.length),a<0&&(a+=this.length,a<0&&(a=0)),a>this.length&&(a=this.length);const u=_o(this),x=[],p=[];for(let E=t;E<a;E++)x.push(this[E]),p.push(u[E]);return new E0($1,x,p)}filter(t,a){const u=_o(this),x=[],p=[];for(let E=0;E<this.length;E++){const w=this[E];w instanceof Error&&Pf(`index ${E}`,w),t.call(a,w,E,this)&&(x.push(w),p.push(u[E]))}return new E0($1,x,p)}map(t,a){const u=[];for(let x=0;x<this.length;x++){const p=this[x];p instanceof Error&&Pf(`index ${x}`,p),u.push(t.call(a,p,x,this))}return u}getValue(t){const a=_o(this).indexOf(t);if(a===-1)return;const u=this[a];return u instanceof Error&&Pf(`property ${JSON.stringify(t)}`,u.error),u}static fromItems(t,a){return new E0($1,t,a)}};k0=new WeakMap;let yu=E0;function Sy(l){let e=In(l);return we(e.length<=jr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:jr,offset:e.length}),e.length!==jr&&(e=Ar(Ft([Yg.slice(e.length%jr),e]))),e}class Ka{constructor(e,t,a,u){te(this,"name");te(this,"type");te(this,"localName");te(this,"dynamic");Ze(this,{name:e,type:t,localName:a,dynamic:u},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Y(!1,e,this.localName,t)}}var Ra,Zo,P0,uh;class Kg{constructor(){xe(this,P0);xe(this,Ra);xe(this,Zo);z(this,Ra,[]),z(this,Zo,0)}get data(){return Ft(I(this,Ra))}get length(){return I(this,Zo)}appendWriter(e){return Te(this,P0,uh).call(this,Ar(e.data))}writeBytes(e){let t=Ar(e);const a=t.length%jr;return a&&(t=Ar(Ft([t,Yg.slice(a)]))),Te(this,P0,uh).call(this,t)}writeValue(e){return Te(this,P0,uh).call(this,Sy(e))}writeUpdatableValue(){const e=I(this,Ra).length;return I(this,Ra).push(Yg),z(this,Zo,I(this,Zo)+jr),t=>{I(this,Ra)[e]=Sy(t)}}}Ra=new WeakMap,Zo=new WeakMap,P0=new WeakSet,uh=function(e){return I(this,Ra).push(e),z(this,Zo,I(this,Zo)+e.length),e.length};var ei,Ai,Wo,qo,Ul,bc,Wg,d4;const lp=class lp{constructor(e,t,a){xe(this,bc);te(this,"allowLoose");xe(this,ei);xe(this,Ai);xe(this,Wo);xe(this,qo);xe(this,Ul);Ze(this,{allowLoose:!!t}),z(this,ei,Ar(e)),z(this,Wo,0),z(this,qo,null),z(this,Ul,a??1024),z(this,Ai,0)}get data(){return Be(I(this,ei))}get dataLength(){return I(this,ei).length}get consumed(){return I(this,Ai)}get bytes(){return new Uint8Array(I(this,ei))}subReader(e){const t=new lp(I(this,ei).slice(I(this,Ai)+e),this.allowLoose,I(this,Ul));return z(t,qo,this),t}readBytes(e,t){let a=Te(this,bc,d4).call(this,0,e,!!t);return Te(this,bc,Wg).call(this,e),z(this,Ai,I(this,Ai)+a.length),a.slice(0,e)}readValue(){return Id(this.readBytes(jr))}readIndex(){return pE(this.readBytes(jr))}};ei=new WeakMap,Ai=new WeakMap,Wo=new WeakMap,qo=new WeakMap,Ul=new WeakMap,bc=new WeakSet,Wg=function(e){var t;if(I(this,qo))return Te(t=I(this,qo),bc,Wg).call(t,e);z(this,Wo,I(this,Wo)+e),we(I(this,Ul)<1||I(this,Wo)<=I(this,Ul)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${I(this,Ul)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ar(I(this,ei)),offset:I(this,Ai),length:e,info:{bytesRead:I(this,Wo),dataLength:this.dataLength}})},d4=function(e,t,a){let u=Math.ceil(t/jr)*jr;return I(this,Ai)+u>I(this,ei).length&&(this.allowLoose&&a&&I(this,Ai)+t<=I(this,ei).length?u=t:we(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ar(I(this,ei)),length:I(this,ei).length,offset:I(this,Ai)+u})),I(this,ei).slice(I(this,Ai),I(this,Ai)+u)};let Zg=lp;function Ci(l){if(!Number.isSafeInteger(l)||l<0)throw new Error(`Wrong positive integer: ${l}`)}function _m(l,...e){if(!(l instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(l.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${l.length}`)}function h4(l){if(typeof l!="function"||typeof l.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ci(l.outputLen),Ci(l.blockLen)}function wu(l,e=!0){if(l.destroyed)throw new Error("Hash instance has been destroyed");if(e&&l.finished)throw new Error("Hash#digest() has already been called")}function x4(l,e){_m(l);const t=e.outputLen;if(l.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const pg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const g4=l=>l instanceof Uint8Array,fh=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),dh=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),Ls=(l,e)=>l<<32-e|l>>>e,VE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!VE)throw new Error("Non little-endian hardware is not supported");const jE=async()=>{};async function Ty(l,e,t){let a=Date.now();for(let u=0;u<l;u++){t(u);const x=Date.now()-a;x>=0&&x<e||(await jE(),a+=x)}}function XE(l){if(typeof l!="string")throw new Error(`utf8ToBytes expected string, got ${typeof l}`);return new Uint8Array(new TextEncoder().encode(l))}function Au(l){if(typeof l=="string"&&(l=XE(l)),!g4(l))throw new Error(`expected Uint8Array, got ${typeof l}`);return l}function YE(...l){const e=new Uint8Array(l.reduce((a,u)=>a+u.length,0));let t=0;return l.forEach(a=>{if(!g4(a))throw new Error("Uint8Array expected");e.set(a,t),t+=a.length}),e}class Lm{clone(){return this._cloneInto()}}const QE={}.toString;function m4(l,e){if(e!==void 0&&QE.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(l,e)}function ex(l){const e=a=>l().update(Au(a)).digest(),t=l();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>l(),e}function KE(l=32){if(pg&&typeof pg.getRandomValues=="function")return pg.getRandomValues(new Uint8Array(l));throw new Error("crypto.getRandomValues must be defined")}class p4 extends Lm{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,h4(e);const a=Au(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,x=new Uint8Array(u);x.set(a.length>u?e.create().update(a).digest():a);for(let p=0;p<x.length;p++)x[p]^=54;this.iHash.update(x),this.oHash=e.create();for(let p=0;p<x.length;p++)x[p]^=106;this.oHash.update(x),x.fill(0)}update(e){return wu(this),this.iHash.update(e),this}digestInto(e){wu(this),_m(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:a,finished:u,destroyed:x,blockLen:p,outputLen:E}=this;return e=e,e.finished=u,e.destroyed=x,e.blockLen=p,e.outputLen=E,e.oHash=t._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tx=(l,e,t)=>new p4(l,e).update(t).digest();tx.create=(l,e)=>new p4(l,e);function ZE(l,e,t,a){h4(l);const u=m4({dkLen:32,asyncTick:10},a),{c:x,dkLen:p,asyncTick:E}=u;if(Ci(x),Ci(p),Ci(E),x<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const w=Au(e),y=Au(t),T=new Uint8Array(p),N=tx.create(l,w),D=N._cloneInto().update(y);return{c:x,dkLen:p,asyncTick:E,DK:T,PRF:N,PRFSalt:D}}function WE(l,e,t,a,u){return l.destroy(),e.destroy(),a&&a.destroy(),u.fill(0),t}function Um(l,e,t,a){const{c:u,dkLen:x,DK:p,PRF:E,PRFSalt:w}=ZE(l,e,t,a);let y;const T=new Uint8Array(4),N=dh(T),D=new Uint8Array(E.outputLen);for(let L=1,P=0;P<x;L++,P+=E.outputLen){const k=p.subarray(P,P+E.outputLen);N.setInt32(0,L,!1),(y=w._cloneInto(y)).update(T).digestInto(D),k.set(D.subarray(0,k.length));for(let j=1;j<u;j++){E._cloneInto(y).update(D).digestInto(D);for(let ee=0;ee<k.length;ee++)k[ee]^=D[ee]}}return WE(E,w,p,y,D)}function qE(l,e,t,a){if(typeof l.setBigUint64=="function")return l.setBigUint64(e,t,a);const u=BigInt(32),x=BigInt(4294967295),p=Number(t>>u&x),E=Number(t&x),w=a?4:0,y=a?0:4;l.setUint32(e+w,p,a),l.setUint32(e+y,E,a)}class km extends Lm{constructor(e,t,a,u){super(),this.blockLen=e,this.outputLen=t,this.padOffset=a,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dh(this.buffer)}update(e){wu(this);const{view:t,buffer:a,blockLen:u}=this;e=Au(e);const x=e.length;for(let p=0;p<x;){const E=Math.min(u-this.pos,x-p);if(E===u){const w=dh(e);for(;u<=x-p;p+=u)this.process(w,p);continue}a.set(e.subarray(p,p+E),this.pos),this.pos+=E,p+=E,this.pos===u&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wu(this),x4(e,this),this.finished=!0;const{buffer:t,view:a,blockLen:u,isLE:x}=this;let{pos:p}=this;t[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>u-p&&(this.process(a,0),p=0);for(let N=p;N<u;N++)t[N]=0;qE(a,u-8,BigInt(this.length*8),x),this.process(a,0);const E=dh(e),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=w/4,T=this.get();if(y>T.length)throw new Error("_sha2: outputLen bigger than state");for(let N=0;N<y;N++)E.setUint32(4*N,T[N],x)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const a=e.slice(0,t);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:a,length:u,finished:x,destroyed:p,pos:E}=this;return e.length=u,e.pos=E,e.finished=x,e.destroyed=p,u%t&&e.buffer.set(a),e}}const JE=(l,e,t)=>l&e^~l&t,$E=(l,e,t)=>l&e^l&t^e&t,e5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rl=new Uint32Array(64);class t5 extends km{constructor(){super(64,32,8,!1),this.A=vl[0]|0,this.B=vl[1]|0,this.C=vl[2]|0,this.D=vl[3]|0,this.E=vl[4]|0,this.F=vl[5]|0,this.G=vl[6]|0,this.H=vl[7]|0}get(){const{A:e,B:t,C:a,D:u,E:x,F:p,G:E,H:w}=this;return[e,t,a,u,x,p,E,w]}set(e,t,a,u,x,p,E,w){this.A=e|0,this.B=t|0,this.C=a|0,this.D=u|0,this.E=x|0,this.F=p|0,this.G=E|0,this.H=w|0}process(e,t){for(let N=0;N<16;N++,t+=4)Rl[N]=e.getUint32(t,!1);for(let N=16;N<64;N++){const D=Rl[N-15],L=Rl[N-2],P=Ls(D,7)^Ls(D,18)^D>>>3,k=Ls(L,17)^Ls(L,19)^L>>>10;Rl[N]=k+Rl[N-7]+P+Rl[N-16]|0}let{A:a,B:u,C:x,D:p,E,F:w,G:y,H:T}=this;for(let N=0;N<64;N++){const D=Ls(E,6)^Ls(E,11)^Ls(E,25),L=T+D+JE(E,w,y)+e5[N]+Rl[N]|0,k=(Ls(a,2)^Ls(a,13)^Ls(a,22))+$E(a,u,x)|0;T=y,y=w,w=E,E=p+L|0,p=x,x=u,u=a,a=L+k|0}a=a+this.A|0,u=u+this.B|0,x=x+this.C|0,p=p+this.D|0,E=E+this.E|0,w=w+this.F|0,y=y+this.G|0,T=T+this.H|0,this.set(a,u,x,p,E,w,y,T)}roundClean(){Rl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Bu=ex(()=>new t5),eh=BigInt(2**32-1),qg=BigInt(32);function b4(l,e=!1){return e?{h:Number(l&eh),l:Number(l>>qg&eh)}:{h:Number(l>>qg&eh)|0,l:Number(l&eh)|0}}function y4(l,e=!1){let t=new Uint32Array(l.length),a=new Uint32Array(l.length);for(let u=0;u<l.length;u++){const{h:x,l:p}=b4(l[u],e);[t[u],a[u]]=[x,p]}return[t,a]}const n5=(l,e)=>BigInt(l>>>0)<<qg|BigInt(e>>>0),r5=(l,e,t)=>l>>>t,i5=(l,e,t)=>l<<32-t|e>>>t,s5=(l,e,t)=>l>>>t|e<<32-t,a5=(l,e,t)=>l<<32-t|e>>>t,l5=(l,e,t)=>l<<64-t|e>>>t-32,o5=(l,e,t)=>l>>>t-32|e<<64-t,c5=(l,e)=>e,u5=(l,e)=>l,w4=(l,e,t)=>l<<t|e>>>32-t,A4=(l,e,t)=>e<<t|l>>>32-t,E4=(l,e,t)=>e<<t-32|l>>>64-t,C4=(l,e,t)=>l<<t-32|e>>>64-t;function f5(l,e,t,a){const u=(e>>>0)+(a>>>0);return{h:l+t+(u/2**32|0)|0,l:u|0}}const d5=(l,e,t)=>(l>>>0)+(e>>>0)+(t>>>0),h5=(l,e,t,a)=>e+t+a+(l/2**32|0)|0,x5=(l,e,t,a)=>(l>>>0)+(e>>>0)+(t>>>0)+(a>>>0),g5=(l,e,t,a,u)=>e+t+a+u+(l/2**32|0)|0,m5=(l,e,t,a,u)=>(l>>>0)+(e>>>0)+(t>>>0)+(a>>>0)+(u>>>0),p5=(l,e,t,a,u,x)=>e+t+a+u+x+(l/2**32|0)|0,ht={fromBig:b4,split:y4,toBig:n5,shrSH:r5,shrSL:i5,rotrSH:s5,rotrSL:a5,rotrBH:l5,rotrBL:o5,rotr32H:c5,rotr32L:u5,rotlSH:w4,rotlSL:A4,rotlBH:E4,rotlBL:C4,add:f5,add3L:d5,add3H:h5,add4L:x5,add4H:g5,add5H:p5,add5L:m5},[b5,y5]=ht.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(l=>BigInt(l))),Ol=new Uint32Array(80),Il=new Uint32Array(80);class w5 extends km{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:a,Bl:u,Ch:x,Cl:p,Dh:E,Dl:w,Eh:y,El:T,Fh:N,Fl:D,Gh:L,Gl:P,Hh:k,Hl:j}=this;return[e,t,a,u,x,p,E,w,y,T,N,D,L,P,k,j]}set(e,t,a,u,x,p,E,w,y,T,N,D,L,P,k,j){this.Ah=e|0,this.Al=t|0,this.Bh=a|0,this.Bl=u|0,this.Ch=x|0,this.Cl=p|0,this.Dh=E|0,this.Dl=w|0,this.Eh=y|0,this.El=T|0,this.Fh=N|0,this.Fl=D|0,this.Gh=L|0,this.Gl=P|0,this.Hh=k|0,this.Hl=j|0}process(e,t){for(let Z=0;Z<16;Z++,t+=4)Ol[Z]=e.getUint32(t),Il[Z]=e.getUint32(t+=4);for(let Z=16;Z<80;Z++){const ie=Ol[Z-15]|0,fe=Il[Z-15]|0,ae=ht.rotrSH(ie,fe,1)^ht.rotrSH(ie,fe,8)^ht.shrSH(ie,fe,7),$=ht.rotrSL(ie,fe,1)^ht.rotrSL(ie,fe,8)^ht.shrSL(ie,fe,7),ue=Ol[Z-2]|0,ce=Il[Z-2]|0,Fe=ht.rotrSH(ue,ce,19)^ht.rotrBH(ue,ce,61)^ht.shrSH(ue,ce,6),Le=ht.rotrSL(ue,ce,19)^ht.rotrBL(ue,ce,61)^ht.shrSL(ue,ce,6),Oe=ht.add4L($,Le,Il[Z-7],Il[Z-16]),Ge=ht.add4H(Oe,ae,Fe,Ol[Z-7],Ol[Z-16]);Ol[Z]=Ge|0,Il[Z]=Oe|0}let{Ah:a,Al:u,Bh:x,Bl:p,Ch:E,Cl:w,Dh:y,Dl:T,Eh:N,El:D,Fh:L,Fl:P,Gh:k,Gl:j,Hh:ee,Hl:re}=this;for(let Z=0;Z<80;Z++){const ie=ht.rotrSH(N,D,14)^ht.rotrSH(N,D,18)^ht.rotrBH(N,D,41),fe=ht.rotrSL(N,D,14)^ht.rotrSL(N,D,18)^ht.rotrBL(N,D,41),ae=N&L^~N&k,$=D&P^~D&j,ue=ht.add5L(re,fe,$,y5[Z],Il[Z]),ce=ht.add5H(ue,ee,ie,ae,b5[Z],Ol[Z]),Fe=ue|0,Le=ht.rotrSH(a,u,28)^ht.rotrBH(a,u,34)^ht.rotrBH(a,u,39),Oe=ht.rotrSL(a,u,28)^ht.rotrBL(a,u,34)^ht.rotrBL(a,u,39),Ge=a&x^a&E^x&E,De=u&p^u&w^p&w;ee=k|0,re=j|0,k=L|0,j=P|0,L=N|0,P=D|0,{h:N,l:D}=ht.add(y|0,T|0,ce|0,Fe|0),y=E|0,T=w|0,E=x|0,w=p|0,x=a|0,p=u|0;const H=ht.add3L(Fe,Oe,De);a=ht.add3H(H,ce,Le,Ge),u=H|0}({h:a,l:u}=ht.add(this.Ah|0,this.Al|0,a|0,u|0)),{h:x,l:p}=ht.add(this.Bh|0,this.Bl|0,x|0,p|0),{h:E,l:w}=ht.add(this.Ch|0,this.Cl|0,E|0,w|0),{h:y,l:T}=ht.add(this.Dh|0,this.Dl|0,y|0,T|0),{h:N,l:D}=ht.add(this.Eh|0,this.El|0,N|0,D|0),{h:L,l:P}=ht.add(this.Fh|0,this.Fl|0,L|0,P|0),{h:k,l:j}=ht.add(this.Gh|0,this.Gl|0,k|0,j|0),{h:ee,l:re}=ht.add(this.Hh|0,this.Hl|0,ee|0,re|0),this.set(a,u,x,p,E,w,y,T,N,D,L,P,k,j,ee,re)}roundClean(){Ol.fill(0),Il.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pm=ex(()=>new w5);function A5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Ny=A5(),vy=Ny.crypto||Ny.msCrypto;function E5(l){switch(l){case"sha256":return Bu.create();case"sha512":return Pm.create()}Y(!1,"invalid hashing algorithm name","algorithm",l)}function C5(l,e){const t={sha256:Bu,sha512:Pm}[l];return Y(t!=null,"invalid hmac algorithm","algorithm",l),tx.create(t,e)}function S5(l,e,t,a,u){const x={sha256:Bu,sha512:Pm}[u];return Y(x!=null,"invalid pbkdf2 algorithm","algorithm",u),Um(x,l,e,{c:t,dkLen:a})}function T5(l){we(vy!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Y(Number.isInteger(l)&&l>0&&l<=1024,"invalid length","length",l);const e=new Uint8Array(l);return vy.getRandomValues(e),e}let S4=!1;const T4=function(l,e,t){return C5(l,e).update(t).digest()};let N4=T4;function Du(l,e,t){const a=ze(e,"key"),u=ze(t,"data");return Be(N4(l,a,u))}Du._=T4;Du.lock=function(){S4=!0};Du.register=function(l){if(S4)throw new Error("computeHmac is locked");N4=l};Object.freeze(Du);const[v4,R4,O4]=[[],[],[]],N5=BigInt(0),Ff=BigInt(1),v5=BigInt(2),R5=BigInt(7),O5=BigInt(256),I5=BigInt(113);for(let l=0,e=Ff,t=1,a=0;l<24;l++){[t,a]=[a,(2*t+3*a)%5],v4.push(2*(5*a+t)),R4.push((l+1)*(l+2)/2%64);let u=N5;for(let x=0;x<7;x++)e=(e<<Ff^(e>>R5)*I5)%O5,e&v5&&(u^=Ff<<(Ff<<BigInt(x))-Ff);O4.push(u)}const[B5,D5]=y4(O4,!0),Ry=(l,e,t)=>t>32?E4(l,e,t):w4(l,e,t),Oy=(l,e,t)=>t>32?C4(l,e,t):A4(l,e,t);function M5(l,e=24){const t=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let p=0;p<10;p++)t[p]=l[p]^l[p+10]^l[p+20]^l[p+30]^l[p+40];for(let p=0;p<10;p+=2){const E=(p+8)%10,w=(p+2)%10,y=t[w],T=t[w+1],N=Ry(y,T,1)^t[E],D=Oy(y,T,1)^t[E+1];for(let L=0;L<50;L+=10)l[p+L]^=N,l[p+L+1]^=D}let u=l[2],x=l[3];for(let p=0;p<24;p++){const E=R4[p],w=Ry(u,x,E),y=Oy(u,x,E),T=v4[p];u=l[T],x=l[T+1],l[T]=w,l[T+1]=y}for(let p=0;p<50;p+=10){for(let E=0;E<10;E++)t[E]=l[p+E];for(let E=0;E<10;E++)l[p+E]^=~t[(E+2)%10]&t[(E+4)%10]}l[0]^=B5[a],l[1]^=D5[a]}t.fill(0)}class Fm extends Lm{constructor(e,t,a,u=!1,x=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=a,this.enableXOF=u,this.rounds=x,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ci(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fh(this.state)}keccak(){M5(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wu(this);const{blockLen:t,state:a}=this;e=Au(e);const u=e.length;for(let x=0;x<u;){const p=Math.min(t-this.pos,u-x);for(let E=0;E<p;E++)a[this.pos++]^=e[x++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:a,blockLen:u}=this;e[a]^=t,(t&128)!==0&&a===u-1&&this.keccak(),e[u-1]^=128,this.keccak()}writeInto(e){wu(this,!1),_m(e),this.finish();const t=this.state,{blockLen:a}=this;for(let u=0,x=e.length;u<x;){this.posOut>=a&&this.keccak();const p=Math.min(a-this.posOut,x-u);e.set(t.subarray(this.posOut,this.posOut+p),u),this.posOut+=p,u+=p}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ci(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(x4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:a,outputLen:u,rounds:x,enableXOF:p}=this;return e||(e=new Fm(t,a,u,p,x)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=x,e.suffix=a,e.outputLen=u,e.enableXOF=p,e.destroyed=this.destroyed,e}}const _5=(l,e,t)=>ex(()=>new Fm(e,l,t)),L5=_5(1,136,256/8);let I4=!1;const B4=function(l){return L5(l)};let D4=B4;function mn(l){const e=ze(l,"data");return Be(D4(e))}mn._=B4;mn.lock=function(){I4=!0};mn.register=function(l){if(I4)throw new TypeError("keccak256 is locked");D4=l};Object.freeze(mn);const U5=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),M4=Uint8Array.from({length:16},(l,e)=>e),k5=M4.map(l=>(9*l+5)%16);let Hm=[M4],Gm=[k5];for(let l=0;l<4;l++)for(let e of[Hm,Gm])e.push(e[l].map(t=>U5[t]));const _4=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(l=>new Uint8Array(l)),P5=Hm.map((l,e)=>l.map(t=>_4[e][t])),F5=Gm.map((l,e)=>l.map(t=>_4[e][t])),H5=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),G5=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),th=(l,e)=>l<<e|l>>>32-e;function Iy(l,e,t,a){return l===0?e^t^a:l===1?e&t|~e&a:l===2?(e|~t)^a:l===3?e&a|t&~a:e^(t|~a)}const nh=new Uint32Array(16);class z5 extends km{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:a,h3:u,h4:x}=this;return[e,t,a,u,x]}set(e,t,a,u,x){this.h0=e|0,this.h1=t|0,this.h2=a|0,this.h3=u|0,this.h4=x|0}process(e,t){for(let L=0;L<16;L++,t+=4)nh[L]=e.getUint32(t,!0);let a=this.h0|0,u=a,x=this.h1|0,p=x,E=this.h2|0,w=E,y=this.h3|0,T=y,N=this.h4|0,D=N;for(let L=0;L<5;L++){const P=4-L,k=H5[L],j=G5[L],ee=Hm[L],re=Gm[L],Z=P5[L],ie=F5[L];for(let fe=0;fe<16;fe++){const ae=th(a+Iy(L,x,E,y)+nh[ee[fe]]+k,Z[fe])+N|0;a=N,N=y,y=th(E,10)|0,E=x,x=ae}for(let fe=0;fe<16;fe++){const ae=th(u+Iy(P,p,w,T)+nh[re[fe]]+j,ie[fe])+D|0;u=D,D=T,T=th(w,10)|0,w=p,p=ae}}this.set(this.h1+E+T|0,this.h2+y+D|0,this.h3+N+u|0,this.h4+a+p|0,this.h0+x+w|0)}roundClean(){nh.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const V5=ex(()=>new z5);let L4=!1;const U4=function(l){return V5(l)};let k4=U4;function Mu(l){const e=ze(l,"data");return Be(k4(e))}Mu._=U4;Mu.lock=function(){L4=!0};Mu.register=function(l){if(L4)throw new TypeError("ripemd160 is locked");k4=l};Object.freeze(Mu);let P4=!1;const F4=function(l,e,t,a,u){return S5(l,e,t,a,u)};let H4=F4;function eo(l,e,t,a,u){const x=ze(l,"password"),p=ze(e,"salt");return Be(H4(x,p,t,a,u))}eo._=F4;eo.lock=function(){P4=!0};eo.register=function(l){if(P4)throw new Error("pbkdf2 is locked");H4=l};Object.freeze(eo);let G4=!1;const z4=function(l){return new Uint8Array(T5(l))};let V4=z4;function Fa(l){return V4(l)}Fa._=z4;Fa.lock=function(){G4=!0};Fa.register=function(l){if(G4)throw new Error("randomBytes is locked");V4=l};Object.freeze(Fa);const Mt=(l,e)=>l<<e|l>>>32-e;function By(l,e,t,a,u,x){let p=l[e++]^t[a++],E=l[e++]^t[a++],w=l[e++]^t[a++],y=l[e++]^t[a++],T=l[e++]^t[a++],N=l[e++]^t[a++],D=l[e++]^t[a++],L=l[e++]^t[a++],P=l[e++]^t[a++],k=l[e++]^t[a++],j=l[e++]^t[a++],ee=l[e++]^t[a++],re=l[e++]^t[a++],Z=l[e++]^t[a++],ie=l[e++]^t[a++],fe=l[e++]^t[a++],ae=p,$=E,ue=w,ce=y,Fe=T,Le=N,Oe=D,Ge=L,De=P,H=k,V=j,J=ee,Ae=re,He=Z,X=ie,be=fe;for(let Ne=0;Ne<8;Ne+=2)Fe^=Mt(ae+Ae|0,7),De^=Mt(Fe+ae|0,9),Ae^=Mt(De+Fe|0,13),ae^=Mt(Ae+De|0,18),H^=Mt(Le+$|0,7),He^=Mt(H+Le|0,9),$^=Mt(He+H|0,13),Le^=Mt($+He|0,18),X^=Mt(V+Oe|0,7),ue^=Mt(X+V|0,9),Oe^=Mt(ue+X|0,13),V^=Mt(Oe+ue|0,18),ce^=Mt(be+J|0,7),Ge^=Mt(ce+be|0,9),J^=Mt(Ge+ce|0,13),be^=Mt(J+Ge|0,18),$^=Mt(ae+ce|0,7),ue^=Mt($+ae|0,9),ce^=Mt(ue+$|0,13),ae^=Mt(ce+ue|0,18),Oe^=Mt(Le+Fe|0,7),Ge^=Mt(Oe+Le|0,9),Fe^=Mt(Ge+Oe|0,13),Le^=Mt(Fe+Ge|0,18),J^=Mt(V+H|0,7),De^=Mt(J+V|0,9),H^=Mt(De+J|0,13),V^=Mt(H+De|0,18),Ae^=Mt(be+X|0,7),He^=Mt(Ae+be|0,9),X^=Mt(He+Ae|0,13),be^=Mt(X+He|0,18);u[x++]=p+ae|0,u[x++]=E+$|0,u[x++]=w+ue|0,u[x++]=y+ce|0,u[x++]=T+Fe|0,u[x++]=N+Le|0,u[x++]=D+Oe|0,u[x++]=L+Ge|0,u[x++]=P+De|0,u[x++]=k+H|0,u[x++]=j+V|0,u[x++]=ee+J|0,u[x++]=re+Ae|0,u[x++]=Z+He|0,u[x++]=ie+X|0,u[x++]=fe+be|0}function v0(l,e,t,a,u){let x=a+0,p=a+16*u;for(let E=0;E<16;E++)t[p+E]=l[e+(2*u-1)*16+E];for(let E=0;E<u;E++,x+=16,e+=16)By(t,p,l,e,t,x),E>0&&(p+=16),By(t,x,l,e+=16,t,p)}function j4(l,e,t){const a=m4({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:u,r:x,p,dkLen:E,asyncTick:w,maxmem:y,onProgress:T}=a;if(Ci(u),Ci(x),Ci(p),Ci(E),Ci(w),Ci(y),T!==void 0&&typeof T!="function")throw new Error("progressCb should be function");const N=128*x,D=N/4;if(u<=1||(u&u-1)!==0||u>=2**(N/8)||u>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(p<0||p>(2**32-1)*32/N)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(E<0||E>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const L=N*(u+p);if(L>y)throw new Error(`Scrypt: parameters too large, ${L} (128 * r * (N + p)) > ${y} (maxmem)`);const P=Um(Bu,l,e,{c:1,dkLen:N*p}),k=fh(P),j=fh(new Uint8Array(N*u)),ee=fh(new Uint8Array(N));let re=()=>{};if(T){const Z=2*u*p,ie=Math.max(Math.floor(Z/1e4),1);let fe=0;re=()=>{fe++,T&&(!(fe%ie)||fe===Z)&&T(fe/Z)}}return{N:u,r:x,p,dkLen:E,blockSize32:D,V:j,B32:k,B:P,tmp:ee,blockMixCb:re,asyncTick:w}}function X4(l,e,t,a,u){const x=Um(Bu,l,t,{c:1,dkLen:e});return t.fill(0),a.fill(0),u.fill(0),x}function j5(l,e,t){const{N:a,r:u,p:x,dkLen:p,blockSize32:E,V:w,B32:y,B:T,tmp:N,blockMixCb:D}=j4(l,e,t);for(let L=0;L<x;L++){const P=E*L;for(let k=0;k<E;k++)w[k]=y[P+k];for(let k=0,j=0;k<a-1;k++)v0(w,j,w,j+=E,u),D();v0(w,(a-1)*E,y,P,u),D();for(let k=0;k<a;k++){const j=y[P+E-16]%a;for(let ee=0;ee<E;ee++)N[ee]=y[P+ee]^w[j*E+ee];v0(N,0,y,P,u),D()}}return X4(l,p,T,w,N)}async function X5(l,e,t){const{N:a,r:u,p:x,dkLen:p,blockSize32:E,V:w,B32:y,B:T,tmp:N,blockMixCb:D,asyncTick:L}=j4(l,e,t);for(let P=0;P<x;P++){const k=E*P;for(let ee=0;ee<E;ee++)w[ee]=y[k+ee];let j=0;await Ty(a-1,L,()=>{v0(w,j,w,j+=E,u),D()}),v0(w,(a-1)*E,y,k,u),D(),await Ty(a,L,()=>{const ee=y[k+E-16]%a;for(let re=0;re<E;re++)N[re]=y[k+re]^w[ee*E+re];v0(N,0,y,k,u),D()})}return X4(l,p,T,w,N)}let Y4=!1,Q4=!1;const K4=async function(l,e,t,a,u,x,p){return await X5(l,e,{N:t,r:a,p:u,dkLen:x,onProgress:p})},Z4=function(l,e,t,a,u,x){return j5(l,e,{N:t,r:a,p:u,dkLen:x})};let W4=K4,q4=Z4;async function _u(l,e,t,a,u,x,p){const E=ze(l,"passwd"),w=ze(e,"salt");return Be(await W4(E,w,t,a,u,x,p))}_u._=K4;_u.lock=function(){Q4=!0};_u.register=function(l){if(Q4)throw new Error("scrypt is locked");W4=l};Object.freeze(_u);function Lu(l,e,t,a,u,x){const p=ze(l,"passwd"),E=ze(e,"salt");return Be(q4(p,E,t,a,u,x))}Lu._=Z4;Lu.lock=function(){Y4=!0};Lu.register=function(l){if(Y4)throw new Error("scryptSync is locked");q4=l};Object.freeze(Lu);const J4=function(l){return E5("sha256").update(l).digest()};let $4=J4,ew=!1;function Xi(l){const e=ze(l,"data");return Be($4(e))}Xi._=J4;Xi.lock=function(){ew=!0};Xi.register=function(l){if(ew)throw new Error("sha256 is locked");$4=l};Object.freeze(Xi);Object.freeze(Xi);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tw=BigInt(0),nx=BigInt(1),Y5=BigInt(2),rx=l=>l instanceof Uint8Array,Q5=Array.from({length:256},(l,e)=>e.toString(16).padStart(2,"0"));function Eu(l){if(!rx(l))throw new Error("Uint8Array expected");let e="";for(let t=0;t<l.length;t++)e+=Q5[l[t]];return e}function nw(l){const e=l.toString(16);return e.length&1?`0${e}`:e}function zm(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);return BigInt(l===""?"0":`0x${l}`)}function Cu(l){if(typeof l!="string")throw new Error("hex string expected, got "+typeof l);const e=l.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let a=0;a<t.length;a++){const u=a*2,x=l.slice(u,u+2),p=Number.parseInt(x,16);if(Number.isNaN(p)||p<0)throw new Error("Invalid byte sequence");t[a]=p}return t}function fc(l){return zm(Eu(l))}function Vm(l){if(!rx(l))throw new Error("Uint8Array expected");return zm(Eu(Uint8Array.from(l).reverse()))}function Su(l,e){return Cu(l.toString(16).padStart(e*2,"0"))}function jm(l,e){return Su(l,e).reverse()}function K5(l){return Cu(nw(l))}function is(l,e,t){let a;if(typeof e=="string")try{a=Cu(e)}catch(x){throw new Error(`${l} must be valid hex string, got "${e}". Cause: ${x}`)}else if(rx(e))a=Uint8Array.from(e);else throw new Error(`${l} must be hex string or Uint8Array`);const u=a.length;if(typeof t=="number"&&u!==t)throw new Error(`${l} expected ${t} bytes, got ${u}`);return a}function td(...l){const e=new Uint8Array(l.reduce((a,u)=>a+u.length,0));let t=0;return l.forEach(a=>{if(!rx(a))throw new Error("Uint8Array expected");e.set(a,t),t+=a.length}),e}function Z5(l,e){if(l.length!==e.length)return!1;for(let t=0;t<l.length;t++)if(l[t]!==e[t])return!1;return!0}function W5(l){if(typeof l!="string")throw new Error(`utf8ToBytes expected string, got ${typeof l}`);return new Uint8Array(new TextEncoder().encode(l))}function q5(l){let e;for(e=0;l>tw;l>>=nx,e+=1);return e}function J5(l,e){return l>>BigInt(e)&nx}const $5=(l,e,t)=>l|(t?nx:tw)<<BigInt(e),Xm=l=>(Y5<<BigInt(l-1))-nx,bg=l=>new Uint8Array(l),Dy=l=>Uint8Array.from(l);function rw(l,e,t){if(typeof l!="number"||l<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let a=bg(l),u=bg(l),x=0;const p=()=>{a.fill(1),u.fill(0),x=0},E=(...N)=>t(u,a,...N),w=(N=bg())=>{u=E(Dy([0]),N),a=E(),N.length!==0&&(u=E(Dy([1]),N),a=E())},y=()=>{if(x++>=1e3)throw new Error("drbg: tried 1000 values");let N=0;const D=[];for(;N<e;){a=E();const L=a.slice();D.push(L),N+=a.length}return td(...D)};return(N,D)=>{p(),w(N);let L;for(;!(L=D(y()));)w();return p(),L}}const e7={bigint:l=>typeof l=="bigint",function:l=>typeof l=="function",boolean:l=>typeof l=="boolean",string:l=>typeof l=="string",stringOrUint8Array:l=>typeof l=="string"||l instanceof Uint8Array,isSafeInteger:l=>Number.isSafeInteger(l),array:l=>Array.isArray(l),field:(l,e)=>e.Fp.isValid(l),hash:l=>typeof l=="function"&&Number.isSafeInteger(l.outputLen)};function Dd(l,e,t={}){const a=(u,x,p)=>{const E=e7[x];if(typeof E!="function")throw new Error(`Invalid validator "${x}", expected function`);const w=l[u];if(!(p&&w===void 0)&&!E(w,l))throw new Error(`Invalid param ${String(u)}=${w} (${typeof w}), expected ${x}`)};for(const[u,x]of Object.entries(e))a(u,x,!1);for(const[u,x]of Object.entries(t))a(u,x,!0);return l}const t7=Object.freeze(Object.defineProperty({__proto__:null,bitGet:J5,bitLen:q5,bitMask:Xm,bitSet:$5,bytesToHex:Eu,bytesToNumberBE:fc,bytesToNumberLE:Vm,concatBytes:td,createHmacDrbg:rw,ensureBytes:is,equalBytes:Z5,hexToBytes:Cu,hexToNumber:zm,numberToBytesBE:Su,numberToBytesLE:jm,numberToHexUnpadded:nw,numberToVarBytesBE:K5,utf8ToBytes:W5,validateObject:Dd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),Fn=BigInt(1),Lo=BigInt(2),n7=BigInt(3),Jg=BigInt(4),My=BigInt(5),_y=BigInt(8);BigInt(9);BigInt(16);function ni(l,e){const t=l%e;return t>=or?t:e+t}function r7(l,e,t){if(t<=or||e<or)throw new Error("Expected power/modulo > 0");if(t===Fn)return or;let a=Fn;for(;e>or;)e&Fn&&(a=a*l%t),l=l*l%t,e>>=Fn;return a}function Mi(l,e,t){let a=l;for(;e-- >or;)a*=a,a%=t;return a}function $g(l,e){if(l===or||e<=or)throw new Error(`invert: expected positive integers, got n=${l} mod=${e}`);let t=ni(l,e),a=e,u=or,x=Fn;for(;t!==or;){const E=a/t,w=a%t,y=u-x*E;a=t,t=w,u=x,x=y}if(a!==Fn)throw new Error("invert: does not exist");return ni(u,e)}function i7(l){const e=(l-Fn)/Lo;let t,a,u;for(t=l-Fn,a=0;t%Lo===or;t/=Lo,a++);for(u=Lo;u<l&&r7(u,e,l)!==l-Fn;u++);if(a===1){const p=(l+Fn)/Jg;return function(w,y){const T=w.pow(y,p);if(!w.eql(w.sqr(T),y))throw new Error("Cannot find square root");return T}}const x=(t+Fn)/Lo;return function(E,w){if(E.pow(w,e)===E.neg(E.ONE))throw new Error("Cannot find square root");let y=a,T=E.pow(E.mul(E.ONE,u),t),N=E.pow(w,x),D=E.pow(w,t);for(;!E.eql(D,E.ONE);){if(E.eql(D,E.ZERO))return E.ZERO;let L=1;for(let k=E.sqr(D);L<y&&!E.eql(k,E.ONE);L++)k=E.sqr(k);const P=E.pow(T,Fn<<BigInt(y-L-1));T=E.sqr(P),N=E.mul(N,P),D=E.mul(D,T),y=L}return N}}function s7(l){if(l%Jg===n7){const e=(l+Fn)/Jg;return function(a,u){const x=a.pow(u,e);if(!a.eql(a.sqr(x),u))throw new Error("Cannot find square root");return x}}if(l%_y===My){const e=(l-My)/_y;return function(a,u){const x=a.mul(u,Lo),p=a.pow(x,e),E=a.mul(u,p),w=a.mul(a.mul(E,Lo),p),y=a.mul(E,a.sub(w,a.ONE));if(!a.eql(a.sqr(y),u))throw new Error("Cannot find square root");return y}}return i7(l)}const a7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function l7(l){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=a7.reduce((a,u)=>(a[u]="function",a),e);return Dd(l,t)}function o7(l,e,t){if(t<or)throw new Error("Expected power > 0");if(t===or)return l.ONE;if(t===Fn)return e;let a=l.ONE,u=e;for(;t>or;)t&Fn&&(a=l.mul(a,u)),u=l.sqr(u),t>>=Fn;return a}function c7(l,e){const t=new Array(e.length),a=e.reduce((x,p,E)=>l.is0(p)?x:(t[E]=x,l.mul(x,p)),l.ONE),u=l.inv(a);return e.reduceRight((x,p,E)=>l.is0(p)?x:(t[E]=l.mul(x,t[E]),l.mul(x,p)),u),t}function iw(l,e){const t=e!==void 0?e:l.toString(2).length,a=Math.ceil(t/8);return{nBitLength:t,nByteLength:a}}function u7(l,e,t=!1,a={}){if(l<=or)throw new Error(`Expected Field ORDER > 0, got ${l}`);const{nBitLength:u,nByteLength:x}=iw(l,e);if(x>2048)throw new Error("Field lengths over 2048 bytes are not supported");const p=s7(l),E=Object.freeze({ORDER:l,BITS:u,BYTES:x,MASK:Xm(u),ZERO:or,ONE:Fn,create:w=>ni(w,l),isValid:w=>{if(typeof w!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof w}`);return or<=w&&w<l},is0:w=>w===or,isOdd:w=>(w&Fn)===Fn,neg:w=>ni(-w,l),eql:(w,y)=>w===y,sqr:w=>ni(w*w,l),add:(w,y)=>ni(w+y,l),sub:(w,y)=>ni(w-y,l),mul:(w,y)=>ni(w*y,l),pow:(w,y)=>o7(E,w,y),div:(w,y)=>ni(w*$g(y,l),l),sqrN:w=>w*w,addN:(w,y)=>w+y,subN:(w,y)=>w-y,mulN:(w,y)=>w*y,inv:w=>$g(w,l),sqrt:a.sqrt||(w=>p(E,w)),invertBatch:w=>c7(E,w),cmov:(w,y,T)=>T?y:w,toBytes:w=>t?jm(w,x):Su(w,x),fromBytes:w=>{if(w.length!==x)throw new Error(`Fp.fromBytes: expected ${x}, got ${w.length}`);return t?Vm(w):fc(w)}});return Object.freeze(E)}function sw(l){if(typeof l!="bigint")throw new Error("field order must be bigint");const e=l.toString(2).length;return Math.ceil(e/8)}function aw(l){const e=sw(l);return e+Math.ceil(e/2)}function f7(l,e,t=!1){const a=l.length,u=sw(e),x=aw(e);if(a<16||a<x||a>1024)throw new Error(`expected ${x}-1024 bytes of input, got ${a}`);const p=t?fc(l):Vm(l),E=ni(p,e-Fn)+Fn;return t?jm(E,u):Su(E,u)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const d7=BigInt(0),yg=BigInt(1);function h7(l,e){const t=(u,x)=>{const p=x.negate();return u?p:x},a=u=>{const x=Math.ceil(e/u)+1,p=2**(u-1);return{windows:x,windowSize:p}};return{constTimeNegate:t,unsafeLadder(u,x){let p=l.ZERO,E=u;for(;x>d7;)x&yg&&(p=p.add(E)),E=E.double(),x>>=yg;return p},precomputeWindow(u,x){const{windows:p,windowSize:E}=a(x),w=[];let y=u,T=y;for(let N=0;N<p;N++){T=y,w.push(T);for(let D=1;D<E;D++)T=T.add(y),w.push(T);y=T.double()}return w},wNAF(u,x,p){const{windows:E,windowSize:w}=a(u);let y=l.ZERO,T=l.BASE;const N=BigInt(2**u-1),D=2**u,L=BigInt(u);for(let P=0;P<E;P++){const k=P*w;let j=Number(p&N);p>>=L,j>w&&(j-=D,p+=yg);const ee=k,re=k+Math.abs(j)-1,Z=P%2!==0,ie=j<0;j===0?T=T.add(t(Z,x[ee])):y=y.add(t(ie,x[re]))}return{p:y,f:T}},wNAFCached(u,x,p,E){const w=u._WINDOW_SIZE||1;let y=x.get(u);return y||(y=this.precomputeWindow(u,w),w!==1&&x.set(u,E(y))),this.wNAF(w,y,p)}}}function lw(l){return l7(l.Fp),Dd(l,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iw(l.n,l.nBitLength),...l,p:l.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function x7(l){const e=lw(l);Dd(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:a,a:u}=e;if(t){if(!a.eql(u,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:g7,hexToBytes:m7}=t7,Ho={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(l){const{Err:e}=Ho;if(l.length<2||l[0]!==2)throw new e("Invalid signature integer tag");const t=l[1],a=l.subarray(2,t+2);if(!t||a.length!==t)throw new e("Invalid signature integer: wrong length");if(a[0]&128)throw new e("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:g7(a),l:l.subarray(t+2)}},toSig(l){const{Err:e}=Ho,t=typeof l=="string"?m7(l):l;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let a=t.length;if(a<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==a-2)throw new e("Invalid signature: incorrect length");const{d:u,l:x}=Ho._parseInt(t.subarray(2)),{d:p,l:E}=Ho._parseInt(x);if(E.length)throw new e("Invalid signature: left bytes after parsing");return{r:u,s:p}},hexFromSig(l){const e=y=>Number.parseInt(y[0],16)&8?"00"+y:y,t=y=>{const T=y.toString(16);return T.length&1?`0${T}`:T},a=e(t(l.s)),u=e(t(l.r)),x=a.length/2,p=u.length/2,E=t(x),w=t(p);return`30${t(p+x+4)}02${w}${u}02${E}${a}`}},ka=BigInt(0),ji=BigInt(1);BigInt(2);const Ly=BigInt(3);BigInt(4);function p7(l){const e=x7(l),{Fp:t}=e,a=e.toBytes||((P,k,j)=>{const ee=k.toAffine();return td(Uint8Array.from([4]),t.toBytes(ee.x),t.toBytes(ee.y))}),u=e.fromBytes||(P=>{const k=P.subarray(1),j=t.fromBytes(k.subarray(0,t.BYTES)),ee=t.fromBytes(k.subarray(t.BYTES,2*t.BYTES));return{x:j,y:ee}});function x(P){const{a:k,b:j}=e,ee=t.sqr(P),re=t.mul(ee,P);return t.add(t.add(re,t.mul(P,k)),j)}if(!t.eql(t.sqr(e.Gy),x(e.Gx)))throw new Error("bad generator point: equation left != right");function p(P){return typeof P=="bigint"&&ka<P&&P<e.n}function E(P){if(!p(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function w(P){const{allowedPrivateKeyLengths:k,nByteLength:j,wrapPrivateKey:ee,n:re}=e;if(k&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=Eu(P)),typeof P!="string"||!k.includes(P.length))throw new Error("Invalid key");P=P.padStart(j*2,"0")}let Z;try{Z=typeof P=="bigint"?P:fc(is("private key",P,j))}catch{throw new Error(`private key must be ${j} bytes, hex or bigint, not ${typeof P}`)}return ee&&(Z=ni(Z,re)),E(Z),Z}const y=new Map;function T(P){if(!(P instanceof N))throw new Error("ProjectivePoint expected")}class N{constructor(k,j,ee){if(this.px=k,this.py=j,this.pz=ee,k==null||!t.isValid(k))throw new Error("x required");if(j==null||!t.isValid(j))throw new Error("y required");if(ee==null||!t.isValid(ee))throw new Error("z required")}static fromAffine(k){const{x:j,y:ee}=k||{};if(!k||!t.isValid(j)||!t.isValid(ee))throw new Error("invalid affine point");if(k instanceof N)throw new Error("projective point not allowed");const re=Z=>t.eql(Z,t.ZERO);return re(j)&&re(ee)?N.ZERO:new N(j,ee,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const j=t.invertBatch(k.map(ee=>ee.pz));return k.map((ee,re)=>ee.toAffine(j[re])).map(N.fromAffine)}static fromHex(k){const j=N.fromAffine(u(is("pointHex",k)));return j.assertValidity(),j}static fromPrivateKey(k){return N.BASE.multiply(w(k))}_setWindowSize(k){this._WINDOW_SIZE=k,y.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:k,y:j}=this.toAffine();if(!t.isValid(k)||!t.isValid(j))throw new Error("bad point: x or y not FE");const ee=t.sqr(j),re=x(k);if(!t.eql(ee,re))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:k}=this.toAffine();if(t.isOdd)return!t.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){T(k);const{px:j,py:ee,pz:re}=this,{px:Z,py:ie,pz:fe}=k,ae=t.eql(t.mul(j,fe),t.mul(Z,re)),$=t.eql(t.mul(ee,fe),t.mul(ie,re));return ae&&$}negate(){return new N(this.px,t.neg(this.py),this.pz)}double(){const{a:k,b:j}=e,ee=t.mul(j,Ly),{px:re,py:Z,pz:ie}=this;let fe=t.ZERO,ae=t.ZERO,$=t.ZERO,ue=t.mul(re,re),ce=t.mul(Z,Z),Fe=t.mul(ie,ie),Le=t.mul(re,Z);return Le=t.add(Le,Le),$=t.mul(re,ie),$=t.add($,$),fe=t.mul(k,$),ae=t.mul(ee,Fe),ae=t.add(fe,ae),fe=t.sub(ce,ae),ae=t.add(ce,ae),ae=t.mul(fe,ae),fe=t.mul(Le,fe),$=t.mul(ee,$),Fe=t.mul(k,Fe),Le=t.sub(ue,Fe),Le=t.mul(k,Le),Le=t.add(Le,$),$=t.add(ue,ue),ue=t.add($,ue),ue=t.add(ue,Fe),ue=t.mul(ue,Le),ae=t.add(ae,ue),Fe=t.mul(Z,ie),Fe=t.add(Fe,Fe),ue=t.mul(Fe,Le),fe=t.sub(fe,ue),$=t.mul(Fe,ce),$=t.add($,$),$=t.add($,$),new N(fe,ae,$)}add(k){T(k);const{px:j,py:ee,pz:re}=this,{px:Z,py:ie,pz:fe}=k;let ae=t.ZERO,$=t.ZERO,ue=t.ZERO;const ce=e.a,Fe=t.mul(e.b,Ly);let Le=t.mul(j,Z),Oe=t.mul(ee,ie),Ge=t.mul(re,fe),De=t.add(j,ee),H=t.add(Z,ie);De=t.mul(De,H),H=t.add(Le,Oe),De=t.sub(De,H),H=t.add(j,re);let V=t.add(Z,fe);return H=t.mul(H,V),V=t.add(Le,Ge),H=t.sub(H,V),V=t.add(ee,re),ae=t.add(ie,fe),V=t.mul(V,ae),ae=t.add(Oe,Ge),V=t.sub(V,ae),ue=t.mul(ce,H),ae=t.mul(Fe,Ge),ue=t.add(ae,ue),ae=t.sub(Oe,ue),ue=t.add(Oe,ue),$=t.mul(ae,ue),Oe=t.add(Le,Le),Oe=t.add(Oe,Le),Ge=t.mul(ce,Ge),H=t.mul(Fe,H),Oe=t.add(Oe,Ge),Ge=t.sub(Le,Ge),Ge=t.mul(ce,Ge),H=t.add(H,Ge),Le=t.mul(Oe,H),$=t.add($,Le),Le=t.mul(V,H),ae=t.mul(De,ae),ae=t.sub(ae,Le),Le=t.mul(De,Oe),ue=t.mul(V,ue),ue=t.add(ue,Le),new N(ae,$,ue)}subtract(k){return this.add(k.negate())}is0(){return this.equals(N.ZERO)}wNAF(k){return L.wNAFCached(this,y,k,j=>{const ee=t.invertBatch(j.map(re=>re.pz));return j.map((re,Z)=>re.toAffine(ee[Z])).map(N.fromAffine)})}multiplyUnsafe(k){const j=N.ZERO;if(k===ka)return j;if(E(k),k===ji)return this;const{endo:ee}=e;if(!ee)return L.unsafeLadder(this,k);let{k1neg:re,k1:Z,k2neg:ie,k2:fe}=ee.splitScalar(k),ae=j,$=j,ue=this;for(;Z>ka||fe>ka;)Z&ji&&(ae=ae.add(ue)),fe&ji&&($=$.add(ue)),ue=ue.double(),Z>>=ji,fe>>=ji;return re&&(ae=ae.negate()),ie&&($=$.negate()),$=new N(t.mul($.px,ee.beta),$.py,$.pz),ae.add($)}multiply(k){E(k);let j=k,ee,re;const{endo:Z}=e;if(Z){const{k1neg:ie,k1:fe,k2neg:ae,k2:$}=Z.splitScalar(j);let{p:ue,f:ce}=this.wNAF(fe),{p:Fe,f:Le}=this.wNAF($);ue=L.constTimeNegate(ie,ue),Fe=L.constTimeNegate(ae,Fe),Fe=new N(t.mul(Fe.px,Z.beta),Fe.py,Fe.pz),ee=ue.add(Fe),re=ce.add(Le)}else{const{p:ie,f:fe}=this.wNAF(j);ee=ie,re=fe}return N.normalizeZ([ee,re])[0]}multiplyAndAddUnsafe(k,j,ee){const re=N.BASE,Z=(fe,ae)=>ae===ka||ae===ji||!fe.equals(re)?fe.multiplyUnsafe(ae):fe.multiply(ae),ie=Z(this,j).add(Z(k,ee));return ie.is0()?void 0:ie}toAffine(k){const{px:j,py:ee,pz:re}=this,Z=this.is0();k==null&&(k=Z?t.ONE:t.inv(re));const ie=t.mul(j,k),fe=t.mul(ee,k),ae=t.mul(re,k);if(Z)return{x:t.ZERO,y:t.ZERO};if(!t.eql(ae,t.ONE))throw new Error("invZ was invalid");return{x:ie,y:fe}}isTorsionFree(){const{h:k,isTorsionFree:j}=e;if(k===ji)return!0;if(j)return j(N,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:j}=e;return k===ji?this:j?j(N,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return this.assertValidity(),a(N,this,k)}toHex(k=!0){return Eu(this.toRawBytes(k))}}N.BASE=new N(e.Gx,e.Gy,t.ONE),N.ZERO=new N(t.ZERO,t.ONE,t.ZERO);const D=e.nBitLength,L=h7(N,e.endo?Math.ceil(D/2):D);return{CURVE:e,ProjectivePoint:N,normPrivateKeyToScalar:w,weierstrassEquation:x,isWithinCurveOrder:p}}function b7(l){const e=lw(l);return Dd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function y7(l){const e=b7(l),{Fp:t,n:a}=e,u=t.BYTES+1,x=2*t.BYTES+1;function p(H){return ka<H&&H<t.ORDER}function E(H){return ni(H,a)}function w(H){return $g(H,a)}const{ProjectivePoint:y,normPrivateKeyToScalar:T,weierstrassEquation:N,isWithinCurveOrder:D}=p7({...e,toBytes(H,V,J){const Ae=V.toAffine(),He=t.toBytes(Ae.x),X=td;return J?X(Uint8Array.from([V.hasEvenY()?2:3]),He):X(Uint8Array.from([4]),He,t.toBytes(Ae.y))},fromBytes(H){const V=H.length,J=H[0],Ae=H.subarray(1);if(V===u&&(J===2||J===3)){const He=fc(Ae);if(!p(He))throw new Error("Point is not on curve");const X=N(He);let be=t.sqrt(X);const Ne=(be&ji)===ji;return(J&1)===1!==Ne&&(be=t.neg(be)),{x:He,y:be}}else if(V===x&&J===4){const He=t.fromBytes(Ae.subarray(0,t.BYTES)),X=t.fromBytes(Ae.subarray(t.BYTES,2*t.BYTES));return{x:He,y:X}}else throw new Error(`Point of length ${V} was invalid. Expected ${u} compressed bytes or ${x} uncompressed bytes`)}}),L=H=>Eu(Su(H,e.nByteLength));function P(H){const V=a>>ji;return H>V}function k(H){return P(H)?E(-H):H}const j=(H,V,J)=>fc(H.slice(V,J));class ee{constructor(V,J,Ae){this.r=V,this.s=J,this.recovery=Ae,this.assertValidity()}static fromCompact(V){const J=e.nByteLength;return V=is("compactSignature",V,J*2),new ee(j(V,0,J),j(V,J,2*J))}static fromDER(V){const{r:J,s:Ae}=Ho.toSig(is("DER",V));return new ee(J,Ae)}assertValidity(){if(!D(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!D(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(V){return new ee(this.r,this.s,V)}recoverPublicKey(V){const{r:J,s:Ae,recovery:He}=this,X=$(is("msgHash",V));if(He==null||![0,1,2,3].includes(He))throw new Error("recovery id invalid");const be=He===2||He===3?J+e.n:J;if(be>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ne=(He&1)===0?"02":"03",_e=y.fromHex(Ne+L(be)),ke=w(be),ct=E(-X*ke),ve=E(Ae*ke),sn=y.BASE.multiplyAndAddUnsafe(_e,ct,ve);if(!sn)throw new Error("point at infinify");return sn.assertValidity(),sn}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new ee(this.r,E(-this.s),this.recovery):this}toDERRawBytes(){return Cu(this.toDERHex())}toDERHex(){return Ho.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Cu(this.toCompactHex())}toCompactHex(){return L(this.r)+L(this.s)}}const re={isValidPrivateKey(H){try{return T(H),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const H=aw(e.n);return f7(e.randomBytes(H),e.n)},precompute(H=8,V=y.BASE){return V._setWindowSize(H),V.multiply(BigInt(3)),V}};function Z(H,V=!0){return y.fromPrivateKey(H).toRawBytes(V)}function ie(H){const V=H instanceof Uint8Array,J=typeof H=="string",Ae=(V||J)&&H.length;return V?Ae===u||Ae===x:J?Ae===2*u||Ae===2*x:H instanceof y}function fe(H,V,J=!0){if(ie(H))throw new Error("first arg must be private key");if(!ie(V))throw new Error("second arg must be public key");return y.fromHex(V).multiply(T(H)).toRawBytes(J)}const ae=e.bits2int||function(H){const V=fc(H),J=H.length*8-e.nBitLength;return J>0?V>>BigInt(J):V},$=e.bits2int_modN||function(H){return E(ae(H))},ue=Xm(e.nBitLength);function ce(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(ka<=H&&H<ue))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Su(H,e.nByteLength)}function Fe(H,V,J=Le){if(["recovered","canonical"].some(An=>An in J))throw new Error("sign() legacy options not supported");const{hash:Ae,randomBytes:He}=e;let{lowS:X,prehash:be,extraEntropy:Ne}=J;X==null&&(X=!0),H=is("msgHash",H),be&&(H=is("prehashed msgHash",Ae(H)));const _e=$(H),ke=T(V),ct=[ce(ke),ce(_e)];if(Ne!=null){const An=Ne===!0?He(t.BYTES):Ne;ct.push(is("extraEntropy",An))}const ve=td(...ct),sn=_e;function it(An){const Cr=ae(An);if(!D(Cr))return;const En=w(Cr),kr=y.BASE.multiply(Cr).toAffine(),st=E(kr.x);if(st===ka)return;const ur=E(En*E(sn+st*ke));if(ur===ka)return;let Pr=(kr.x===st?0:2)|Number(kr.y&ji),ms=ur;return X&&P(ur)&&(ms=k(ur),Pr^=1),new ee(st,ms,Pr)}return{seed:ve,k2sig:it}}const Le={lowS:e.lowS,prehash:!1},Oe={lowS:e.lowS,prehash:!1};function Ge(H,V,J=Le){const{seed:Ae,k2sig:He}=Fe(H,V,J),X=e;return rw(X.hash.outputLen,X.nByteLength,X.hmac)(Ae,He)}y.BASE._setWindowSize(8);function De(H,V,J,Ae=Oe){var kr;const He=H;if(V=is("msgHash",V),J=is("publicKey",J),"strict"in Ae)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:be}=Ae;let Ne,_e;try{if(typeof He=="string"||He instanceof Uint8Array)try{Ne=ee.fromDER(He)}catch(st){if(!(st instanceof Ho.Err))throw st;Ne=ee.fromCompact(He)}else if(typeof He=="object"&&typeof He.r=="bigint"&&typeof He.s=="bigint"){const{r:st,s:ur}=He;Ne=new ee(st,ur)}else throw new Error("PARSE");_e=y.fromHex(J)}catch(st){if(st.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&Ne.hasHighS())return!1;be&&(V=e.hash(V));const{r:ke,s:ct}=Ne,ve=$(V),sn=w(ct),it=E(ve*sn),An=E(ke*sn),Cr=(kr=y.BASE.multiplyAndAddUnsafe(_e,it,An))==null?void 0:kr.toAffine();return Cr?E(Cr.x)===ke:!1}return{CURVE:e,getPublicKey:Z,getSharedSecret:fe,sign:Ge,verify:De,ProjectivePoint:y,Signature:ee,utils:re}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function w7(l){return{hash:l,hmac:(e,...t)=>tx(l,e,YE(...t)),randomBytes:KE}}function A7(l,e){const t=a=>y7({...l,...w7(a)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ow=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Uy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),E7=BigInt(1),em=BigInt(2),ky=(l,e)=>(l+e/em)/e;function C7(l){const e=ow,t=BigInt(3),a=BigInt(6),u=BigInt(11),x=BigInt(22),p=BigInt(23),E=BigInt(44),w=BigInt(88),y=l*l*l%e,T=y*y*l%e,N=Mi(T,t,e)*T%e,D=Mi(N,t,e)*T%e,L=Mi(D,em,e)*y%e,P=Mi(L,u,e)*L%e,k=Mi(P,x,e)*P%e,j=Mi(k,E,e)*k%e,ee=Mi(j,w,e)*j%e,re=Mi(ee,E,e)*k%e,Z=Mi(re,t,e)*T%e,ie=Mi(Z,p,e)*P%e,fe=Mi(ie,a,e)*y%e,ae=Mi(fe,em,e);if(!tm.eql(tm.sqr(ae),l))throw new Error("Cannot find square root");return ae}const tm=u7(ow,void 0,void 0,{sqrt:C7}),Dl=A7({a:BigInt(0),b:BigInt(7),Fp:tm,n:Uy,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:l=>{const e=Uy,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-E7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),u=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),x=t,p=BigInt("0x100000000000000000000000000000000"),E=ky(x*l,e),w=ky(-a*l,e);let y=ni(l-E*t-w*u,e),T=ni(-E*a-w*x,e);const N=y>p,D=T>p;if(N&&(y=e-y),D&&(T=e-T),y>p||T>p)throw new Error("splitScalar: Endomorphism failed, k="+l);return{k1neg:N,k1:y,k2neg:D,k2:T}}}},Bu);BigInt(0);Dl.ProjectivePoint;const nd="0x0000000000000000000000000000000000000000",Py="0x0000000000000000000000000000000000000000000000000000000000000000",S7=`Ethereum Signed Message:
`,Fy=BigInt(0),Hy=BigInt(1),Gy=BigInt(2),zy=BigInt(27),Vy=BigInt(28),rh=BigInt(35),u0={};function jy(l){return za(In(l),32)}var F0,Hs,H0,Jo;const ns=class ns{constructor(e,t,a,u){xe(this,F0);xe(this,Hs);xe(this,H0);xe(this,Jo);$l(e,u0,"Signature"),z(this,F0,t),z(this,Hs,a),z(this,H0,u),z(this,Jo,null)}get r(){return I(this,F0)}set r(e){Y(T0(e)===32,"invalid r","value",e),z(this,F0,Be(e))}get s(){return Y(parseInt(I(this,Hs).substring(0,3))<8,"non-canonical s; use ._s","s",I(this,Hs)),I(this,Hs)}set s(e){Y(T0(e)===32,"invalid s","value",e),z(this,Hs,Be(e))}get _s(){return I(this,Hs)}isValid(){return parseInt(I(this,Hs).substring(0,3))<8}get v(){return I(this,H0)}set v(e){const t=ut(e,"value");Y(t===27||t===28,"invalid v","v",e),z(this,H0,t)}get networkV(){return I(this,Jo)}get legacyChainId(){const e=this.networkV;return e==null?null:ns.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ze(this.s);return this.yParity&&(e[0]|=128),Be(e)}get compactSerialized(){return Ft([this.r,this.yParityAndS])}get serialized(){return Ft([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ns(u0,this.r,this._s,this.v);return this.networkV&&z(e,Jo,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=je(e,"v");return t==zy||t==Vy?Fy:(Y(t>=rh,"invalid EIP-155 v","v",e),(t-rh)/Gy)}static getChainIdV(e,t){return je(e)*Gy+BigInt(35+t-27)}static getNormalizedV(e){const t=je(e);return t===Fy||t===zy?27:t===Hy||t===Vy?28:(Y(t>=rh,"invalid v","v",e),t&Hy?27:28)}static from(e){function t(y,T){Y(y,T,"signature",e)}if(e==null)return new ns(u0,Py,Py,27);if(typeof e=="string"){const y=ze(e,"signature");if(y.length===64){const T=Be(y.slice(0,32)),N=y.slice(32,64),D=N[0]&128?28:27;return N[0]&=127,new ns(u0,T,Be(N),D)}if(y.length===65){const T=Be(y.slice(0,32)),N=Be(y.slice(32,64)),D=ns.getNormalizedV(y[64]);return new ns(u0,T,N,D)}t(!1,"invalid raw signature length")}if(e instanceof ns)return e.clone();const a=e.r;t(a!=null,"missing r");const u=jy(a),x=function(y,T){if(y!=null)return jy(y);if(T!=null){t(on(T,32),"invalid yParityAndS");const N=ze(T);return N[0]&=127,Be(N)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:p,v:E}=function(y,T,N){if(y!=null){const D=je(y);return{networkV:D>=rh?D:void 0,v:ns.getNormalizedV(D)}}if(T!=null)return t(on(T,32),"invalid yParityAndS"),{v:ze(T)[0]&128?28:27};if(N!=null){switch(ut(N,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),w=new ns(u0,u,x,E);return p&&z(w,Jo,p),t(e.yParity==null||ut(e.yParity,"sig.yParity")===w.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===w.yParityAndS,"yParityAndS mismatch"),w}};F0=new WeakMap,Hs=new WeakMap,H0=new WeakMap,Jo=new WeakMap;let ii=ns;var Oa;const Uo=class Uo{constructor(e){xe(this,Oa);Y(T0(e)===32,"invalid private key","privateKey","[REDACTED]"),z(this,Oa,Be(e))}get privateKey(){return I(this,Oa)}get publicKey(){return Uo.computePublicKey(I(this,Oa))}get compressedPublicKey(){return Uo.computePublicKey(I(this,Oa),!0)}sign(e){Y(T0(e)===32,"invalid digest length","digest",e);const t=Dl.sign(Ar(e),Ar(I(this,Oa)),{lowS:!0});return ii.from({r:Va(t.r,32),s:Va(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Uo.computePublicKey(e);return Be(Dl.getSharedSecret(Ar(I(this,Oa)),ze(t),!1))}static computePublicKey(e,t){let a=ze(e,"key");if(a.length===32){const x=Dl.getPublicKey(a,!!t);return Be(x)}if(a.length===64){const x=new Uint8Array(65);x[0]=4,x.set(a,1),a=x}const u=Dl.ProjectivePoint.fromHex(a);return Be(u.toRawBytes(t))}static recoverPublicKey(e,t){Y(T0(e)===32,"invalid digest length","digest",e);const a=ii.from(t);let u=Dl.Signature.fromCompact(Ar(Ft([a.r,a.s])));u=u.addRecoveryBit(a.yParity);const x=u.recoverPublicKey(Ar(e));return Y(x!=null,"invalid signature for digest","signature",t),"0x"+x.toHex(!1)}static addPoints(e,t,a){const u=Dl.ProjectivePoint.fromHex(Uo.computePublicKey(e).substring(2)),x=Dl.ProjectivePoint.fromHex(Uo.computePublicKey(t).substring(2));return"0x"+u.add(x).toHex(!!a)}};Oa=new WeakMap;let Js=Uo;const T7=BigInt(0),N7=BigInt(36);function Xy(l){l=l.toLowerCase();const e=l.substring(2).split(""),t=new Uint8Array(40);for(let u=0;u<40;u++)t[u]=e[u].charCodeAt(0);const a=ze(mn(t));for(let u=0;u<40;u+=2)a[u>>1]>>4>=8&&(e[u]=e[u].toUpperCase()),(a[u>>1]&15)>=8&&(e[u+1]=e[u+1].toUpperCase());return"0x"+e.join("")}const Ym={};for(let l=0;l<10;l++)Ym[String(l)]=String(l);for(let l=0;l<26;l++)Ym[String.fromCharCode(65+l)]=String(10+l);const Yy=15;function v7(l){l=l.toUpperCase(),l=l.substring(4)+l.substring(0,2)+"00";let e=l.split("").map(a=>Ym[a]).join("");for(;e.length>=Yy;){let a=e.substring(0,Yy);e=parseInt(a,10)%97+e.substring(a.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const R7=function(){const l={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];l[t]=BigInt(e)}return l}();function O7(l){l=l.toLowerCase();let e=T7;for(let t=0;t<l.length;t++)e=e*N7+R7[l[t]];return e}function Rt(l){if(Y(typeof l=="string","invalid address","address",l),l.match(/^(0x)?[0-9a-fA-F]{40}$/)){l.startsWith("0x")||(l="0x"+l);const e=Xy(l);return Y(!l.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===l,"bad address checksum","address",l),e}if(l.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Y(l.substring(2,4)===v7(l),"bad icap checksum","address",l);let e=O7(l.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Xy("0x"+e)}Y(!1,"invalid address","address",l)}function I7(l){const e=Rt(l.from);let a=je(l.nonce,"tx.nonce").toString(16);return a==="0"?a="0x":a.length%2?a="0x0"+a:a="0x"+a,Rt(dn(mn(Xa([e,a])),12))}function cw(l){return l&&typeof l.getAddress=="function"}async function wg(l,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(we(typeof l!="string","unconfigured name","UNCONFIGURED_NAME",{value:l}),Y(!1,"invalid AddressLike value; did not resolve to a value address","target",l)),Rt(t)}function cr(l,e){if(typeof l=="string")return l.match(/^0x[0-9a-f]{40}$/i)?Rt(l):(we(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),wg(l,e.resolveName(l)));if(cw(l))return wg(l,l.getAddress());if(l&&typeof l.then=="function")return wg(l,l);Y(!1,"unsupported addressable value","target",l)}const Ca={};function Qe(l,e){let t=!1;return e<0&&(t=!0,e*=-1),new Ur(Ca,`${t?"":"u"}int${e}`,l,{signed:t,width:e})}function _t(l,e){return new Ur(Ca,`bytes${e||""}`,l,{size:e})}const Qy=Symbol.for("_ethers_typed");var $o;const Sa=class Sa{constructor(e,t,a,u){te(this,"type");te(this,"value");xe(this,$o);te(this,"_typedSymbol");u==null&&(u=null),$l(Ca,e,"Typed"),Ze(this,{_typedSymbol:Qy,type:t,value:a}),z(this,$o,u),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return I(this,$o)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return I(this,$o)===!0?-1:I(this,$o)===!1?this.value.length:null}static from(e,t){return new Sa(Ca,e,t)}static uint8(e){return Qe(e,8)}static uint16(e){return Qe(e,16)}static uint24(e){return Qe(e,24)}static uint32(e){return Qe(e,32)}static uint40(e){return Qe(e,40)}static uint48(e){return Qe(e,48)}static uint56(e){return Qe(e,56)}static uint64(e){return Qe(e,64)}static uint72(e){return Qe(e,72)}static uint80(e){return Qe(e,80)}static uint88(e){return Qe(e,88)}static uint96(e){return Qe(e,96)}static uint104(e){return Qe(e,104)}static uint112(e){return Qe(e,112)}static uint120(e){return Qe(e,120)}static uint128(e){return Qe(e,128)}static uint136(e){return Qe(e,136)}static uint144(e){return Qe(e,144)}static uint152(e){return Qe(e,152)}static uint160(e){return Qe(e,160)}static uint168(e){return Qe(e,168)}static uint176(e){return Qe(e,176)}static uint184(e){return Qe(e,184)}static uint192(e){return Qe(e,192)}static uint200(e){return Qe(e,200)}static uint208(e){return Qe(e,208)}static uint216(e){return Qe(e,216)}static uint224(e){return Qe(e,224)}static uint232(e){return Qe(e,232)}static uint240(e){return Qe(e,240)}static uint248(e){return Qe(e,248)}static uint256(e){return Qe(e,256)}static uint(e){return Qe(e,256)}static int8(e){return Qe(e,-8)}static int16(e){return Qe(e,-16)}static int24(e){return Qe(e,-24)}static int32(e){return Qe(e,-32)}static int40(e){return Qe(e,-40)}static int48(e){return Qe(e,-48)}static int56(e){return Qe(e,-56)}static int64(e){return Qe(e,-64)}static int72(e){return Qe(e,-72)}static int80(e){return Qe(e,-80)}static int88(e){return Qe(e,-88)}static int96(e){return Qe(e,-96)}static int104(e){return Qe(e,-104)}static int112(e){return Qe(e,-112)}static int120(e){return Qe(e,-120)}static int128(e){return Qe(e,-128)}static int136(e){return Qe(e,-136)}static int144(e){return Qe(e,-144)}static int152(e){return Qe(e,-152)}static int160(e){return Qe(e,-160)}static int168(e){return Qe(e,-168)}static int176(e){return Qe(e,-176)}static int184(e){return Qe(e,-184)}static int192(e){return Qe(e,-192)}static int200(e){return Qe(e,-200)}static int208(e){return Qe(e,-208)}static int216(e){return Qe(e,-216)}static int224(e){return Qe(e,-224)}static int232(e){return Qe(e,-232)}static int240(e){return Qe(e,-240)}static int248(e){return Qe(e,-248)}static int256(e){return Qe(e,-256)}static int(e){return Qe(e,-256)}static bytes1(e){return _t(e,1)}static bytes2(e){return _t(e,2)}static bytes3(e){return _t(e,3)}static bytes4(e){return _t(e,4)}static bytes5(e){return _t(e,5)}static bytes6(e){return _t(e,6)}static bytes7(e){return _t(e,7)}static bytes8(e){return _t(e,8)}static bytes9(e){return _t(e,9)}static bytes10(e){return _t(e,10)}static bytes11(e){return _t(e,11)}static bytes12(e){return _t(e,12)}static bytes13(e){return _t(e,13)}static bytes14(e){return _t(e,14)}static bytes15(e){return _t(e,15)}static bytes16(e){return _t(e,16)}static bytes17(e){return _t(e,17)}static bytes18(e){return _t(e,18)}static bytes19(e){return _t(e,19)}static bytes20(e){return _t(e,20)}static bytes21(e){return _t(e,21)}static bytes22(e){return _t(e,22)}static bytes23(e){return _t(e,23)}static bytes24(e){return _t(e,24)}static bytes25(e){return _t(e,25)}static bytes26(e){return _t(e,26)}static bytes27(e){return _t(e,27)}static bytes28(e){return _t(e,28)}static bytes29(e){return _t(e,29)}static bytes30(e){return _t(e,30)}static bytes31(e){return _t(e,31)}static bytes32(e){return _t(e,32)}static address(e){return new Sa(Ca,"address",e)}static bool(e){return new Sa(Ca,"bool",!!e)}static bytes(e){return new Sa(Ca,"bytes",e)}static string(e){return new Sa(Ca,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Sa(Ca,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Qy}static dereference(e,t){if(Sa.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};$o=new WeakMap;let Ur=Sa;class B7 extends Ka{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let a=Ur.dereference(t,"string");try{a=Rt(a)}catch(u){return this._throwError(u.message,t)}return e.writeValue(a)}decode(e){return Rt(Va(e.readValue(),20))}}class D7 extends Ka{constructor(t){super(t.name,t.type,"_",t.dynamic);te(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,a){return this.coder.encode(t,a)}decode(t){return this.coder.decode(t)}}function uw(l,e,t){let a=[];if(Array.isArray(t))a=t;else if(t&&typeof t=="object"){let w={};a=e.map(y=>{const T=y.localName;return we(T,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:y},value:t}),we(!w[T],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:y},value:t}),w[T]=!0,t[T]})}else Y(!1,"invalid tuple value","tuple",t);Y(e.length===a.length,"types/value length mismatch","tuple",t);let u=new Kg,x=new Kg,p=[];e.forEach((w,y)=>{let T=a[y];if(w.dynamic){let N=x.length;w.encode(x,T);let D=u.writeUpdatableValue();p.push(L=>{D(L+N)})}else w.encode(u,T)}),p.forEach(w=>{w(u.length)});let E=l.appendWriter(u);return E+=l.appendWriter(x),E}function fw(l,e){let t=[],a=[],u=l.subReader(0);return e.forEach(x=>{let p=null;if(x.dynamic){let E=l.readIndex(),w=u.subReader(E);try{p=x.decode(w)}catch(y){if(wr(y,"BUFFER_OVERRUN"))throw y;p=y,p.baseType=x.name,p.name=x.localName,p.type=x.type}}else try{p=x.decode(l)}catch(E){if(wr(E,"BUFFER_OVERRUN"))throw E;p=E,p.baseType=x.name,p.name=x.localName,p.type=x.type}if(p==null)throw new Error("investigate");t.push(p),a.push(x.localName||null)}),yu.fromItems(t,a)}class M7 extends Ka{constructor(t,a,u){const x=t.type+"["+(a>=0?a:"")+"]",p=a===-1||t.dynamic;super("array",x,u,p);te(this,"coder");te(this,"length");Ze(this,{coder:t,length:a})}defaultValue(){const t=this.coder.defaultValue(),a=[];for(let u=0;u<this.length;u++)a.push(t);return a}encode(t,a){const u=Ur.dereference(a,"array");Array.isArray(u)||this._throwError("expected array value",u);let x=this.length;x===-1&&(x=u.length,t.writeValue(u.length)),q8(u.length,x,"coder array"+(this.localName?" "+this.localName:""));let p=[];for(let E=0;E<u.length;E++)p.push(this.coder);return uw(t,p,u)}decode(t){let a=this.length;a===-1&&(a=t.readIndex(),we(a*jr<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:a*jr,length:t.dataLength}));let u=[];for(let x=0;x<a;x++)u.push(new D7(this.coder));return fw(t,u)}}class _7 extends Ka{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const a=Ur.dereference(t,"bool");return e.writeValue(a?1:0)}decode(e){return!!e.readValue()}}class dw extends Ka{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Ar(t);let a=e.writeValue(t.length);return a+=e.writeBytes(t),a}decode(e){return e.readBytes(e.readIndex(),!0)}}class L7 extends dw{constructor(e){super("bytes",e)}decode(e){return Be(super.decode(e))}}class U7 extends Ka{constructor(t,a){let u="bytes"+String(t);super(u,u,a,!1);te(this,"size");Ze(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,a){let u=Ar(Ur.dereference(a,this.type));return u.length!==this.size&&this._throwError("incorrect data length",a),t.writeBytes(u)}decode(t){return Be(t.readBytes(this.size))}}const k7=new Uint8Array([]);class P7 extends Ka{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(k7)}decode(e){return e.readBytes(0),null}}const F7=BigInt(0),H7=BigInt(1),G7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class z7 extends Ka{constructor(t,a,u){const x=(a?"int":"uint")+t*8;super(x,x,u,!1);te(this,"size");te(this,"signed");Ze(this,{size:t,signed:a},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,a){let u=je(Ur.dereference(a,this.type)),x=Fo(G7,jr*8);if(this.signed){let p=Fo(x,this.size*8-1);(u>p||u<-(p+H7))&&this._throwError("value out-of-bounds",a),u=t4(u,8*jr)}else(u<F7||u>Fo(x,this.size*8))&&this._throwError("value out-of-bounds",a);return t.writeValue(u)}decode(t){let a=Fo(t.readValue(),this.size*8);return this.signed&&(a=Sh(a,this.size*8)),a}}class V7 extends dw{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Yr(Ur.dereference(t,"string")))}decode(e){return Nh(super.decode(e))}}class ih extends Ka{constructor(t,a){let u=!1;const x=[];t.forEach(E=>{E.dynamic&&(u=!0),x.push(E.type)});const p="tuple("+x.join(",")+")";super("tuple",p,a,u);te(this,"coders");Ze(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(u=>{t.push(u.defaultValue())});const a=this.coders.reduce((u,x)=>{const p=x.localName;return p&&(u[p]||(u[p]=0),u[p]++),u},{});return this.coders.forEach((u,x)=>{let p=u.localName;!p||a[p]!==1||(p==="length"&&(p="_length"),t[p]==null&&(t[p]=t[x]))}),Object.freeze(t)}encode(t,a){const u=Ur.dereference(a,"tuple");return uw(t,this.coders,u)}decode(t){return fw(t,this.coders)}}function Ag(l,e){return{address:Rt(l),storageKeys:e.map((t,a)=>(Y(on(t,32),"invalid slot",`storageKeys[${a}]`,t),t.toLowerCase()))}}function yc(l){if(Array.isArray(l))return l.map((t,a)=>Array.isArray(t)?(Y(t.length===2,"invalid slot set",`value[${a}]`,t),Ag(t[0],t[1])):(Y(t!=null&&typeof t=="object","invalid address-slot set","value",l),Ag(t.address,t.storageKeys)));Y(l!=null&&typeof l=="object","invalid access list","value",l);const e=Object.keys(l).map(t=>{const a=l[t].reduce((u,x)=>(u[x]=!0,u),{});return Ag(t,Object.keys(a).sort())});return e.sort((t,a)=>t.address.localeCompare(a.address)),e}function hw(l){return{address:Rt(l.address),nonce:je(l.nonce!=null?l.nonce:0),chainId:je(l.chainId!=null?l.chainId:0),signature:ii.from(l.signature)}}function Md(l){let e;return typeof l=="string"?e=Js.computePublicKey(l,!1):e=l.publicKey,Rt(mn("0x"+e.substring(4)).substring(26))}function j7(l,e){return Md(Js.recoverPublicKey(l,e))}const lr=BigInt(0),X7=BigInt(2),Y7=BigInt(27),Q7=BigInt(28),K7=BigInt(35),Z7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Eg=4096*32;function W7(l){return{blobToKzgCommitment:a=>{if("computeBlobProof"in l){if("blobToKzgCommitment"in l&&typeof l.blobToKzgCommitment=="function")return ze(l.blobToKzgCommitment(Be(a)))}else if("blobToKzgCommitment"in l&&typeof l.blobToKzgCommitment=="function")return ze(l.blobToKzgCommitment(a));if("blobToKZGCommitment"in l&&typeof l.blobToKZGCommitment=="function")return ze(l.blobToKZGCommitment(Be(a)));Y(!1,"unsupported KZG library","kzg",l)},computeBlobKzgProof:(a,u)=>{if("computeBlobProof"in l&&typeof l.computeBlobProof=="function")return ze(l.computeBlobProof(Be(a),Be(u)));if("computeBlobKzgProof"in l&&typeof l.computeBlobKzgProof=="function")return l.computeBlobKzgProof(a,u);if("computeBlobKZGProof"in l&&typeof l.computeBlobKZGProof=="function")return ze(l.computeBlobKZGProof(Be(a),Be(u)));Y(!1,"unsupported KZG library","kzg",l)}}}function Ky(l,e){let t=l.toString(16);for(;t.length<2;)t="0"+t;return t+=Xi(e).substring(4),"0x"+t}function Uu(l){return l==="0x"?null:Rt(l)}function ix(l,e){try{return yc(l)}catch(t){Y(!1,t.message,e,l)}}function q7(l,e){try{if(!Array.isArray(l))throw new Error("authorizationList: invalid array");const t=[];for(let a=0;a<l.length;a++){const u=l[a];if(!Array.isArray(u))throw new Error(`authorization[${a}]: invalid array`);if(u.length!==6)throw new Error(`authorization[${a}]: wrong length`);if(!u[1])throw new Error(`authorization[${a}]: null address`);t.push({address:Uu(u[1]),nonce:$t(u[2],"nonce"),chainId:$t(u[0],"chainId"),signature:ii.from({yParity:wc(u[3],"yParity"),r:za(u[4],32),s:za(u[5],32)})})}return t}catch(t){Y(!1,t.message,e,l)}}function wc(l,e){return l==="0x"?0:ut(l,e)}function $t(l,e){if(l==="0x")return lr;const t=je(l,e);return Y(t<=Z7,"value exceeds uint size",e,t),t}function vt(l,e){const t=je(l,"value"),a=In(t);return Y(a.length<=32,"value too large",`tx.${e}`,t),a}function sx(l){return yc(l).map(e=>[e.address,e.storageKeys])}function J7(l){return l.map(e=>[vt(e.chainId,"chainId"),e.address,vt(e.nonce,"nonce"),vt(e.signature.yParity,"yParity"),In(e.signature.r),In(e.signature.s)])}function $7(l,e){Y(Array.isArray(l),`invalid ${e}`,"value",l);for(let t=0;t<l.length;t++)Y(on(l[t],32),"invalid ${ param } hash",`value[${t}]`,l[t]);return l}function e9(l){const e=Bd(l);Y(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",l);const t={type:0,nonce:wc(e[0],"nonce"),gasPrice:$t(e[1],"gasPrice"),gasLimit:$t(e[2],"gasLimit"),to:Uu(e[3]),value:$t(e[4],"value"),data:Be(e[5]),chainId:lr};if(e.length===6)return t;const a=$t(e[6],"v"),u=$t(e[7],"r"),x=$t(e[8],"s");if(u===lr&&x===lr)t.chainId=a;else{let p=(a-K7)/X7;p<lr&&(p=lr),t.chainId=p,Y(p!==lr||a===Y7||a===Q7,"non-canonical legacy v","v",e[6]),t.signature=ii.from({r:za(e[7],32),s:za(e[8],32),v:a})}return t}function t9(l,e){const t=[vt(l.nonce,"nonce"),vt(l.gasPrice||0,"gasPrice"),vt(l.gasLimit,"gasLimit"),l.to||"0x",vt(l.value,"value"),l.data];let a=lr;if(l.chainId!=lr)a=je(l.chainId,"tx.chainId"),Y(!e||e.networkV==null||e.legacyChainId===a,"tx.chainId/sig.v mismatch","sig",e);else if(l.signature){const x=l.signature.legacyChainId;x!=null&&(a=x)}if(!e)return a!==lr&&(t.push(In(a)),t.push("0x"),t.push("0x")),Xa(t);let u=BigInt(27+e.yParity);return a!==lr?u=ii.getChainIdV(a,e.v):BigInt(e.v)!==u&&Y(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(In(u)),t.push(In(e.r)),t.push(In(e.s)),Xa(t)}function ax(l,e){let t;try{if(t=wc(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{Y(!1,"invalid yParity","yParity",e[0])}const a=za(e[1],32),u=za(e[2],32),x=ii.from({r:a,s:u,yParity:t});l.signature=x}function n9(l){const e=Bd(ze(l).slice(1));Y(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Be(l));const t={type:2,chainId:$t(e[0],"chainId"),nonce:wc(e[1],"nonce"),maxPriorityFeePerGas:$t(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$t(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$t(e[4],"gasLimit"),to:Uu(e[5]),value:$t(e[6],"value"),data:Be(e[7]),accessList:ix(e[8],"accessList")};return e.length===9||ax(t,e.slice(9)),t}function r9(l,e){const t=[vt(l.chainId,"chainId"),vt(l.nonce,"nonce"),vt(l.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vt(l.maxFeePerGas||0,"maxFeePerGas"),vt(l.gasLimit,"gasLimit"),l.to||"0x",vt(l.value,"value"),l.data,sx(l.accessList||[])];return e&&(t.push(vt(e.yParity,"yParity")),t.push(In(e.r)),t.push(In(e.s))),Ft(["0x02",Xa(t)])}function i9(l){const e=Bd(ze(l).slice(1));Y(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Be(l));const t={type:1,chainId:$t(e[0],"chainId"),nonce:wc(e[1],"nonce"),gasPrice:$t(e[2],"gasPrice"),gasLimit:$t(e[3],"gasLimit"),to:Uu(e[4]),value:$t(e[5],"value"),data:Be(e[6]),accessList:ix(e[7],"accessList")};return e.length===8||ax(t,e.slice(8)),t}function s9(l,e){const t=[vt(l.chainId,"chainId"),vt(l.nonce,"nonce"),vt(l.gasPrice||0,"gasPrice"),vt(l.gasLimit,"gasLimit"),l.to||"0x",vt(l.value,"value"),l.data,sx(l.accessList||[])];return e&&(t.push(vt(e.yParity,"recoveryParam")),t.push(In(e.r)),t.push(In(e.s))),Ft(["0x01",Xa(t)])}function a9(l){let e=Bd(ze(l).slice(1)),t="3",a=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const x=e[1],p=e[2],E=e[3];Y(Array.isArray(x),"invalid network format: blobs not an array","fields[1]",x),Y(Array.isArray(p),"invalid network format: commitments not an array","fields[2]",p),Y(Array.isArray(E),"invalid network format: proofs not an array","fields[3]",E),Y(x.length===p.length,"invalid network format: blobs/commitments length mismatch","fields",e),Y(x.length===E.length,"invalid network format: blobs/proofs length mismatch","fields",e),a=[];for(let w=0;w<e[1].length;w++)a.push({data:x[w],commitment:p[w],proof:E[w]});e=e[0]}Y(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",Be(l));const u={type:3,chainId:$t(e[0],"chainId"),nonce:wc(e[1],"nonce"),maxPriorityFeePerGas:$t(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$t(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$t(e[4],"gasLimit"),to:Uu(e[5]),value:$t(e[6],"value"),data:Be(e[7]),accessList:ix(e[8],"accessList"),maxFeePerBlobGas:$t(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};a&&(u.blobs=a),Y(u.to!=null,`invalid address for transaction type: ${t}`,"data",l),Y(Array.isArray(u.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",l);for(let x=0;x<u.blobVersionedHashes.length;x++)Y(on(u.blobVersionedHashes[x],32),`invalid blobVersionedHash at index ${x}: must be length 32`,"data",l);return e.length===11||ax(u,e.slice(11)),u}function l9(l,e,t){const a=[vt(l.chainId,"chainId"),vt(l.nonce,"nonce"),vt(l.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vt(l.maxFeePerGas||0,"maxFeePerGas"),vt(l.gasLimit,"gasLimit"),l.to||nd,vt(l.value,"value"),l.data,sx(l.accessList||[]),vt(l.maxFeePerBlobGas||0,"maxFeePerBlobGas"),$7(l.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(a.push(vt(e.yParity,"yParity")),a.push(In(e.r)),a.push(In(e.s)),t)?Ft(["0x03",Xa([a,t.map(u=>u.data),t.map(u=>u.commitment),t.map(u=>u.proof)])]):Ft(["0x03",Xa(a)])}function o9(l){const e=Bd(ze(l).slice(1));Y(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Be(l));const t={type:4,chainId:$t(e[0],"chainId"),nonce:wc(e[1],"nonce"),maxPriorityFeePerGas:$t(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$t(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$t(e[4],"gasLimit"),to:Uu(e[5]),value:$t(e[6],"value"),data:Be(e[7]),accessList:ix(e[8],"accessList"),authorizationList:q7(e[9],"authorizationList")};return e.length===10||ax(t,e.slice(10)),t}function c9(l,e){const t=[vt(l.chainId,"chainId"),vt(l.nonce,"nonce"),vt(l.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vt(l.maxFeePerGas||0,"maxFeePerGas"),vt(l.gasLimit,"gasLimit"),l.to||"0x",vt(l.value,"value"),l.data,sx(l.accessList||[]),J7(l.authorizationList||[])];return e&&(t.push(vt(e.yParity,"yParity")),t.push(In(e.r)),t.push(In(e.s))),Ft(["0x04",Xa(t)])}var os,G0,z0,V0,j0,X0,Y0,Q0,K0,Z0,W0,q0,ec,kl,Gs,Pl,J0,$0,hh;const ks=class ks{constructor(){xe(this,$0);xe(this,os);xe(this,G0);xe(this,z0);xe(this,V0);xe(this,j0);xe(this,X0);xe(this,Y0);xe(this,Q0);xe(this,K0);xe(this,Z0);xe(this,W0);xe(this,q0);xe(this,ec);xe(this,kl);xe(this,Gs);xe(this,Pl);xe(this,J0);z(this,os,null),z(this,G0,null),z(this,V0,0),z(this,j0,lr),z(this,X0,null),z(this,Y0,null),z(this,Q0,null),z(this,z0,"0x"),z(this,K0,lr),z(this,Z0,lr),z(this,W0,null),z(this,q0,null),z(this,ec,null),z(this,kl,null),z(this,Gs,null),z(this,Pl,null),z(this,J0,null)}get type(){return I(this,os)}set type(e){switch(e){case null:z(this,os,null);break;case 0:case"legacy":z(this,os,0);break;case 1:case"berlin":case"eip-2930":z(this,os,1);break;case 2:case"london":case"eip-1559":z(this,os,2);break;case 3:case"cancun":case"eip-4844":z(this,os,3);break;case 4:case"pectra":case"eip-7702":z(this,os,4);break;default:Y(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=I(this,G0);return e==null&&this.type===3?nd:e}set to(e){z(this,G0,e==null?null:Rt(e))}get nonce(){return I(this,V0)}set nonce(e){z(this,V0,ut(e,"value"))}get gasLimit(){return I(this,j0)}set gasLimit(e){z(this,j0,je(e))}get gasPrice(){const e=I(this,X0);return e==null&&(this.type===0||this.type===1)?lr:e}set gasPrice(e){z(this,X0,e==null?null:je(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=I(this,Y0);return e??(this.type===2||this.type===3?lr:null)}set maxPriorityFeePerGas(e){z(this,Y0,e==null?null:je(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=I(this,Q0);return e??(this.type===2||this.type===3?lr:null)}set maxFeePerGas(e){z(this,Q0,e==null?null:je(e,"maxFeePerGas"))}get data(){return I(this,z0)}set data(e){z(this,z0,Be(e))}get value(){return I(this,K0)}set value(e){z(this,K0,je(e,"value"))}get chainId(){return I(this,Z0)}set chainId(e){z(this,Z0,je(e))}get signature(){return I(this,W0)||null}set signature(e){z(this,W0,e==null?null:ii.from(e))}get accessList(){const e=I(this,q0)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){z(this,q0,e==null?null:yc(e))}get authorizationList(){const e=I(this,J0)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){z(this,J0,e==null?null:e.map(t=>hw(t)))}get maxFeePerBlobGas(){const e=I(this,ec);return e==null&&this.type===3?lr:e}set maxFeePerBlobGas(e){z(this,ec,e==null?null:je(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=I(this,kl);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Y(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Y(on(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}z(this,kl,e)}get blobs(){return I(this,Pl)==null?null:I(this,Pl).map(e=>Object.assign({},e))}set blobs(e){if(e==null){z(this,Pl,null);return}const t=[],a=[];for(let u=0;u<e.length;u++){const x=e[u];if(qh(x)){we(I(this,Gs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let p=ze(x);if(Y(p.length<=Eg,"blob is too large",`blobs[${u}]`,x),p.length!==Eg){const y=new Uint8Array(Eg);y.set(p),p=y}const E=I(this,Gs).blobToKzgCommitment(p),w=Be(I(this,Gs).computeBlobKzgProof(p,E));t.push({data:Be(p),commitment:Be(E),proof:w}),a.push(Ky(1,E))}else{const p=Be(x.commitment);t.push({data:Be(x.data),commitment:p,proof:Be(x.proof)}),a.push(Ky(1,p))}}z(this,Pl,t),z(this,kl,a)}get kzg(){return I(this,Gs)}set kzg(e){e==null?z(this,Gs,null):z(this,Gs,W7(e))}get hash(){return this.signature==null?null:mn(Te(this,$0,hh).call(this,!0,!1))}get unsignedHash(){return mn(this.unsignedSerialized)}get from(){return this.signature==null?null:j7(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Js.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Te(this,$0,hh).call(this,!0,!0)}get unsignedSerialized(){return Te(this,$0,hh).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,a=this.accessList!=null,u=I(this,ec)!=null||I(this,kl);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&we(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),we(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),we(this.type!==0||!a,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const x=[];return this.type!=null?x.push(this.type):this.authorizationList&&this.authorizationList.length?x.push(4):t?x.push(2):e?(x.push(1),a||x.push(0)):a?(x.push(1),x.push(2)):(u&&this.to||(x.push(0),x.push(1),x.push(2)),x.push(3)),x.sort(),x}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ks.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ks;if(typeof e=="string"){const a=ze(e);if(a[0]>=127)return ks.from(e9(a));switch(a[0]){case 1:return ks.from(i9(a));case 2:return ks.from(n9(a));case 3:return ks.from(a9(a));case 4:return ks.from(o9(a))}we(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new ks;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ii.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(Y(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Y(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Y(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Y(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};os=new WeakMap,G0=new WeakMap,z0=new WeakMap,V0=new WeakMap,j0=new WeakMap,X0=new WeakMap,Y0=new WeakMap,Q0=new WeakMap,K0=new WeakMap,Z0=new WeakMap,W0=new WeakMap,q0=new WeakMap,ec=new WeakMap,kl=new WeakMap,Gs=new WeakMap,Pl=new WeakMap,J0=new WeakMap,$0=new WeakSet,hh=function(e,t){we(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const a=e?this.signature:null;switch(this.inferType()){case 0:return t9(this,a);case 1:return s9(this,a);case 2:return r9(this,a);case 3:return l9(this,a,t?this.blobs:null);case 4:return c9(this,a)}we(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let rd=ks;function u9(l){return Y(typeof l.address=="string","invalid address for hashAuthorization","auth.address",l),mn(Ft(["0x05",Xa([l.chainId!=null?In(l.chainId):"0x",Rt(l.address),l.nonce!=null?In(l.nonce):"0x"])]))}function Ya(l){return mn(Yr(l))}var f9="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Zy=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Wy=4;function d9(l){let e=0;function t(){return l[e++]<<8|l[e++]}let a=t(),u=1,x=[0,1];for(let fe=1;fe<a;fe++)x.push(u+=t());let p=t(),E=e;e+=p;let w=0,y=0;function T(){return w==0&&(y=y<<8|l[e++],w=8),y>>--w&1}const N=31,D=2**N,L=D>>>1,P=L>>1,k=D-1;let j=0;for(let fe=0;fe<N;fe++)j=j<<1|T();let ee=[],re=0,Z=D;for(;;){let fe=Math.floor(((j-re+1)*u-1)/Z),ae=0,$=a;for(;$-ae>1;){let Fe=ae+$>>>1;fe<x[Fe]?$=Fe:ae=Fe}if(ae==0)break;ee.push(ae);let ue=re+Math.floor(Z*x[ae]/u),ce=re+Math.floor(Z*x[ae+1]/u)-1;for(;((ue^ce)&L)==0;)j=j<<1&k|T(),ue=ue<<1&k,ce=ce<<1&k|1;for(;ue&~ce&P;)j=j&L|j<<1&k>>>1|T(),ue=ue<<1^L,ce=(ce^L)<<1|L|1;re=ue,Z=1+ce-ue}let ie=a-4;return ee.map(fe=>{switch(fe-ie){case 3:return ie+65792+(l[E++]<<16|l[E++]<<8|l[E++]);case 2:return ie+256+(l[E++]<<8|l[E++]);case 1:return ie+l[E++];default:return fe-1}})}function h9(l){let e=0;return()=>l[e++]}function xw(l){return h9(d9(x9(l)))}function x9(l){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((u,x)=>e[u.charCodeAt(0)]=x);let t=l.length,a=new Uint8Array(6*t>>3);for(let u=0,x=0,p=0,E=0;u<t;u++)E=E<<6|e[l.charCodeAt(u)],p+=6,p>=8&&(a[x++]=E>>(p-=8));return a}function g9(l){return l&1?~l>>1:l>>1}function m9(l,e){let t=Array(l);for(let a=0,u=0;a<l;a++)t[a]=u+=g9(e());return t}function id(l,e=0){let t=[];for(;;){let a=l(),u=l();if(!u)break;e+=a;for(let x=0;x<u;x++)t.push(e+x);e+=u+1}return t}function gw(l){return sd(()=>{let e=id(l);if(e.length)return e})}function mw(l){let e=[];for(;;){let t=l();if(t==0)break;e.push(p9(t,l))}for(;;){let t=l()-1;if(t<0)break;e.push(b9(t,l))}return e.flat()}function sd(l){let e=[];for(;;){let t=l(e.length);if(!t)break;e.push(t)}return e}function pw(l,e,t){let a=Array(l).fill().map(()=>[]);for(let u=0;u<e;u++)m9(l,t).forEach((x,p)=>a[p].push(x));return a}function p9(l,e){let t=1+e(),a=e(),u=sd(e);return pw(u.length,1+l,e).flatMap((p,E)=>{let[w,...y]=p;return Array(u[E]).fill().map((T,N)=>{let D=N*a;return[w+N*t,y.map(L=>L+D)]})})}function b9(l,e){let t=1+e();return pw(t,1+l,e).map(u=>[u[0],u.slice(1)])}function y9(l){let e=[],t=id(l);return u(a([]),[]),e;function a(x){let p=l(),E=sd(()=>{let w=id(l).map(y=>t[y]);if(w.length)return a(w)});return{S:p,B:E,Q:x}}function u({S:x,B:p},E,w){if(!(x&4&&w===E[E.length-1])){x&2&&(w=E[E.length-1]),x&1&&e.push(E);for(let y of p)for(let T of y.Q)u(y,[...E,T],w)}}}function w9(l){return l.toString(16).toUpperCase().padStart(2,"0")}function bw(l){return`{${w9(l)}}`}function A9(l){let e=[];for(let t=0,a=l.length;t<a;){let u=l.codePointAt(t);t+=u<65536?1:2,e.push(u)}return e}function Tu(l){let t=l.length;if(t<4096)return String.fromCodePoint(...l);let a=[];for(let u=0;u<t;)a.push(String.fromCodePoint(...l.slice(u,u+=4096)));return a.join("")}function E9(l,e){let t=l.length,a=t-e.length;for(let u=0;a==0&&u<t;u++)a=l[u]-e[u];return a}var C9="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const ad=44032,Rh=4352,Oh=4449,Ih=4519,yw=19,ww=21,Nu=28,Bh=ww*Nu,S9=yw*Bh,T9=ad+S9,N9=Rh+yw,v9=Oh+ww,R9=Ih+Nu;function zf(l){return l>>24&255}function Aw(l){return l&16777215}let nm,qy,rm,xh;function O9(){let l=xw(C9);nm=new Map(gw(l).flatMap((e,t)=>e.map(a=>[a,t+1<<24]))),qy=new Set(id(l)),rm=new Map,xh=new Map;for(let[e,t]of mw(l)){if(!qy.has(e)&&t.length==2){let[a,u]=t,x=xh.get(a);x||(x=new Map,xh.set(a,x)),x.set(u,e)}rm.set(e,t.reverse())}}function Ew(l){return l>=ad&&l<T9}function I9(l,e){if(l>=Rh&&l<N9&&e>=Oh&&e<v9)return ad+(l-Rh)*Bh+(e-Oh)*Nu;if(Ew(l)&&e>Ih&&e<R9&&(l-ad)%Nu==0)return l+(e-Ih);{let t=xh.get(l);return t&&(t=t.get(e),t)?t:-1}}function Cw(l){nm||O9();let e=[],t=[],a=!1;function u(x){let p=nm.get(x);p&&(a=!0,x|=p),e.push(x)}for(let x of l)for(;;){if(x<128)e.push(x);else if(Ew(x)){let p=x-ad,E=p/Bh|0,w=p%Bh/Nu|0,y=p%Nu;u(Rh+E),u(Oh+w),y>0&&u(Ih+y)}else{let p=rm.get(x);p?t.push(...p):u(x)}if(!t.length)break;x=t.pop()}if(a&&e.length>1){let x=zf(e[0]);for(let p=1;p<e.length;p++){let E=zf(e[p]);if(E==0||x<=E){x=E;continue}let w=p-1;for(;;){let y=e[w+1];if(e[w+1]=e[w],e[w]=y,!w||(x=zf(e[--w]),x<=E))break}x=zf(e[p])}}return e}function B9(l){let e=[],t=[],a=-1,u=0;for(let x of l){let p=zf(x),E=Aw(x);if(a==-1)p==0?a=E:e.push(E);else if(u>0&&u>=p)p==0?(e.push(a,...t),t.length=0,a=E):t.push(E),u=p;else{let w=I9(a,E);w>=0?a=w:u==0&&p==0?(e.push(a),a=E):(t.push(E),u=p)}}return a>=0&&e.push(a,...t),e}function Sw(l){return Cw(l).map(Aw)}function D9(l){return B9(Cw(l))}const Jy=45,Tw=".",Nw=65039,vw=1,Dh=l=>Array.from(l);function ld(l,e){return l.P.has(e)||l.Q.has(e)}class M9 extends Array{get is_emoji(){return!0}}let im,Rw,Go,sm,Ow,R0,Cg,g0,Do,$y,am;function Qm(){if(im)return;let l=xw(f9);const e=()=>id(l),t=()=>new Set(e()),a=(T,N)=>N.forEach(D=>T.add(D));im=new Map(mw(l)),Rw=t(),Go=e(),sm=new Set(e().map(T=>Go[T])),Go=new Set(Go),Ow=t(),t();let u=gw(l),x=l();const p=()=>{let T=new Set;return e().forEach(N=>a(T,u[N])),a(T,e()),T};R0=sd(T=>{let N=sd(l).map(D=>D+96);if(N.length){let D=T>=x;N[0]-=32,N=Tu(N),D&&(N=`Restricted[${N}]`);let L=p(),P=p(),k=!l();return{N,P:L,Q:P,M:k,R:D}}}),Cg=t(),g0=new Map;let E=e().concat(Dh(Cg)).sort((T,N)=>T-N);E.forEach((T,N)=>{let D=l(),L=E[N]=D?E[N-D]:{V:[],M:new Map};L.V.push(T),Cg.has(T)||g0.set(T,L)});for(let{V:T,M:N}of new Set(g0.values())){let D=[];for(let P of T){let k=R0.filter(ee=>ld(ee,P)),j=D.find(({G:ee})=>k.some(re=>ee.has(re)));j||(j={G:new Set,V:[]},D.push(j)),j.V.push(P),a(j.G,k)}let L=D.flatMap(P=>Dh(P.G));for(let{G:P,V:k}of D){let j=new Set(L.filter(ee=>!P.has(ee)));for(let ee of k)N.set(ee,j)}}Do=new Set;let w=new Set;const y=T=>Do.has(T)?w.add(T):Do.add(T);for(let T of R0){for(let N of T.P)y(N);for(let N of T.Q)y(N)}for(let T of Do)!g0.has(T)&&!w.has(T)&&g0.set(T,vw);a(Do,Sw(Do)),$y=y9(l).map(T=>M9.from(T)).sort(E9),am=new Map;for(let T of $y){let N=[am];for(let D of T){let L=N.map(P=>{let k=P.get(D);return k||(k=new Map,P.set(D,k)),k});D===Nw?N.push(...L):N=L}for(let D of N)D.V=T}}function Km(l){return(Iw(l)?"":`${Zm(lx([l]))} `)+bw(l)}function Zm(l){return`"${l}"‎`}function _9(l){if(l.length>=4&&l[2]==Jy&&l[3]==Jy)throw new Error(`invalid label extension: "${Tu(l.slice(0,4))}"`)}function L9(l){for(let t=l.lastIndexOf(95);t>0;)if(l[--t]!==95)throw new Error("underscore allowed only at start")}function U9(l){let e=l[0],t=Zy.get(e);if(t)throw qf(`leading ${t}`);let a=l.length,u=-1;for(let x=1;x<a;x++){e=l[x];let p=Zy.get(e);if(p){if(u==x)throw qf(`${t} + ${p}`);u=x+1,t=p}}if(u==a)throw qf(`trailing ${t}`)}function lx(l,e=1/0,t=bw){let a=[];k9(l[0])&&a.push("◌"),l.length>e&&(e>>=1,l=[...l.slice(0,e),8230,...l.slice(-e)]);let u=0,x=l.length;for(let p=0;p<x;p++){let E=l[p];Iw(E)&&(a.push(Tu(l.slice(u,p))),a.push(t(E)),u=p+1)}return a.push(Tu(l.slice(u,x))),a.join("")}function k9(l){return Qm(),Go.has(l)}function Iw(l){return Qm(),Ow.has(l)}function P9(l){return z9(F9(l,D9,X9))}function F9(l,e,t){if(!l)return[];Qm();let a=0;return l.split(Tw).map(u=>{let x=A9(u),p={input:x,offset:a};a+=x.length+1;try{let E=p.tokens=j9(x,e,t),w=E.length,y;if(!w)throw new Error("empty label");let T=p.output=E.flat();if(L9(T),!(p.emoji=w>1||E[0].is_emoji)&&T.every(D=>D<128))_9(T),y="ASCII";else{let D=E.flatMap(L=>L.is_emoji?[]:L);if(!D.length)y="Emoji";else{if(Go.has(T[0]))throw qf("leading combining mark");for(let k=1;k<w;k++){let j=E[k];if(!j.is_emoji&&Go.has(j[0]))throw qf(`emoji + combining mark: "${Tu(E[k-1])} + ${lx([j[0]])}"`)}U9(T);let L=Dh(new Set(D)),[P]=G9(L);V9(P,D),H9(P,L),y=P.N}}p.type=y}catch(E){p.error=E}return p})}function H9(l,e){let t,a=[];for(let u of e){let x=g0.get(u);if(x===vw)return;if(x){let p=x.M.get(u);if(t=t?t.filter(E=>p.has(E)):Dh(p),!t.length)return}else a.push(u)}if(t){for(let u of t)if(a.every(x=>ld(u,x)))throw new Error(`whole-script confusable: ${l.N}/${u.N}`)}}function G9(l){let e=R0;for(let t of l){let a=e.filter(u=>ld(u,t));if(!a.length)throw R0.some(u=>ld(u,t))?Dw(e[0],t):Bw(t);if(e=a,a.length==1)break}return e}function z9(l){return l.map(({input:e,error:t,output:a})=>{if(t){let u=t.message;throw new Error(l.length==1?u:`Invalid label ${Zm(lx(e,63))}: ${u}`)}return Tu(a)}).join(Tw)}function Bw(l){return new Error(`disallowed character: ${Km(l)}`)}function Dw(l,e){let t=Km(e),a=R0.find(u=>u.P.has(e));return a&&(t=`${a.N} ${t}`),new Error(`illegal mixture: ${l.N} + ${t}`)}function qf(l){return new Error(`illegal placement: ${l}`)}function V9(l,e){for(let t of e)if(!ld(l,t))throw Dw(l,t);if(l.M){let t=Sw(e);for(let a=1,u=t.length;a<u;a++)if(sm.has(t[a])){let x=a+1;for(let p;x<u&&sm.has(p=t[x]);x++)for(let E=a;E<x;E++)if(t[E]==p)throw new Error(`duplicate non-spacing marks: ${Km(p)}`);if(x-a>Wy)throw new Error(`excessive non-spacing marks: ${Zm(lx(t.slice(a-1,x)))} (${x-a}/${Wy})`);a=x}}}function j9(l,e,t){let a=[],u=[];for(l=l.slice().reverse();l.length;){let x=Y9(l);if(x)u.length&&(a.push(e(u)),u=[]),a.push(t(x));else{let p=l.pop();if(Do.has(p))u.push(p);else{let E=im.get(p);if(E)u.push(...E);else if(!Rw.has(p))throw Bw(p)}}}return u.length&&a.push(e(u)),a}function X9(l){return l.filter(e=>e!=Nw)}function Y9(l,e){let t=am,a,u=l.length;for(;u&&(t=t.get(l[--u]),!!t);){let{V:x}=t;x&&(a=x,l.length=u)}return a}const Mw=new Uint8Array(32);Mw.fill(0);function e8(l){return Y(l.length!==0,"invalid ENS name; empty component","comp",l),l}function _w(l){const e=Yr(Q9(l)),t=[];if(l.length===0)return t;let a=0;for(let u=0;u<e.length;u++)e[u]===46&&(t.push(e8(e.slice(a,u))),a=u+1);return Y(a<e.length,"invalid ENS name; empty component","name",l),t.push(e8(e.slice(a))),t}function Q9(l){try{if(l.length===0)throw new Error("empty label");return P9(l)}catch(e){Y(!1,`invalid ENS name (${e.message})`,"name",l)}}function lm(l){Y(typeof l=="string","invalid ENS name; not a string","name",l),Y(l.length,"invalid ENS name (empty label)","name",l);let e=Mw;const t=_w(l);for(;t.length;)e=mn(Ft([e,mn(t.pop())]));return Be(e)}function K9(l,e){const t=e;return Y(t<=255,"DNS encoded label cannot exceed 255","length",t),Be(Ft(_w(l).map(a=>{Y(a.length<=t,`label ${JSON.stringify(l)} exceeds ${t} bytes`,"name",l);const u=new Uint8Array(a.length+1);return u.set(a,1),u[0]=u.length-1,u})))+"00"}function Z9(l){return typeof l=="string"&&(l=Yr(l)),mn(Ft([Yr(S7),Yr(String(l.length)),l]))}const Lw=new Uint8Array(32);Lw.fill(0);const W9=BigInt(-1),Uw=BigInt(0),kw=BigInt(1),q9=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function J9(l){const e=ze(l),t=e.length%32;return t?Ft([e,Lw.slice(t)]):Be(e)}const $9=Va(kw,32),eC=Va(Uw,32),t8={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Sg=["name","version","chainId","verifyingContract","salt"];function n8(l){return function(e){return Y(typeof e=="string",`invalid domain value for ${JSON.stringify(l)}`,`domain.${l}`,e),e}}const tC={name:n8("name"),version:n8("version"),chainId:function(l){const e=je(l,"domain.chainId");return Y(e>=0,"invalid chain ID","domain.chainId",l),Number.isSafeInteger(e)?Number(e):fs(e)},verifyingContract:function(l){try{return Rt(l).toLowerCase()}catch{}Y(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",l)},salt:function(l){const e=ze(l,"domain.salt");return Y(e.length===32,'invalid domain value "salt"',"domain.salt",l),Be(e)}};function Tg(l){{const e=l.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",a=parseInt(e[2]);Y(a%8===0&&a!==0&&a<=256&&e[2]===String(a),"invalid numeric width","type",l);const u=Fo(q9,t?a-1:a),x=t?(u+kw)*W9:Uw;return function(p){const E=je(p,"value");return Y(E>=x&&E<=u,`value out-of-bounds for ${l}`,"value",E),Va(t?t4(E,256):E,32)}}}{const e=l.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return Y(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",l),function(a){const u=ze(a);return Y(u.length===t,`invalid length for ${l}`,"value",a),J9(a)}}}switch(l){case"address":return function(e){return za(Rt(e),32)};case"bool":return function(e){return e?$9:eC};case"bytes":return function(e){return mn(e)};case"string":return function(e){return Ya(e)}}return null}function r8(l,e){return`${l}(${e.map(({name:t,type:a})=>a+" "+t).join(",")})`}function sh(l){const e=l.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:l}}var pd,Ia,eu,Xh,Pw;const Pi=class Pi{constructor(e){xe(this,Xh);te(this,"primaryType");xe(this,pd);xe(this,Ia);xe(this,eu);z(this,Ia,new Map),z(this,eu,new Map);const t=new Map,a=new Map,u=new Map,x={};Object.keys(e).forEach(w=>{x[w]=e[w].map(({name:y,type:T})=>{let{base:N,index:D}=sh(T);return N==="int"&&!e.int&&(N="int256"),N==="uint"&&!e.uint&&(N="uint256"),{name:y,type:N+(D||"")}}),t.set(w,new Set),a.set(w,[]),u.set(w,new Set)}),z(this,pd,JSON.stringify(x));for(const w in x){const y=new Set;for(const T of x[w]){Y(!y.has(T.name),`duplicate variable name ${JSON.stringify(T.name)} in ${JSON.stringify(w)}`,"types",e),y.add(T.name);const N=sh(T.type).base;Y(N!==w,`circular type reference to ${JSON.stringify(N)}`,"types",e),!Tg(N)&&(Y(a.has(N),`unknown type ${JSON.stringify(N)}`,"types",e),a.get(N).push(w),t.get(w).add(N))}}const p=Array.from(a.keys()).filter(w=>a.get(w).length===0);Y(p.length!==0,"missing primary type","types",e),Y(p.length===1,`ambiguous primary types or unused types: ${p.map(w=>JSON.stringify(w)).join(", ")}`,"types",e),Ze(this,{primaryType:p[0]});function E(w,y){Y(!y.has(w),`circular type reference to ${JSON.stringify(w)}`,"types",e),y.add(w);for(const T of t.get(w))if(a.has(T)){E(T,y);for(const N of y)u.get(N).add(T)}y.delete(w)}E(this.primaryType,new Set);for(const[w,y]of u){const T=Array.from(y);T.sort(),I(this,Ia).set(w,r8(w,x[w])+T.map(N=>r8(N,x[N])).join(""))}}get types(){return JSON.parse(I(this,pd))}getEncoder(e){let t=I(this,eu).get(e);return t||(t=Te(this,Xh,Pw).call(this,e),I(this,eu).set(e,t)),t}encodeType(e){const t=I(this,Ia).get(e);return Y(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return mn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,a){if(Tg(e))return a(e,t);const u=sh(e).array;if(u)return Y(u.count===-1||u.count===t.length,`array length mismatch; expected length ${u.count}`,"value",t),t.map(p=>this._visit(u.prefix,p,a));const x=this.types[e];if(x)return x.reduce((p,{name:E,type:w})=>(p[E]=this._visit(w,t[E],a),p),{});Y(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Pi(e)}static getPrimaryType(e){return Pi.from(e).primaryType}static hashStruct(e,t,a){return Pi.from(t).hashStruct(e,a)}static hashDomain(e){const t=[];for(const a in e){if(e[a]==null)continue;const u=t8[a];Y(u,`invalid typed-data domain key: ${JSON.stringify(a)}`,"domain",e),t.push({name:a,type:u})}return t.sort((a,u)=>Sg.indexOf(a.name)-Sg.indexOf(u.name)),Pi.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,a){return Ft(["0x1901",Pi.hashDomain(e),Pi.from(t).hash(a)])}static hash(e,t,a){return mn(Pi.encode(e,t,a))}static async resolveNames(e,t,a,u){e=Object.assign({},e);for(const E in e)e[E]==null&&delete e[E];const x={};e.verifyingContract&&!on(e.verifyingContract,20)&&(x[e.verifyingContract]="0x");const p=Pi.from(t);p.visit(a,(E,w)=>(E==="address"&&!on(w,20)&&(x[w]="0x"),w));for(const E in x)x[E]=await u(E);return e.verifyingContract&&x[e.verifyingContract]&&(e.verifyingContract=x[e.verifyingContract]),a=p.visit(a,(E,w)=>E==="address"&&x[w]?x[w]:w),{domain:e,value:a}}static getPayload(e,t,a){Pi.hashDomain(e);const u={},x=[];Sg.forEach(w=>{const y=e[w];y!=null&&(u[w]=tC[w](y),x.push({name:w,type:t8[w]}))});const p=Pi.from(t);t=p.types;const E=Object.assign({},t);return Y(E.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),E.EIP712Domain=x,p.encode(a),{types:E,domain:u,primaryType:p.primaryType,message:p.visit(a,(w,y)=>{if(w.match(/^bytes(\d*)/))return Be(ze(y));if(w.match(/^u?int/))return je(y).toString();switch(w){case"address":return y.toLowerCase();case"bool":return!!y;case"string":return Y(typeof y=="string","invalid string","value",y),y}Y(!1,"unsupported type","type",w)})}}};pd=new WeakMap,Ia=new WeakMap,eu=new WeakMap,Xh=new WeakSet,Pw=function(e){{const u=Tg(e);if(u)return u}const t=sh(e).array;if(t){const u=t.prefix,x=this.getEncoder(u);return p=>{Y(t.count===-1||t.count===p.length,`array length mismatch; expected length ${t.count}`,"value",p);let E=p.map(x);return I(this,Ia).has(u)&&(E=E.map(mn)),mn(Ft(E))}}const a=this.types[e];if(a){const u=Ya(I(this,Ia).get(e));return x=>{const p=a.map(({name:E,type:w})=>{const y=this.getEncoder(w)(x[E]);return I(this,Ia).has(w)?mn(y):y});return p.unshift(u),Ft(p)}}Y(!1,`unknown type: ${e}`,"type",e)};let vu=Pi;function Xr(l){const e=new Set;return l.forEach(t=>e.add(t)),Object.freeze(e)}const nC="external public payable override",rC=Xr(nC.split(" ")),Fw="constant external internal payable private public pure view override",iC=Xr(Fw.split(" ")),Hw="constructor error event fallback function receive struct",Gw=Xr(Hw.split(" ")),zw="calldata memory storage payable indexed",sC=Xr(zw.split(" ")),aC="tuple returns",lC=[Hw,zw,aC,Fw].join(" "),oC=Xr(lC.split(" ")),cC={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},uC=new RegExp("^(\\s*)"),fC=new RegExp("^([0-9]+)"),dC=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Vw=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),jw=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var br,cs,bd,om;const Yh=class Yh{constructor(e){xe(this,bd);xe(this,br);xe(this,cs);z(this,br,0),z(this,cs,e.slice())}get offset(){return I(this,br)}get length(){return I(this,cs).length-I(this,br)}clone(){return new Yh(I(this,cs))}reset(){z(this,br,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=Te(this,bd,om).call(this,I(this,br)+1,e.match+1);return z(this,br,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;I(this,br)<e.match-1;){const a=this.peek().linkNext;t.push(Te(this,bd,om).call(this,I(this,br)+1,a)),z(this,br,a)}return z(this,br,e.match+1),t}peek(){if(I(this,br)>=I(this,cs).length)throw new Error("out-of-bounds");return I(this,cs)[I(this,br)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return _f(this,br)._++,e}toString(){const e=[];for(let t=I(this,br);t<I(this,cs).length;t++){const a=I(this,cs)[t];e.push(`${a.type}:${a.text}`)}return`<TokenString ${e.join(" ")}>`}};br=new WeakMap,cs=new WeakMap,bd=new WeakSet,om=function(e=0,t=0){return new Yh(I(this,cs).slice(e,t).map(a=>Object.freeze(Object.assign({},a,{match:a.match-e,linkBack:a.linkBack-e,linkNext:a.linkNext-e}))))};let xs=Yh;function to(l){const e=[],t=p=>{const E=x<l.length?JSON.stringify(l[x]):"$EOI";throw new Error(`invalid token ${E} at ${x}: ${p}`)};let a=[],u=[],x=0;for(;x<l.length;){let p=l.substring(x),E=p.match(uC);E&&(x+=E[1].length,p=l.substring(x));const w={depth:a.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:x,value:-1};e.push(w);let y=cC[p[0]]||"";if(y){if(w.type=y,w.text=p[0],x++,y==="OPEN_PAREN")a.push(e.length-1),u.push(e.length-1);else if(y=="CLOSE_PAREN")a.length===0&&t("no matching open bracket"),w.match=a.pop(),e[w.match].match=e.length-1,w.depth--,w.linkBack=u.pop(),e[w.linkBack].linkNext=e.length-1;else if(y==="COMMA")w.linkBack=u.pop(),e[w.linkBack].linkNext=e.length-1,u.push(e.length-1);else if(y==="OPEN_BRACKET")w.type="BRACKET";else if(y==="CLOSE_BRACKET"){let T=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const N=e.pop().text;T=N+T,e[e.length-1].value=ut(N)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=T}continue}if(E=p.match(dC),E){if(w.text=E[1],x+=w.text.length,oC.has(w.text)){w.type="KEYWORD";continue}if(w.text.match(jw)){w.type="TYPE";continue}w.type="ID";continue}if(E=p.match(fC),E){w.text=E[1],w.type="NUMBER",x+=w.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(p[0])} at position ${x}`)}return new xs(e.map(p=>Object.freeze(p)))}function i8(l,e){let t=[];for(const a in e.keys())l.has(a)&&t.push(a);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function ox(l,e){if(e.peekKeyword(Gw)){const t=e.pop().text;if(t!==l)throw new Error(`expected ${l}, got ${t}`)}return e.popType("ID")}function Qa(l,e){const t=new Set;for(;;){const a=l.peekType("KEYWORD");if(a==null||e&&!e.has(a))break;if(l.pop(),t.has(a))throw new Error(`duplicate keywords: ${JSON.stringify(a)}`);t.add(a)}return Object.freeze(t)}function Xw(l){let e=Qa(l,iC);return i8(e,Xr("constant payable nonpayable".split(" "))),i8(e,Xr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ha(l,e){return l.popParams().map(t=>Er.from(t,e))}function Yw(l){if(l.peekType("AT")){if(l.pop(),l.peekType("NUMBER"))return je(l.pop().text);throw new Error("invalid gas")}return null}function hc(l){if(l.length)throw new Error(`unexpected tokens at offset ${l.offset}: ${l.toString()}`)}const hC=new RegExp(/^(.*)\[([0-9]*)\]$/);function s8(l){const e=l.match(jw);if(Y(e,"invalid type","type",l),l==="uint")return"uint256";if(l==="int")return"int256";if(e[2]){const t=parseInt(e[2]);Y(t!==0&&t<=32,"invalid bytes length","type",l)}else if(e[3]){const t=parseInt(e[3]);Y(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",l)}return l}const wn={},si=Symbol.for("_ethers_internal"),a8="_ParamTypeInternal",l8="_ErrorInternal",o8="_EventInternal",c8="_ConstructorInternal",u8="_FallbackInternal",f8="_FunctionInternal",d8="_StructInternal";var tu,gh;const Fi=class Fi{constructor(e,t,a,u,x,p,E,w){xe(this,tu);te(this,"name");te(this,"type");te(this,"baseType");te(this,"indexed");te(this,"components");te(this,"arrayLength");te(this,"arrayChildren");if($l(e,wn,"ParamType"),Object.defineProperty(this,si,{value:a8}),p&&(p=Object.freeze(p.slice())),u==="array"){if(E==null||w==null)throw new Error("")}else if(E!=null||w!=null)throw new Error("");if(u==="tuple"){if(p==null)throw new Error("")}else if(p!=null)throw new Error("");Ze(this,{name:t,type:a,baseType:u,indexed:x,components:p,arrayLength:E,arrayChildren:w})}format(e){if(e==null&&(e="sighash"),e==="json"){const a=this.name||"";if(this.isArray()){const x=JSON.parse(this.arrayChildren.format("json"));return x.name=a,x.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(x)}const u={type:this.baseType==="tuple"?"tuple":this.type,name:a};return typeof this.indexed=="boolean"&&(u.indexed=this.indexed),this.isTuple()&&(u.components=this.components.map(x=>JSON.parse(x.format(e)))),JSON.stringify(u)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(a=>a.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const a=this;return e.map(u=>a.arrayChildren.walk(u,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const a=this;return e.map((u,x)=>a.components[x].walk(u,t))}return t(this.type,e)}async walkAsync(e,t){const a=[],u=[e];return Te(this,tu,gh).call(this,a,e,t,x=>{u[0]=x}),a.length&&await Promise.all(a),u[0]}static from(e,t){if(Fi.isParamType(e))return e;if(typeof e=="string")try{return Fi.from(to(e),t)}catch{Y(!1,"invalid param type","obj",e)}else if(e instanceof xs){let E="",w="",y=null;Qa(e,Xr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(w="tuple",y=e.popParams().map(k=>Fi.from(k)),E=`tuple(${y.map(k=>k.format()).join(",")})`):(E=s8(e.popType("TYPE")),w=E);let T=null,N=null;for(;e.length&&e.peekType("BRACKET");){const k=e.pop();T=new Fi(wn,"",E,w,null,y,N,T),N=k.value,E+=k.text,w="array",y=null}let D=null;if(Qa(e,sC).has("indexed")){if(!t)throw new Error("");D=!0}const P=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Fi(wn,P,E,w,D,y,N,T)}const a=e.name;Y(!a||typeof a=="string"&&a.match(Vw),"invalid name","obj.name",a);let u=e.indexed;u!=null&&(Y(t,"parameter cannot be indexed","obj.indexed",e.indexed),u=!!u);let x=e.type,p=x.match(hC);if(p){const E=parseInt(p[2]||"-1"),w=Fi.from({type:p[1],components:e.components});return new Fi(wn,a||"",x,"array",u,null,E,w)}if(x==="tuple"||x.startsWith("tuple(")||x.startsWith("(")){const E=e.components!=null?e.components.map(y=>Fi.from(y)):null;return new Fi(wn,a||"",x,"tuple",u,E,null,null)}return x=s8(e.type),new Fi(wn,a||"",x,x,u,null,null,null)}static isParamType(e){return e&&e[si]===a8}};tu=new WeakSet,gh=function(e,t,a,u){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const p=this.arrayChildren,E=t.slice();E.forEach((w,y)=>{var T;Te(T=p,tu,gh).call(T,e,w,a,N=>{E[y]=N})}),u(E);return}if(this.isTuple()){const p=this.components;let E;if(Array.isArray(t))E=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");E=p.map(w=>{if(!w.name)throw new Error("cannot use object value with unnamed components");if(!(w.name in t))throw new Error(`missing value for component ${w.name}`);return t[w.name]})}if(E.length!==this.components.length)throw new Error("array is wrong length");E.forEach((w,y)=>{var T;Te(T=p[y],tu,gh).call(T,e,w,a,N=>{E[y]=N})}),u(E);return}const x=a(this.type,t);x.then?e.push(async function(){u(await x)}()):u(x)};let Er=Fi;class xc{constructor(e,t,a){te(this,"type");te(this,"inputs");$l(e,wn,"Fragment"),a=Object.freeze(a.slice()),Ze(this,{type:t,inputs:a})}static from(e){if(typeof e=="string"){try{xc.from(JSON.parse(e))}catch{}return xc.from(to(e))}if(e instanceof xs)switch(e.peekKeyword(Gw)){case"constructor":return Pa.from(e);case"error":return ri.from(e);case"event":return Ks.from(e);case"fallback":case"receive":return Ta.from(e);case"function":return Zs.from(e);case"struct":return dc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Pa.from(e);case"error":return ri.from(e);case"event":return Ks.from(e);case"fallback":case"receive":return Ta.from(e);case"function":return Zs.from(e);case"struct":return dc.from(e)}we(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Y(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Pa.isFragment(e)}static isError(e){return ri.isFragment(e)}static isEvent(e){return Ks.isFragment(e)}static isFunction(e){return Zs.isFragment(e)}static isStruct(e){return dc.isFragment(e)}}class cx extends xc{constructor(t,a,u,x){super(t,a,x);te(this,"name");Y(typeof u=="string"&&u.match(Vw),"invalid identifier","name",u),x=Object.freeze(x.slice()),Ze(this,{name:u})}}function od(l,e){return"("+e.map(t=>t.format(l)).join(l==="full"?", ":",")+")"}class ri extends cx{constructor(e,t,a){super(e,"error",t,a),Object.defineProperty(this,si,{value:l8})}get selector(){return Ya(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+od(e,this.inputs)),t.join(" ")}static from(e){if(ri.isFragment(e))return e;if(typeof e=="string")return ri.from(to(e));if(e instanceof xs){const t=ox("error",e),a=Ha(e);return hc(e),new ri(wn,t,a)}return new ri(wn,e.name,e.inputs?e.inputs.map(Er.from):[])}static isFragment(e){return e&&e[si]===l8}}class Ks extends cx{constructor(t,a,u,x){super(t,"event",a,u);te(this,"anonymous");Object.defineProperty(this,si,{value:o8}),Ze(this,{anonymous:x})}get topicHash(){return Ya(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(u=>JSON.parse(u.format(t)))});const a=[];return t!=="sighash"&&a.push("event"),a.push(this.name+od(t,this.inputs)),t!=="sighash"&&this.anonymous&&a.push("anonymous"),a.join(" ")}static getTopicHash(t,a){return a=(a||[]).map(x=>Er.from(x)),new Ks(wn,t,a,!1).topicHash}static from(t){if(Ks.isFragment(t))return t;if(typeof t=="string")try{return Ks.from(to(t))}catch{Y(!1,"invalid event fragment","obj",t)}else if(t instanceof xs){const a=ox("event",t),u=Ha(t,!0),x=!!Qa(t,Xr(["anonymous"])).has("anonymous");return hc(t),new Ks(wn,a,u,x)}return new Ks(wn,t.name,t.inputs?t.inputs.map(a=>Er.from(a,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[si]===o8}}class Pa extends xc{constructor(t,a,u,x,p){super(t,a,u);te(this,"payable");te(this,"gas");Object.defineProperty(this,si,{value:c8}),Ze(this,{payable:x,gas:p})}format(t){if(we(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(u=>JSON.parse(u.format(t)))});const a=[`constructor${od(t,this.inputs)}`];return this.payable&&a.push("payable"),this.gas!=null&&a.push(`@${this.gas.toString()}`),a.join(" ")}static from(t){if(Pa.isFragment(t))return t;if(typeof t=="string")try{return Pa.from(to(t))}catch{Y(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof xs){Qa(t,Xr(["constructor"]));const a=Ha(t),u=!!Qa(t,rC).has("payable"),x=Yw(t);return hc(t),new Pa(wn,"constructor",a,u,x)}return new Pa(wn,"constructor",t.inputs?t.inputs.map(Er.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[si]===c8}}class Ta extends xc{constructor(t,a,u){super(t,"fallback",a);te(this,"payable");Object.defineProperty(this,si,{value:u8}),Ze(this,{payable:u})}format(t){const a=this.inputs.length===0?"receive":"fallback";if(t==="json"){const u=this.payable?"payable":"nonpayable";return JSON.stringify({type:a,stateMutability:u})}return`${a}()${this.payable?" payable":""}`}static from(t){if(Ta.isFragment(t))return t;if(typeof t=="string")try{return Ta.from(to(t))}catch{Y(!1,"invalid fallback fragment","obj",t)}else if(t instanceof xs){const a=t.toString(),u=t.peekKeyword(Xr(["fallback","receive"]));if(Y(u,"type must be fallback or receive","obj",a),t.popKeyword(Xr(["fallback","receive"]))==="receive"){const w=Ha(t);return Y(w.length===0,"receive cannot have arguments","obj.inputs",w),Qa(t,Xr(["payable"])),hc(t),new Ta(wn,[],!0)}let p=Ha(t);p.length?Y(p.length===1&&p[0].type==="bytes","invalid fallback inputs","obj.inputs",p.map(w=>w.format("minimal")).join(", ")):p=[Er.from("bytes")];const E=Xw(t);if(Y(E==="nonpayable"||E==="payable","fallback cannot be constants","obj.stateMutability",E),Qa(t,Xr(["returns"])).has("returns")){const w=Ha(t);Y(w.length===1&&w[0].type==="bytes","invalid fallback outputs","obj.outputs",w.map(y=>y.format("minimal")).join(", "))}return hc(t),new Ta(wn,p,E==="payable")}if(t.type==="receive")return new Ta(wn,[],!0);if(t.type==="fallback"){const a=[Er.from("bytes")],u=t.stateMutability==="payable";return new Ta(wn,a,u)}Y(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[si]===u8}}class Zs extends cx{constructor(t,a,u,x,p,E){super(t,"function",a,x);te(this,"constant");te(this,"outputs");te(this,"stateMutability");te(this,"payable");te(this,"gas");Object.defineProperty(this,si,{value:f8}),p=Object.freeze(p.slice()),Ze(this,{constant:u==="view"||u==="pure",gas:E,outputs:p,payable:u==="payable",stateMutability:u})}get selector(){return Ya(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(u=>JSON.parse(u.format(t))),outputs:this.outputs.map(u=>JSON.parse(u.format(t)))});const a=[];return t!=="sighash"&&a.push("function"),a.push(this.name+od(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&a.push(this.stateMutability),this.outputs&&this.outputs.length&&(a.push("returns"),a.push(od(t,this.outputs))),this.gas!=null&&a.push(`@${this.gas.toString()}`)),a.join(" ")}static getSelector(t,a){return a=(a||[]).map(x=>Er.from(x)),new Zs(wn,t,"view",a,[],null).selector}static from(t){if(Zs.isFragment(t))return t;if(typeof t=="string")try{return Zs.from(to(t))}catch{Y(!1,"invalid function fragment","obj",t)}else if(t instanceof xs){const u=ox("function",t),x=Ha(t),p=Xw(t);let E=[];Qa(t,Xr(["returns"])).has("returns")&&(E=Ha(t));const w=Yw(t);return hc(t),new Zs(wn,u,p,x,E,w)}let a=t.stateMutability;return a==null&&(a="payable",typeof t.constant=="boolean"?(a="view",t.constant||(a="payable",typeof t.payable=="boolean"&&!t.payable&&(a="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(a="nonpayable")),new Zs(wn,t.name,a,t.inputs?t.inputs.map(Er.from):[],t.outputs?t.outputs.map(Er.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[si]===f8}}class dc extends cx{constructor(e,t,a){super(e,"struct",t,a),Object.defineProperty(this,si,{value:d8})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return dc.from(to(e))}catch{Y(!1,"invalid struct fragment","obj",e)}else if(e instanceof xs){const t=ox("struct",e),a=Ha(e);return hc(e),new dc(wn,t,a)}return new dc(wn,e.name,e.inputs?e.inputs.map(Er.from):[])}static isFragment(e){return e&&e[si]===d8}}const gs=new Map;gs.set(0,"GENERIC_PANIC");gs.set(1,"ASSERT_FALSE");gs.set(17,"OVERFLOW");gs.set(18,"DIVIDE_BY_ZERO");gs.set(33,"ENUM_RANGE_ERROR");gs.set(34,"BAD_STORAGE_DATA");gs.set(49,"STACK_UNDERFLOW");gs.set(50,"ARRAY_RANGE_ERROR");gs.set(65,"OUT_OF_MEMORY");gs.set(81,"UNINITIALIZED_FUNCTION_CALL");const xC=new RegExp(/^bytes([0-9]*)$/),gC=new RegExp(/^(u?int)([0-9]*)$/);let Ng=null,h8=1024;function mC(l,e,t,a){let u="missing revert data",x=null;const p=null;let E=null;if(t){u="execution reverted";const y=ze(t);if(t=Be(t),y.length===0)u+=" (no data present; likely require(false) occurred",x="require(false)";else if(y.length%32!==4)u+=" (could not decode reason; invalid data length)";else if(Be(y.slice(0,4))==="0x08c379a0")try{x=a.decode(["string"],y.slice(4))[0],E={signature:"Error(string)",name:"Error",args:[x]},u+=`: ${JSON.stringify(x)}`}catch{u+=" (could not decode reason; invalid string data)"}else if(Be(y.slice(0,4))==="0x4e487b71")try{const T=Number(a.decode(["uint256"],y.slice(4))[0]);E={signature:"Panic(uint256)",name:"Panic",args:[T]},x=`Panic due to ${gs.get(T)||"UNKNOWN"}(${T})`,u+=`: ${x}`}catch{u+=" (could not decode panic code)"}else u+=" (unknown custom error)"}const w={to:e.to?Rt(e.to):null,data:e.data||"0x"};return e.from&&(w.from=Rt(e.from)),yn(u,"CALL_EXCEPTION",{action:l,data:t,reason:x,transaction:w,invocation:p,revert:E})}var Fl,m0;const Qh=class Qh{constructor(){xe(this,Fl)}getDefaultValue(e){const t=e.map(u=>Te(this,Fl,m0).call(this,Er.from(u)));return new ih(t,"_").defaultValue()}encode(e,t){q8(t.length,e.length,"types/values length mismatch");const a=e.map(p=>Te(this,Fl,m0).call(this,Er.from(p))),u=new ih(a,"_"),x=new Kg;return u.encode(x,t),x.data}decode(e,t,a){const u=e.map(p=>Te(this,Fl,m0).call(this,Er.from(p)));return new ih(u,"_").decode(new Zg(t,a,h8))}static _setDefaultMaxInflation(e){Y(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),h8=e}static defaultAbiCoder(){return Ng==null&&(Ng=new Qh),Ng}static getBuiltinCallException(e,t,a){return mC(e,t,a,Qh.defaultAbiCoder())}};Fl=new WeakSet,m0=function(e){if(e.isArray())return new M7(Te(this,Fl,m0).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ih(e.components.map(a=>Te(this,Fl,m0).call(this,a)),e.name);switch(e.baseType){case"address":return new B7(e.name);case"bool":return new _7(e.name);case"string":return new V7(e.name);case"bytes":return new L7(e.name);case"":return new P7(e.name)}let t=e.type.match(gC);if(t){let a=parseInt(t[2]||"256");return Y(a!==0&&a<=256&&a%8===0,"invalid "+t[1]+" bit length","param",e),new z7(a/8,t[1]==="int",e.name)}if(t=e.type.match(xC),t){let a=parseInt(t[1]);return Y(a!==0&&a<=32,"invalid bytes length","param",e),new U7(a,e.name)}Y(!1,"invalid type","type",e.type)};let cd=Qh;class pC{constructor(e,t,a){te(this,"fragment");te(this,"name");te(this,"signature");te(this,"topic");te(this,"args");const u=e.name,x=e.format();Ze(this,{fragment:e,name:u,signature:x,topic:t,args:a})}}class bC{constructor(e,t,a,u){te(this,"fragment");te(this,"name");te(this,"args");te(this,"signature");te(this,"selector");te(this,"value");const x=e.name,p=e.format();Ze(this,{fragment:e,name:x,args:a,signature:p,selector:t,value:u})}}class yC{constructor(e,t,a){te(this,"fragment");te(this,"name");te(this,"args");te(this,"signature");te(this,"selector");const u=e.name,x=e.format();Ze(this,{fragment:e,name:u,args:a,signature:x,selector:t})}}class x8{constructor(e){te(this,"hash");te(this,"_isIndexed");Ze(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const g8={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},m8={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:l=>`reverted with reason string ${JSON.stringify(l)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:l=>{let e="unknown panic code";return l>=0&&l<=255&&g8[l.toString()]&&(e=g8[l.toString()]),`reverted with panic code 0x${l.toString(16)} (${e})`}}};var zs,Vs,js,Dr,$s,mh,ph;const ko=class ko{constructor(e){xe(this,$s);te(this,"fragments");te(this,"deploy");te(this,"fallback");te(this,"receive");xe(this,zs);xe(this,Vs);xe(this,js);xe(this,Dr);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,z(this,js,new Map),z(this,zs,new Map),z(this,Vs,new Map);const a=[];for(const p of t)try{a.push(xc.from(p))}catch(E){console.log(`[Warning] Invalid Fragment ${JSON.stringify(p)}:`,E.message)}Ze(this,{fragments:Object.freeze(a)});let u=null,x=!1;z(this,Dr,this.getAbiCoder()),this.fragments.forEach((p,E)=>{let w;switch(p.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ze(this,{deploy:p});return;case"fallback":p.inputs.length===0?x=!0:(Y(!u||p.payable!==u.payable,"conflicting fallback fragments",`fragments[${E}]`,p),u=p,x=u.payable);return;case"function":w=I(this,js);break;case"event":w=I(this,Vs);break;case"error":w=I(this,zs);break;default:return}const y=p.format();w.has(y)||w.set(y,p)}),this.deploy||Ze(this,{deploy:Pa.from("constructor()")}),Ze(this,{fallback:u,receive:x})}format(e){const t=e?"minimal":"full";return this.fragments.map(u=>u.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return cd.defaultAbiCoder()}getFunctionName(e){const t=Te(this,$s,mh).call(this,e,null,!1);return Y(t,"no matching function","key",e),t.name}hasFunction(e){return!!Te(this,$s,mh).call(this,e,null,!1)}getFunction(e,t){return Te(this,$s,mh).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(I(this,js).keys());t.sort((a,u)=>a.localeCompare(u));for(let a=0;a<t.length;a++){const u=t[a];e(I(this,js).get(u),a)}}getEventName(e){const t=Te(this,$s,ph).call(this,e,null,!1);return Y(t,"no matching event","key",e),t.name}hasEvent(e){return!!Te(this,$s,ph).call(this,e,null,!1)}getEvent(e,t){return Te(this,$s,ph).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(I(this,Vs).keys());t.sort((a,u)=>a.localeCompare(u));for(let a=0;a<t.length;a++){const u=t[a];e(I(this,Vs).get(u),a)}}getError(e,t){if(on(e)){const u=e.toLowerCase();if(m8[u])return ri.from(m8[u].signature);for(const x of I(this,zs).values())if(u===x.selector)return x;return null}if(e.indexOf("(")===-1){const u=[];for(const[x,p]of I(this,zs))x.split("(")[0]===e&&u.push(p);if(u.length===0)return e==="Error"?ri.from("error Error(string)"):e==="Panic"?ri.from("error Panic(uint256)"):null;if(u.length>1){const x=u.map(p=>JSON.stringify(p.format())).join(", ");Y(!1,`ambiguous error description (i.e. ${x})`,"name",e)}return u[0]}if(e=ri.from(e).format(),e==="Error(string)")return ri.from("error Error(string)");if(e==="Panic(uint256)")return ri.from("error Panic(uint256)");const a=I(this,zs).get(e);return a||null}forEachError(e){const t=Array.from(I(this,zs).keys());t.sort((a,u)=>a.localeCompare(u));for(let a=0;a<t.length;a++){const u=t[a];e(I(this,zs).get(u),a)}}_decodeParams(e,t){return I(this,Dr).decode(e,t)}_encodeParams(e,t){return I(this,Dr).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const a=this.getError(e);Y(a,"unknown error","fragment",e),e=a}return Y(dn(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,dn(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const a=this.getError(e);Y(a,"unknown error","fragment",e),e=a}return Ft([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const a=this.getFunction(e);Y(a,"unknown function","fragment",e),e=a}return Y(dn(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,dn(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const a=this.getFunction(e);Y(a,"unknown function","fragment",e),e=a}return Ft([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const x=this.getFunction(e);Y(x,"unknown function","fragment",e),e=x}let a="invalid length for result data";const u=Ar(t);if(u.length%32===0)try{return I(this,Dr).decode(e.outputs,u)}catch{a="could not decode result data"}we(!1,a,"BAD_DATA",{value:Be(u),info:{method:e.name,signature:e.format()}})}makeError(e,t){const a=ze(e,"data"),u=cd.getBuiltinCallException("call",t,a);if(u.message.startsWith("execution reverted (unknown custom error)")){const E=Be(a.slice(0,4)),w=this.getError(E);if(w)try{const y=I(this,Dr).decode(w.inputs,a.slice(4));u.revert={name:w.name,signature:w.format(),args:y},u.reason=u.revert.signature,u.message=`execution reverted: ${u.reason}`}catch{u.message="execution reverted (coult not decode custom error)"}}const p=this.parseTransaction(t);return p&&(u.invocation={method:p.name,signature:p.signature,args:p.args}),u}encodeFunctionResult(e,t){if(typeof e=="string"){const a=this.getFunction(e);Y(a,"unknown function","fragment",e),e=a}return Be(I(this,Dr).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const x=this.getEvent(e);Y(x,"unknown event","eventFragment",e),e=x}we(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const a=[];e.anonymous||a.push(e.topicHash);const u=(x,p)=>x.type==="string"?Ya(p):x.type==="bytes"?mn(Be(p)):(x.type==="bool"&&typeof p=="boolean"?p=p?"0x01":"0x00":x.type.match(/^u?int/)?p=Va(p):x.type.match(/^bytes/)?p=mE(p,32):x.type==="address"&&I(this,Dr).encode(["address"],[p]),za(Be(p),32));for(t.forEach((x,p)=>{const E=e.inputs[p];if(!E.indexed){Y(x==null,"cannot filter non-indexed parameters; must be null","contract."+E.name,x);return}x==null?a.push(null):E.baseType==="array"||E.baseType==="tuple"?Y(!1,"filtering with tuples or arrays not supported","contract."+E.name,x):Array.isArray(x)?a.push(x.map(w=>u(E,w))):a.push(u(E,x))});a.length&&a[a.length-1]===null;)a.pop();return a}encodeEventLog(e,t){if(typeof e=="string"){const p=this.getEvent(e);Y(p,"unknown event","eventFragment",e),e=p}const a=[],u=[],x=[];return e.anonymous||a.push(e.topicHash),Y(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((p,E)=>{const w=t[E];if(p.indexed)if(p.type==="string")a.push(Ya(w));else if(p.type==="bytes")a.push(mn(w));else{if(p.baseType==="tuple"||p.baseType==="array")throw new Error("not implemented");a.push(I(this,Dr).encode([p.type],[w]))}else u.push(p),x.push(w)}),{data:I(this,Dr).encode(u,x),topics:a}}decodeEventLog(e,t,a){if(typeof e=="string"){const L=this.getEvent(e);Y(L,"unknown event","eventFragment",e),e=L}if(a!=null&&!e.anonymous){const L=e.topicHash;Y(on(a[0],32)&&a[0].toLowerCase()===L,"fragment/topic mismatch","topics[0]",a[0]),a=a.slice(1)}const u=[],x=[],p=[];e.inputs.forEach((L,P)=>{L.indexed?L.type==="string"||L.type==="bytes"||L.baseType==="tuple"||L.baseType==="array"?(u.push(Er.from({type:"bytes32",name:L.name})),p.push(!0)):(u.push(L),p.push(!1)):(x.push(L),p.push(!1))});const E=a!=null?I(this,Dr).decode(u,Ft(a)):null,w=I(this,Dr).decode(x,t,!0),y=[],T=[];let N=0,D=0;return e.inputs.forEach((L,P)=>{let k=null;if(L.indexed)if(E==null)k=new x8(null);else if(p[P])k=new x8(E[D++]);else try{k=E[D++]}catch(j){k=j}else try{k=w[N++]}catch(j){k=j}y.push(k),T.push(L.name||null)}),yu.fromItems(y,T)}parseTransaction(e){const t=ze(e.data,"tx.data"),a=je(e.value!=null?e.value:0,"tx.value"),u=this.getFunction(Be(t.slice(0,4)));if(!u)return null;const x=I(this,Dr).decode(u.inputs,t.slice(4));return new bC(u,u.selector,x,a)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new pC(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Be(e),a=this.getError(dn(t,0,4));if(!a)return null;const u=I(this,Dr).decode(a.inputs,dn(t,4));return new yC(a,a.selector,u)}static from(e){return e instanceof ko?e:typeof e=="string"?new ko(JSON.parse(e)):typeof e.formatJson=="function"?new ko(e.formatJson()):typeof e.format=="function"?new ko(e.format("json")):new ko(e)}};zs=new WeakMap,Vs=new WeakMap,js=new WeakMap,Dr=new WeakMap,$s=new WeakSet,mh=function(e,t,a){if(on(e)){const x=e.toLowerCase();for(const p of I(this,js).values())if(x===p.selector)return p;return null}if(e.indexOf("(")===-1){const x=[];for(const[p,E]of I(this,js))p.split("(")[0]===e&&x.push(E);if(t){const p=t.length>0?t[t.length-1]:null;let E=t.length,w=!0;Ur.isTyped(p)&&p.type==="overrides"&&(w=!1,E--);for(let y=x.length-1;y>=0;y--){const T=x[y].inputs.length;T!==E&&(!w||T!==E-1)&&x.splice(y,1)}for(let y=x.length-1;y>=0;y--){const T=x[y].inputs;for(let N=0;N<t.length;N++)if(Ur.isTyped(t[N])){if(N>=T.length){if(t[N].type==="overrides")continue;x.splice(y,1);break}if(t[N].type!==T[N].baseType){x.splice(y,1);break}}}}if(x.length===1&&t&&t.length!==x[0].inputs.length){const p=t[t.length-1];(p==null||Array.isArray(p)||typeof p!="object")&&x.splice(0,1)}if(x.length===0)return null;if(x.length>1&&a){const p=x.map(E=>JSON.stringify(E.format())).join(", ");Y(!1,`ambiguous function description (i.e. matches ${p})`,"key",e)}return x[0]}const u=I(this,js).get(Zs.from(e).format());return u||null},ph=function(e,t,a){if(on(e)){const x=e.toLowerCase();for(const p of I(this,Vs).values())if(x===p.topicHash)return p;return null}if(e.indexOf("(")===-1){const x=[];for(const[p,E]of I(this,Vs))p.split("(")[0]===e&&x.push(E);if(t){for(let p=x.length-1;p>=0;p--)x[p].inputs.length<t.length&&x.splice(p,1);for(let p=x.length-1;p>=0;p--){const E=x[p].inputs;for(let w=0;w<t.length;w++)if(Ur.isTyped(t[w])&&t[w].type!==E[w].baseType){x.splice(p,1);break}}}if(x.length===0)return null;if(x.length>1&&a){const p=x.map(E=>JSON.stringify(E.format())).join(", ");Y(!1,`ambiguous event description (i.e. matches ${p})`,"key",e)}return x[0]}const u=I(this,Vs).get(Ks.from(e).format());return u||null};let cm=ko;const Qw=BigInt(0);function O0(l){return l??null}function Pn(l){return l==null?null:l.toString()}class p8{constructor(e,t,a){te(this,"gasPrice");te(this,"maxFeePerGas");te(this,"maxPriorityFeePerGas");Ze(this,{gasPrice:O0(e),maxFeePerGas:O0(t),maxPriorityFeePerGas:O0(a)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:a}=this;return{_type:"FeeData",gasPrice:Pn(e),maxFeePerGas:Pn(t),maxPriorityFeePerGas:Pn(a)}}}function ud(l){const e={};l.to&&(e.to=l.to),l.from&&(e.from=l.from),l.data&&(e.data=Be(l.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const u of t)!(u in l)||l[u]==null||(e[u]=je(l[u],`request.${u}`));const a="type,nonce".split(/,/);for(const u of a)!(u in l)||l[u]==null||(e[u]=ut(l[u],`request.${u}`));return l.accessList&&(e.accessList=yc(l.accessList)),l.authorizationList&&(e.authorizationList=l.authorizationList.slice()),"blockTag"in l&&(e.blockTag=l.blockTag),"enableCcipRead"in l&&(e.enableCcipRead=!!l.enableCcipRead),"customData"in l&&(e.customData=l.customData),"blobVersionedHashes"in l&&l.blobVersionedHashes&&(e.blobVersionedHashes=l.blobVersionedHashes.slice()),"kzg"in l&&(e.kzg=l.kzg),"blobs"in l&&l.blobs&&(e.blobs=l.blobs.map(u=>qh(u)?Be(u):Object.assign({},u))),e}var Ba;class wC{constructor(e,t){te(this,"provider");te(this,"number");te(this,"hash");te(this,"timestamp");te(this,"parentHash");te(this,"parentBeaconBlockRoot");te(this,"nonce");te(this,"difficulty");te(this,"gasLimit");te(this,"gasUsed");te(this,"stateRoot");te(this,"receiptsRoot");te(this,"blobGasUsed");te(this,"excessBlobGas");te(this,"miner");te(this,"prevRandao");te(this,"extraData");te(this,"baseFeePerGas");xe(this,Ba);z(this,Ba,e.transactions.map(a=>typeof a!="string"?new fd(a,t):a)),Ze(this,{provider:t,hash:O0(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:O0(e.prevRandao),extraData:e.extraData,baseFeePerGas:O0(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return I(this,Ba).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=I(this,Ba).slice();return e.length===0?[]:(we(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:a,gasLimit:u,gasUsed:x,hash:p,miner:E,prevRandao:w,nonce:y,number:T,parentHash:N,parentBeaconBlockRoot:D,stateRoot:L,receiptsRoot:P,timestamp:k,transactions:j}=this;return{_type:"Block",baseFeePerGas:Pn(e),difficulty:Pn(t),extraData:a,gasLimit:Pn(u),gasUsed:Pn(x),blobGasUsed:Pn(this.blobGasUsed),excessBlobGas:Pn(this.excessBlobGas),hash:p,miner:E,prevRandao:w,nonce:y,number:T,parentHash:N,timestamp:k,parentBeaconBlockRoot:D,stateRoot:L,receiptsRoot:P,transactions:j}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return I(this,Ba).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=I(this,Ba)[e];else{const a=e.toLowerCase();for(const u of I(this,Ba))if(typeof u=="string"){if(u!==a)continue;t=u;break}else{if(u.hash!==a)continue;t=u;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const a of t)if(a.hash===e)return a;Y(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return AC(this)}}Ba=new WeakMap;class _d{constructor(e,t){te(this,"provider");te(this,"transactionHash");te(this,"blockHash");te(this,"blockNumber");te(this,"removed");te(this,"address");te(this,"data");te(this,"topics");te(this,"index");te(this,"transactionIndex");this.provider=t;const a=Object.freeze(e.topics.slice());Ze(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:a,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:a,data:u,index:x,removed:p,topics:E,transactionHash:w,transactionIndex:y}=this;return{_type:"log",address:e,blockHash:t,blockNumber:a,data:u,index:x,removed:p,topics:E,transactionHash:w,transactionIndex:y}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return we(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return we(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return we(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return EC(this)}}var yd;class Kw{constructor(e,t){te(this,"provider");te(this,"to");te(this,"from");te(this,"contractAddress");te(this,"hash");te(this,"index");te(this,"blockHash");te(this,"blockNumber");te(this,"logsBloom");te(this,"gasUsed");te(this,"blobGasUsed");te(this,"cumulativeGasUsed");te(this,"gasPrice");te(this,"blobGasPrice");te(this,"type");te(this,"status");te(this,"root");xe(this,yd);z(this,yd,Object.freeze(e.logs.map(u=>new _d(u,t))));let a=Qw;e.effectiveGasPrice!=null?a=e.effectiveGasPrice:e.gasPrice!=null&&(a=e.gasPrice),Ze(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:a,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return I(this,yd)}toJSON(){const{to:e,from:t,contractAddress:a,hash:u,index:x,blockHash:p,blockNumber:E,logsBloom:w,logs:y,status:T,root:N}=this;return{_type:"TransactionReceipt",blockHash:p,blockNumber:E,contractAddress:a,cumulativeGasUsed:Pn(this.cumulativeGasUsed),from:t,gasPrice:Pn(this.gasPrice),blobGasUsed:Pn(this.blobGasUsed),blobGasPrice:Pn(this.blobGasPrice),gasUsed:Pn(this.gasUsed),hash:u,index:x,logs:y,logsBloom:w,root:N,status:T,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ww(this)}reorderedEvent(e){return we(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Zw(this,e)}}yd=new WeakMap;var Hl;const op=class op{constructor(e,t){te(this,"provider");te(this,"blockNumber");te(this,"blockHash");te(this,"index");te(this,"hash");te(this,"type");te(this,"to");te(this,"from");te(this,"nonce");te(this,"gasLimit");te(this,"gasPrice");te(this,"maxPriorityFeePerGas");te(this,"maxFeePerGas");te(this,"maxFeePerBlobGas");te(this,"data");te(this,"value");te(this,"chainId");te(this,"signature");te(this,"accessList");te(this,"blobVersionedHashes");te(this,"authorizationList");xe(this,Hl);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,z(this,Hl,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:a,hash:u,type:x,to:p,from:E,nonce:w,data:y,signature:T,accessList:N,blobVersionedHashes:D}=this;return{_type:"TransactionResponse",accessList:N,blockNumber:e,blockHash:t,blobVersionedHashes:D,chainId:Pn(this.chainId),data:y,from:E,gasLimit:Pn(this.gasLimit),gasPrice:Pn(this.gasPrice),hash:u,maxFeePerGas:Pn(this.maxFeePerGas),maxPriorityFeePerGas:Pn(this.maxPriorityFeePerGas),maxFeePerBlobGas:Pn(this.maxFeePerBlobGas),nonce:w,signature:T,to:p,index:a,type:x,value:Pn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const a=await this.getTransaction();a&&(e=a.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:a}=await Lr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:a-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const a=e??1,u=t??0;let x=I(this,Hl),p=-1,E=x===-1;const w=async()=>{if(E)return null;const{blockNumber:D,nonce:L}=await Lr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(L<this.nonce){x=D;return}if(E)return null;const P=await this.getTransaction();if(!(P&&P.blockNumber!=null))for(p===-1&&(p=x-3,p<I(this,Hl)&&(p=I(this,Hl)));p<=D;){if(E)return null;const k=await this.provider.getBlock(p,!0);if(k==null)return;for(const j of k)if(j===this.hash)return;for(let j=0;j<k.length;j++){const ee=await k.getTransaction(j);if(ee.from===this.from&&ee.nonce===this.nonce){if(E)return null;const re=await this.provider.getTransactionReceipt(ee.hash);if(re==null||D-re.blockNumber+1<a)return;let Z="replaced";ee.data===this.data&&ee.to===this.to&&ee.value===this.value?Z="repriced":ee.data==="0x"&&ee.from===ee.to&&ee.value===Qw&&(Z="cancelled"),we(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:Z==="replaced"||Z==="cancelled",reason:Z,replacement:ee.replaceableTransaction(x),hash:ee.hash,receipt:re})}}p++}},y=D=>{if(D==null||D.status!==0)return D;we(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:D.to,from:D.from,data:""},receipt:D})},T=await this.provider.getTransactionReceipt(this.hash);if(a===0)return y(T);if(T){if(a===1||await T.confirmations()>=a)return y(T)}else if(await w(),a===0)return null;return await new Promise((D,L)=>{const P=[],k=()=>{P.forEach(ee=>ee())};if(P.push(()=>{E=!0}),u>0){const ee=setTimeout(()=>{k(),L(yn("wait for transaction timeout","TIMEOUT"))},u);P.push(()=>{clearTimeout(ee)})}const j=async ee=>{if(await ee.confirmations()>=a){k();try{D(y(ee))}catch(re){L(re)}}};if(P.push(()=>{this.provider.off(this.hash,j)}),this.provider.on(this.hash,j),x>=0){const ee=async()=>{try{await w()}catch(re){if(wr(re,"TRANSACTION_REPLACED")){k(),L(re);return}}E||this.provider.once("block",ee)};P.push(()=>{this.provider.off("block",ee)}),this.provider.once("block",ee)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return we(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ww(this)}reorderedEvent(e){return we(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),we(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Zw(this,e)}replaceableTransaction(e){Y(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new op(this,this.provider);return z(t,Hl,e),t}};Hl=new WeakMap;let fd=op;function AC(l){return{orphan:"drop-block",hash:l.hash,number:l.number}}function Zw(l,e){return{orphan:"reorder-transaction",tx:l,other:e}}function Ww(l){return{orphan:"drop-transaction",tx:l}}function EC(l){return{orphan:"drop-log",log:{transactionHash:l.transactionHash,blockHash:l.blockHash,blockNumber:l.blockNumber,address:l.address,data:l.data,topics:Object.freeze(l.topics.slice()),index:l.index}}}class Wm extends _d{constructor(t,a,u){super(t,t.provider);te(this,"interface");te(this,"fragment");te(this,"args");const x=a.decodeEventLog(u,t.data,t.topics);Ze(this,{args:x,fragment:u,interface:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class qw extends _d{constructor(t,a){super(t,t.provider);te(this,"error");Ze(this,{error:a})}}var nu;class CC extends Kw{constructor(t,a,u){super(u,a);xe(this,nu);z(this,nu,t)}get logs(){return super.logs.map(t=>{const a=t.topics.length?I(this,nu).getEvent(t.topics[0]):null;if(a)try{return new Wm(t,I(this,nu),a)}catch(u){return new qw(t,u)}return t})}}nu=new WeakMap;var wd;class qm extends fd{constructor(t,a,u){super(u,a);xe(this,wd);z(this,wd,t)}async wait(t,a){const u=await super.wait(t,a);return u==null?null:new CC(I(this,wd),this.provider,u)}}wd=new WeakMap;class Jw extends r4{constructor(t,a,u,x){super(t,a,u);te(this,"log");Ze(this,{log:x})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class SC extends Jw{constructor(e,t,a,u,x){super(e,t,a,new Wm(x,e.interface,u));const p=e.interface.decodeEventLog(u,this.log.data,this.log.topics);Ze(this,{args:p,fragment:u})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const b8=BigInt(0);function $w(l){return l&&typeof l.call=="function"}function e6(l){return l&&typeof l.estimateGas=="function"}function ux(l){return l&&typeof l.resolveName=="function"}function t6(l){return l&&typeof l.sendTransaction=="function"}function n6(l){if(l!=null){if(ux(l))return l;if(l.provider)return l.provider}}var Ad;class TC{constructor(e,t,a){xe(this,Ad);te(this,"fragment");if(Ze(this,{fragment:t}),t.inputs.length<a.length)throw new Error("too many arguments");const u=gc(e.runner,"resolveName"),x=ux(u)?u:null;z(this,Ad,async function(){const p=await Promise.all(t.inputs.map((E,w)=>a[w]==null?null:E.walkAsync(a[w],(T,N)=>T==="address"?Array.isArray(N)?Promise.all(N.map(D=>cr(D,x))):cr(N,x):N)));return e.interface.encodeFilterTopics(t,p)}())}getTopicFilter(){return I(this,Ad)}}Ad=new WeakMap;function gc(l,e){return l==null?null:typeof l[e]=="function"?l:l.provider&&typeof l.provider[e]=="function"?l.provider:null}function zo(l){return l==null?null:l.provider||null}async function r6(l,e){const t=Ur.dereference(l,"overrides");Y(typeof t=="object","invalid overrides parameter","overrides",l);const a=ud(t);return Y(a.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to),Y(a.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data),a.from&&(a.from=a.from),a}async function NC(l,e,t){const a=gc(l,"resolveName"),u=ux(a)?a:null;return await Promise.all(e.map((x,p)=>x.walkAsync(t[p],(E,w)=>(w=Ur.dereference(w,E),E==="address"?cr(w,u):w))))}function vC(l){const e=async function(p){const E=await r6(p,["data"]);E.to=await l.getAddress(),E.from&&(E.from=await cr(E.from,n6(l.runner)));const w=l.interface,y=je(E.value||b8,"overrides.value")===b8,T=(E.data||"0x")==="0x";w.fallback&&!w.fallback.payable&&w.receive&&!T&&!y&&Y(!1,"cannot send data to receive or send value to non-payable fallback","overrides",p),Y(w.fallback||T,"cannot send data to receive-only contract","overrides.data",E.data);const N=w.receive||w.fallback&&w.fallback.payable;return Y(N||y,"cannot send value to non-payable fallback","overrides.value",E.value),Y(w.fallback||T,"cannot send data to receive-only contract","overrides.data",E.data),E},t=async function(p){const E=gc(l.runner,"call");we($w(E),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const w=await e(p);try{return await E.call(w)}catch(y){throw Mm(y)&&y.data?l.interface.makeError(y.data,w):y}},a=async function(p){const E=l.runner;we(t6(E),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const w=await E.sendTransaction(await e(p)),y=zo(l.runner);return new qm(l.interface,y,w)},u=async function(p){const E=gc(l.runner,"estimateGas");return we(e6(E),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await E.estimateGas(await e(p))},x=async p=>await a(p);return Ze(x,{_contract:l,estimateGas:u,populateTransaction:e,send:a,staticCall:t}),x}function RC(l,e){const t=function(...y){const T=l.interface.getFunction(e,y);return we(T,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:y}}),T},a=async function(...y){const T=t(...y);let N={};if(T.inputs.length+1===y.length&&(N=await r6(y.pop()),N.from&&(N.from=await cr(N.from,n6(l.runner)))),T.inputs.length!==y.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const D=await NC(l.runner,T.inputs,y);return Object.assign({},N,await Lr({to:l.getAddress(),data:l.interface.encodeFunctionData(T,D)}))},u=async function(...y){const T=await E(...y);return T.length===1?T[0]:T},x=async function(...y){const T=l.runner;we(t6(T),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const N=await T.sendTransaction(await a(...y)),D=zo(l.runner);return new qm(l.interface,D,N)},p=async function(...y){const T=gc(l.runner,"estimateGas");return we(e6(T),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await T.estimateGas(await a(...y))},E=async function(...y){const T=gc(l.runner,"call");we($w(T),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const N=await a(...y);let D="0x";try{D=await T.call(N)}catch(P){throw Mm(P)&&P.data?l.interface.makeError(P.data,N):P}const L=t(...y);return l.interface.decodeFunctionResult(L,D)},w=async(...y)=>t(...y).constant?await u(...y):await x(...y);return Ze(w,{name:l.interface.getFunctionName(e),_contract:l,_key:e,getFragment:t,estimateGas:p,populateTransaction:a,send:x,staticCall:u,staticCallResult:E}),Object.defineProperty(w,"fragment",{configurable:!1,enumerable:!0,get:()=>{const y=l.interface.getFunction(e);return we(y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),y}}),w}function OC(l,e){const t=function(...u){const x=l.interface.getEvent(e,u);return we(x,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),x},a=function(...u){return new TC(l,t(...u),u)};return Ze(a,{name:l.interface.getEventName(e),_contract:l,_key:e,getFragment:t}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=l.interface.getEvent(e);return we(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),a}const Mh=Symbol.for("_ethersInternal_contract"),i6=new WeakMap;function IC(l,e){i6.set(l[Mh],e)}function bi(l){return i6.get(l[Mh])}function BC(l){return l&&typeof l=="object"&&"getTopicFilter"in l&&typeof l.getTopicFilter=="function"&&l.fragment}async function Jm(l,e){let t,a=null;if(Array.isArray(e)){const x=function(p){if(on(p,32))return p;const E=l.interface.getEvent(p);return Y(E,"unknown fragment","name",p),E.topicHash};t=e.map(p=>p==null?null:Array.isArray(p)?p.map(x):x(p))}else e==="*"?t=[null]:typeof e=="string"?on(e,32)?t=[e]:(a=l.interface.getEvent(e),Y(a,"unknown fragment","event",e),t=[a.topicHash]):BC(e)?t=await e.getTopicFilter():"fragment"in e?(a=e.fragment,t=[a.topicHash]):Y(!1,"unknown event name","event",e);t=t.map(x=>{if(x==null)return null;if(Array.isArray(x)){const p=Array.from(new Set(x.map(E=>E.toLowerCase())).values());return p.length===1?p[0]:(p.sort(),p)}return x.toLowerCase()});const u=t.map(x=>x==null?"null":Array.isArray(x)?x.join("|"):x).join("&");return{fragment:a,tag:u,topics:t}}async function Vf(l,e){const{subs:t}=bi(l);return t.get((await Jm(l,e)).tag)||null}async function y8(l,e,t){const a=zo(l.runner);we(a,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:u,tag:x,topics:p}=await Jm(l,t),{addr:E,subs:w}=bi(l);let y=w.get(x);if(!y){const N={address:E||l,topics:p},D=j=>{let ee=u;if(ee==null)try{ee=l.interface.getEvent(j.topics[0])}catch{}if(ee){const re=ee,Z=u?l.interface.decodeEventLog(u,j.data,j.topics):[];fm(l,t,Z,ie=>new SC(l,ie,t,re,j))}else fm(l,t,[],re=>new Jw(l,re,t,j))};let L=[];y={tag:x,listeners:[],start:()=>{L.length||L.push(a.on(N,D))},stop:async()=>{if(L.length==0)return;let j=L;L=[],await Promise.all(j),a.off(N,D)}},w.set(x,y)}return y}let um=Promise.resolve();async function DC(l,e,t,a){await um;const u=await Vf(l,e);if(!u)return!1;const x=u.listeners.length;return u.listeners=u.listeners.filter(({listener:p,once:E})=>{const w=Array.from(t);a&&w.push(a(E?null:p));try{p.call(l,...w)}catch{}return!E}),u.listeners.length===0&&(u.stop(),bi(l).subs.delete(u.tag)),x>0}async function fm(l,e,t,a){try{await um}catch{}const u=DC(l,e,t,a);return um=u,await u}const ah=["then"];var K8;K8=Mh;const $f=class $f{constructor(e,t,a,u){te(this,"target");te(this,"interface");te(this,"runner");te(this,"filters");te(this,K8);te(this,"fallback");Y(typeof e=="string"||cw(e),"invalid value for Contract target","target",e),a==null&&(a=null);const x=cm.from(t);Ze(this,{target:e,runner:a,interface:x}),Object.defineProperty(this,Mh,{value:{}});let p,E=null,w=null;if(u){const N=zo(a);w=new qm(this.interface,N,u)}let y=new Map;if(typeof e=="string")if(on(e))E=e,p=Promise.resolve(e);else{const N=gc(a,"resolveName");if(!ux(N))throw yn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});p=N.resolveName(e).then(D=>{if(D==null)throw yn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return bi(this).addr=D,D})}else p=e.getAddress().then(N=>{if(N==null)throw new Error("TODO");return bi(this).addr=N,N});IC(this,{addrPromise:p,addr:E,deployTx:w,subs:y});const T=new Proxy({},{get:(N,D,L)=>{if(typeof D=="symbol"||ah.indexOf(D)>=0)return Reflect.get(N,D,L);try{return this.getEvent(D)}catch(P){if(!wr(P,"INVALID_ARGUMENT")||P.argument!=="key")throw P}},has:(N,D)=>ah.indexOf(D)>=0?Reflect.has(N,D):Reflect.has(N,D)||this.interface.hasEvent(String(D))});return Ze(this,{filters:T}),Ze(this,{fallback:x.receive||x.fallback?vC(this):null}),new Proxy(this,{get:(N,D,L)=>{if(typeof D=="symbol"||D in N||ah.indexOf(D)>=0)return Reflect.get(N,D,L);try{return N.getFunction(D)}catch(P){if(!wr(P,"INVALID_ARGUMENT")||P.argument!=="key")throw P}},has:(N,D)=>typeof D=="symbol"||D in N||ah.indexOf(D)>=0?Reflect.has(N,D):N.interface.hasFunction(D)})}connect(e){return new $f(this.target,this.interface,e)}attach(e){return new $f(e,this.interface,this.runner)}async getAddress(){return await bi(this).addrPromise}async getDeployedCode(){const e=zo(this.runner);we(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const a=zo(this.runner);return we(a!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((u,x)=>{const p=async()=>{try{if(await this.getDeployedCode()!=null)return u(this);a.once("block",p)}catch(E){x(E)}};p()})}deploymentTransaction(){return bi(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),RC(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),OC(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,a){t==null&&(t=0),a==null&&(a="latest");const{addr:u,addrPromise:x}=bi(this),p=u||await x,{fragment:E,topics:w}=await Jm(this,e),y={address:p,topics:w,fromBlock:t,toBlock:a},T=zo(this.runner);return we(T,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await T.getLogs(y)).map(N=>{let D=E;if(D==null)try{D=this.interface.getEvent(N.topics[0])}catch{}if(D)try{return new Wm(N,this.interface,D)}catch(L){return new qw(N,L)}return new _d(N,T)})}async on(e,t){const a=await y8(this,"on",e);return a.listeners.push({listener:t,once:!1}),a.start(),this}async once(e,t){const a=await y8(this,"once",e);return a.listeners.push({listener:t,once:!0}),a.start(),this}async emit(e,...t){return await fm(this,e,t,null)}async listenerCount(e){if(e){const u=await Vf(this,e);return u?u.listeners.length:0}const{subs:t}=bi(this);let a=0;for(const{listeners:u}of t.values())a+=u.length;return a}async listeners(e){if(e){const u=await Vf(this,e);return u?u.listeners.map(({listener:x})=>x):[]}const{subs:t}=bi(this);let a=[];for(const{listeners:u}of t.values())a=a.concat(u.map(({listener:x})=>x));return a}async off(e,t){const a=await Vf(this,e);if(!a)return this;if(t){const u=a.listeners.map(({listener:x})=>x).indexOf(t);u>=0&&a.listeners.splice(u,1)}return(t==null||a.listeners.length===0)&&(a.stop(),bi(this).subs.delete(a.tag)),this}async removeAllListeners(e){if(e){const t=await Vf(this,e);if(!t)return this;t.stop(),bi(this).subs.delete(t.tag)}else{const{subs:t}=bi(this);for(const{tag:a,stop:u}of t.values())u(),t.delete(a)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends $f{constructor(u,x=null){super(u,e,x)}}return t}static from(e,t,a){return a==null&&(a=null),new this(e,t,a)}};let dm=$f;function MC(){return dm}class Ga extends MC(){}function vg(l){return l.match(/^ipfs:\/\/ipfs\//i)?l=l.substring(12):l.match(/^ipfs:\/\//i)?l=l.substring(7):Y(!1,"unsupported IPFS format","link",l),`https://gateway.ipfs.io/ipfs/${l}`}class _C{constructor(e){te(this,"name");Ze(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const s6=new RegExp("^(ipfs)://(.*)$","i"),w8=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),s6,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Gl,tc,zl,p0,Kh,a6;const C0=class C0{constructor(e,t,a){xe(this,zl);te(this,"provider");te(this,"address");te(this,"name");xe(this,Gl);xe(this,tc);Ze(this,{provider:e,address:t,name:a}),z(this,Gl,null),z(this,tc,new Ga(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return I(this,Gl)==null&&z(this,Gl,(async()=>{try{return await I(this,tc).supportsInterface("0x9061b923")}catch(e){if(wr(e,"CALL_EXCEPTION"))return!1;throw z(this,Gl,null),e}})()),await I(this,Gl)}async getAddress(e){if(e==null&&(e=60),e===60)try{const x=await Te(this,zl,p0).call(this,"addr(bytes32)");return x==null||x===nd?null:x}catch(x){if(wr(x,"CALL_EXCEPTION"))return null;throw x}if(e>=0&&e<2147483648){let x=e+2147483648;const p=await Te(this,zl,p0).call(this,"addr(bytes32,uint)",[x]);if(on(p,20))return Rt(p)}let t=null;for(const x of this.provider.plugins)if(x instanceof _C&&x.supportsCoinType(e)){t=x;break}if(t==null)return null;const a=await Te(this,zl,p0).call(this,"addr(bytes32,uint)",[e]);if(a==null||a==="0x")return null;const u=await t.decodeAddress(e,a);if(u!=null)return u;we(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:a}})}async getText(e){const t=await Te(this,zl,p0).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await Te(this,zl,p0).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const u=t[1]==="e3010170"?"ipfs":"ipns",x=parseInt(t[4],16);if(t[5].length===x*2)return`${u}://${n4("0x"+t[2])}`}const a=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&a[1].length===64)return`bzz://${a[1]}`;we(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let a=0;a<w8.length;a++){const u=t.match(w8[a]);if(u==null)continue;const x=u[1].toLowerCase();switch(x){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const p=vg(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:p}),{linkage:e,url:p}}case"erc721":case"erc1155":{const p=x==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:x,value:t});const E=await this.getAddress();if(E==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const w=(u[2]||"").split("/");if(w.length!==2)return e.push({type:`!${x}caip`,value:u[2]||""}),{url:null,linkage:e};const y=w[1],T=new Ga(w[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(x==="erc721"){const k=await T.ownerOf(y);if(E!==k)return e.push({type:"!owner",value:k}),{url:null,linkage:e};e.push({type:"owner",value:k})}else if(x==="erc1155"){const k=await T.balanceOf(E,y);if(!k)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:k.toString()})}let N=await T[p](y);if(N==null||N==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:N}),x==="erc1155"&&(N=N.replace("{id}",Va(y,32).substring(2)),e.push({type:"metadata-url-expanded",value:N})),N.match(/^ipfs:/i)&&(N=vg(N)),e.push({type:"metadata-url",value:N});let D={};const L=await new ja(N).send();L.assertOk();try{D=L.bodyJson}catch{try{e.push({type:"!metadata",value:L.bodyText})}catch{const ee=L.body;return ee&&e.push({type:"!metadata",value:Be(ee)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!D)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(D)});let P=D.image;if(typeof P!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(s6)==null)return e.push({type:"!imageUrl-ipfs",value:P}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:P}),P=vg(P)}return e.push({type:"url",value:P}),{linkage:e,url:P}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),a=t.getPlugin("org.ethers.plugins.network.Ens");return we(a,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),a.address}static async fromName(e,t){var u;let a=t;for(;;){if(a===""||a==="."||t!=="eth"&&a==="eth")return null;const x=await Te(u=C0,Kh,a6).call(u,e,a);if(x!=null){const p=new C0(e,x,t);return a!==t&&!await p.supportsWildcard()?null:p}a=a.split(".").slice(1).join(".")}}};Gl=new WeakMap,tc=new WeakMap,zl=new WeakSet,p0=async function(e,t){t=(t||[]).slice();const a=I(this,tc).interface;t.unshift(lm(this.name));let u=null;await this.supportsWildcard()&&(u=a.getFunction(e),we(u,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[K9(this.name,255),a.encodeFunctionData(u,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const x=await I(this,tc)[e](...t);return u?a.decodeFunctionResult(u,x)[0]:x}catch(x){if(!wr(x,"CALL_EXCEPTION"))throw x}return null},Kh=new WeakSet,a6=async function(e,t){const a=await C0.getEnsAddress(e);try{const x=await new Ga(a,["function resolver(bytes32) view returns (address)"],e).resolver(lm(t),{enableCcipRead:!0});return x===nd?null:x}catch(u){throw u}return null},xe(C0,Kh);let _h=C0;const A8=BigInt(0);function Nt(l,e){return function(t){return t==null?e:l(t)}}function dd(l,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(a=>l(a))}}function Ld(l,e){return t=>{const a={};for(const u in l){let x=u;if(e&&u in e&&!(x in t)){for(const p of e[u])if(p in t){x=p;break}}try{const p=l[u](t[x]);p!==void 0&&(a[u]=p)}catch(p){const E=p instanceof Error?p.message:"not-an-error";we(!1,`invalid value for value.${u} (${E})`,"BAD_DATA",{value:t})}}return a}}function LC(l){switch(l){case!0:case"true":return!0;case!1:case"false":return!1}Y(!1,`invalid boolean; ${JSON.stringify(l)}`,"value",l)}function Ru(l){return Y(on(l,!0),"invalid data","value",l),l}function yr(l){return Y(on(l,32),"invalid hash","value",l),l}const UC=Ld({address:Rt,blockHash:yr,blockNumber:ut,data:Ru,index:ut,removed:Nt(LC,!1),topics:dd(yr),transactionHash:yr,transactionIndex:ut},{index:["logIndex"]});function kC(l){return UC(l)}const PC=Ld({hash:Nt(yr),parentHash:yr,parentBeaconBlockRoot:Nt(yr,null),number:ut,timestamp:ut,nonce:Nt(Ru),difficulty:je,gasLimit:je,gasUsed:je,stateRoot:Nt(yr,null),receiptsRoot:Nt(yr,null),blobGasUsed:Nt(je,null),excessBlobGas:Nt(je,null),miner:Nt(Rt),prevRandao:Nt(yr,null),extraData:Ru,baseFeePerGas:Nt(je)},{prevRandao:["mixHash"]});function FC(l){const e=PC(l);return e.transactions=l.transactions.map(t=>typeof t=="string"?t:l6(t)),e}const HC=Ld({transactionIndex:ut,blockNumber:ut,transactionHash:yr,address:Rt,topics:dd(yr),data:Ru,index:ut,blockHash:yr},{index:["logIndex"]});function GC(l){return HC(l)}const zC=Ld({to:Nt(Rt,null),from:Nt(Rt,null),contractAddress:Nt(Rt,null),index:ut,root:Nt(Be),gasUsed:je,blobGasUsed:Nt(je,null),logsBloom:Nt(Ru),blockHash:yr,hash:yr,logs:dd(GC),blockNumber:ut,cumulativeGasUsed:je,effectiveGasPrice:Nt(je),blobGasPrice:Nt(je,null),status:Nt(ut),type:Nt(ut,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function VC(l){return zC(l)}function l6(l){l.to&&je(l.to)===A8&&(l.to="0x0000000000000000000000000000000000000000");const e=Ld({hash:yr,index:Nt(ut,void 0),type:t=>t==="0x"||t==null?0:ut(t),accessList:Nt(yc,null),blobVersionedHashes:Nt(dd(yr,!0),null),authorizationList:Nt(dd(t=>{let a;if(t.signature)a=t.signature;else{let u=t.yParity;u==="0x1b"?u=0:u==="0x1c"&&(u=1),a=Object.assign({},t,{yParity:u})}return{address:Rt(t.address),chainId:je(t.chainId),nonce:je(t.nonce),signature:ii.from(a)}},!1),null),blockHash:Nt(yr,null),blockNumber:Nt(ut,null),transactionIndex:Nt(ut,null),from:Rt,gasPrice:Nt(je),maxPriorityFeePerGas:Nt(je),maxFeePerGas:Nt(je),maxFeePerBlobGas:Nt(je,null),gasLimit:je,to:Nt(Rt,null),value:je,nonce:ut,data:Ru,creates:Nt(Rt,null),chainId:Nt(je,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(l);if(e.to==null&&e.creates==null&&(e.creates=I7(e)),(l.type===1||l.type===2)&&l.accessList==null&&(e.accessList=[]),l.signature?e.signature=ii.from(l.signature):e.signature=ii.from(l),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&je(e.blockHash)===A8&&(e.blockHash=null),e}const jC="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Ud{constructor(e){te(this,"name");Ze(this,{name:e})}clone(){return new Ud(this.name)}}class fx extends Ud{constructor(t,a){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);te(this,"effectiveBlock");te(this,"txBase");te(this,"txCreate");te(this,"txDataZero");te(this,"txDataNonzero");te(this,"txAccessListStorageKey");te(this,"txAccessListAddress");const u={effectiveBlock:t};function x(p,E){let w=(a||{})[p];w==null&&(w=E),Y(typeof w=="number",`invalud value for ${p}`,"costs",a),u[p]=w}x("txBase",21e3),x("txCreate",32e3),x("txDataZero",4),x("txDataNonzero",16),x("txAccessListStorageKey",1900),x("txAccessListAddress",2400),Ze(this,u)}clone(){return new fx(this.effectiveBlock,this)}}class dx extends Ud{constructor(t,a){super("org.ethers.plugins.network.Ens");te(this,"address");te(this,"targetNetwork");Ze(this,{address:t||jC,targetNetwork:a??1})}clone(){return new dx(this.address,this.targetNetwork)}}var Ed,Cd;class XC extends Ud{constructor(t,a){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");xe(this,Ed);xe(this,Cd);z(this,Ed,t),z(this,Cd,a)}get url(){return I(this,Ed)}get processFunc(){return I(this,Cd)}clone(){return this}}Ed=new WeakMap,Cd=new WeakMap;const Rg=new Map;var ru,iu,Vl;const S0=class S0{constructor(e,t){xe(this,ru);xe(this,iu);xe(this,Vl);z(this,ru,e),z(this,iu,je(t)),z(this,Vl,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return I(this,ru)}set name(e){z(this,ru,e)}get chainId(){return I(this,iu)}set chainId(e){z(this,iu,je(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===je(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===je(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===je(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(I(this,Vl).values())}attachPlugin(e){if(I(this,Vl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return I(this,Vl).set(e.name,e.clone()),this}getPlugin(e){return I(this,Vl).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new S0(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new fx;let a=t.txBase;if(e.to==null&&(a+=t.txCreate),e.data)for(let u=2;u<e.data.length;u+=2)e.data.substring(u,u+2)==="00"?a+=t.txDataZero:a+=t.txDataNonzero;if(e.accessList){const u=yc(e.accessList);for(const x in u)a+=t.txAccessListAddress+t.txAccessListStorageKey*u[x].storageKeys.length}return a}static from(e){if(YC(),e==null)return S0.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Rg.get(e);if(t)return t();if(typeof e=="bigint")return new S0("unknown",e);Y(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Y(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new S0(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new dx(e.ensAddress,e.ensNetwork)),t}Y(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const a=Rg.get(e);a&&Y(!1,`conflicting network for ${JSON.stringify(a.name)}`,"nameOrChainId",e),Rg.set(e,t)}};ru=new WeakMap,iu=new WeakMap,Vl=new WeakMap;let qs=S0;function E8(l,e){const t=String(l);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${l}`);const a=t.split(".");if(a.length===1&&a.push(""),a.length!==2)throw new Error(`invalid gwei value: ${l}`);for(;a[1].length<e;)a[1]+="0";if(a[1].length>9){let u=BigInt(a[1].substring(0,9));a[1].substring(9).match(/^0+$/)||u++,a[1]=u.toString()}return BigInt(a[0]+a[1])}function C8(l){return new XC(l,async(e,t,a)=>{a.setHeader("User-Agent","ethers");let u;try{const[x,p]=await Promise.all([a.send(),e()]);u=x;const E=u.bodyJson.standard;return{gasPrice:p.gasPrice,maxFeePerGas:E8(E.maxFee,9),maxPriorityFeePerGas:E8(E.maxPriorityFee,9)}}catch(x){we(!1,`error encountered with polygon gas station (${JSON.stringify(a.url)})`,"SERVER_ERROR",{request:a,response:u,error:x})}})}let S8=!1;function YC(){if(S8)return;S8=!0;function l(e,t,a){const u=function(){const x=new qs(e,t);return a.ensNetwork!=null&&x.attachPlugin(new dx(null,a.ensNetwork)),x.attachPlugin(new fx),(a.plugins||[]).forEach(p=>{x.attachPlugin(p)}),x};qs.register(e,u),qs.register(t,u),a.altNames&&a.altNames.forEach(x=>{qs.register(x,u)})}l("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),l("ropsten",3,{ensNetwork:3}),l("rinkeby",4,{ensNetwork:4}),l("goerli",5,{ensNetwork:5}),l("kovan",42,{ensNetwork:42}),l("sepolia",11155111,{ensNetwork:11155111}),l("holesky",17e3,{ensNetwork:17e3}),l("classic",61,{}),l("classicKotti",6,{}),l("arbitrum",42161,{ensNetwork:1}),l("arbitrum-goerli",421613,{}),l("arbitrum-sepolia",421614,{}),l("base",8453,{ensNetwork:1}),l("base-goerli",84531,{}),l("base-sepolia",84532,{}),l("bnb",56,{ensNetwork:1}),l("bnbt",97,{}),l("linea",59144,{ensNetwork:1}),l("linea-goerli",59140,{}),l("linea-sepolia",59141,{}),l("matic",137,{ensNetwork:1,plugins:[C8("https://gasstation.polygon.technology/v2")]}),l("matic-amoy",80002,{}),l("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[C8("https://gasstation-testnet.polygon.technology/v2")]}),l("optimism",10,{ensNetwork:1,plugins:[]}),l("optimism-goerli",420,{}),l("optimism-sepolia",11155420,{}),l("xdai",100,{ensNetwork:1})}function hm(l){return JSON.parse(JSON.stringify(l))}var Da,Hi,jl,Xs,su,bh;class QC{constructor(e){xe(this,su);xe(this,Da);xe(this,Hi);xe(this,jl);xe(this,Xs);z(this,Da,e),z(this,Hi,null),z(this,jl,4e3),z(this,Xs,-2)}get pollingInterval(){return I(this,jl)}set pollingInterval(e){z(this,jl,e)}start(){I(this,Hi)||(z(this,Hi,I(this,Da)._setTimeout(Te(this,su,bh).bind(this),I(this,jl))),Te(this,su,bh).call(this))}stop(){I(this,Hi)&&(I(this,Da)._clearTimeout(I(this,Hi)),z(this,Hi,null))}pause(e){this.stop(),e&&z(this,Xs,-2)}resume(){this.start()}}Da=new WeakMap,Hi=new WeakMap,jl=new WeakMap,Xs=new WeakMap,su=new WeakSet,bh=async function(){try{const e=await I(this,Da).getBlockNumber();if(I(this,Xs)===-2){z(this,Xs,e);return}if(e!==I(this,Xs)){for(let t=I(this,Xs)+1;t<=e;t++){if(I(this,Hi)==null)return;await I(this,Da).emit("block",t)}z(this,Xs,e)}}catch{}I(this,Hi)!=null&&z(this,Hi,I(this,Da)._setTimeout(Te(this,su,bh).bind(this),I(this,jl)))};var nc,rc,Xl;class $m{constructor(e){xe(this,nc);xe(this,rc);xe(this,Xl);z(this,nc,e),z(this,Xl,!1),z(this,rc,t=>{this._poll(t,I(this,nc))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){I(this,Xl)||(z(this,Xl,!0),I(this,rc).call(this,-2),I(this,nc).on("block",I(this,rc)))}stop(){I(this,Xl)&&(z(this,Xl,!1),I(this,nc).off("block",I(this,rc)))}pause(e){this.stop()}resume(){this.start()}}nc=new WeakMap,rc=new WeakMap,Xl=new WeakMap;var au,Ma;class KC extends $m{constructor(t,a){super(t);xe(this,au);xe(this,Ma);z(this,au,a),z(this,Ma,-2)}pause(t){t&&z(this,Ma,-2),super.pause(t)}async _poll(t,a){const u=await a.getBlock(I(this,au));u!=null&&(I(this,Ma)===-2?z(this,Ma,u.number):u.number>I(this,Ma)&&(a.emit(I(this,au),u.number),z(this,Ma,u.number)))}}au=new WeakMap,Ma=new WeakMap;var Zh;class ZC extends $m{constructor(t,a){super(t);xe(this,Zh);z(this,Zh,hm(a))}async _poll(t,a){throw new Error("@TODO")}}Zh=new WeakMap;var lu;class WC extends $m{constructor(t,a){super(t);xe(this,lu);z(this,lu,a)}async _poll(t,a){const u=await a.getTransactionReceipt(I(this,lu));u&&a.emit(I(this,lu),u)}}lu=new WeakMap;var _a,ou,cu,Yl,Gi,Wh,o6;class ep{constructor(e,t){xe(this,Wh);xe(this,_a);xe(this,ou);xe(this,cu);xe(this,Yl);xe(this,Gi);z(this,_a,e),z(this,ou,hm(t)),z(this,cu,Te(this,Wh,o6).bind(this)),z(this,Yl,!1),z(this,Gi,-2)}start(){I(this,Yl)||(z(this,Yl,!0),I(this,Gi)===-2&&I(this,_a).getBlockNumber().then(e=>{z(this,Gi,e)}),I(this,_a).on("block",I(this,cu)))}stop(){I(this,Yl)&&(z(this,Yl,!1),I(this,_a).off("block",I(this,cu)))}pause(e){this.stop(),e&&z(this,Gi,-2)}resume(){this.start()}}_a=new WeakMap,ou=new WeakMap,cu=new WeakMap,Yl=new WeakMap,Gi=new WeakMap,Wh=new WeakSet,o6=async function(e){if(I(this,Gi)===-2)return;const t=hm(I(this,ou));t.fromBlock=I(this,Gi)+1,t.toBlock=e;const a=await I(this,_a).getLogs(t);if(a.length===0){I(this,Gi)<e-60&&z(this,Gi,e-60);return}for(const u of a)I(this,_a).emit(I(this,ou),u),z(this,Gi,u.blockNumber)};const qC=BigInt(2),JC=10;function lh(l){return l&&typeof l.then=="function"}function yh(l,e){return l+":"+JSON.stringify(e,(t,a)=>{if(a==null)return"null";if(typeof a=="bigint")return`bigint:${a.toString()}`;if(typeof a=="string")return a.toLowerCase();if(typeof a=="object"&&!Array.isArray(a)){const u=Object.keys(a);return u.sort(),u.reduce((x,p)=>(x[p]=a[p],x),{})}return a})}class c6{constructor(e){te(this,"name");Ze(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function $C(l){return JSON.parse(JSON.stringify(l))}function xm(l){return l=Array.from(new Set(l).values()),l.sort(),l}async function Og(l,e){if(l==null)throw new Error("invalid event");if(Array.isArray(l)&&(l={topics:l}),typeof l=="string")switch(l){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:l,tag:l}}if(on(l,32)){const t=l.toLowerCase();return{type:"transaction",tag:yh("tx",{hash:t}),hash:t}}if(l.orphan){const t=l;return{type:"orphan",tag:yh("orphan",t),filter:$C(t)}}if(l.address||l.topics){const t=l,a={topics:(t.topics||[]).map(u=>u==null?null:Array.isArray(u)?xm(u.map(x=>x.toLowerCase())):u.toLowerCase())};if(t.address){const u=[],x=[],p=E=>{on(E)?u.push(E):x.push((async()=>{u.push(await cr(E,e))})())};Array.isArray(t.address)?t.address.forEach(p):p(t.address),x.length&&await Promise.all(x),a.address=xm(u.map(E=>E.toLowerCase()))}return{filter:a,tag:yh("event",a),type:"event"}}Y(!1,"unknown ProviderEvent","event",l)}function Ig(){return new Date().getTime()}const eS={cacheTimeout:250,pollingInterval:4e3};var Mr,Ql,_r,uu,Ei,ic,Kl,La,Sd,zi,fu,du,pt,mi,gm,mm,jf,pm,Xf,wh;class tS{constructor(e,t){xe(this,pt);xe(this,Mr);xe(this,Ql);xe(this,_r);xe(this,uu);xe(this,Ei);xe(this,ic);xe(this,Kl);xe(this,La);xe(this,Sd);xe(this,zi);xe(this,fu);xe(this,du);if(z(this,du,Object.assign({},eS,t||{})),e==="any")z(this,ic,!0),z(this,Ei,null);else if(e){const a=qs.from(e);z(this,ic,!1),z(this,Ei,Promise.resolve(a)),setTimeout(()=>{this.emit("network",a,null)},0)}else z(this,ic,!1),z(this,Ei,null);z(this,La,-1),z(this,Kl,new Map),z(this,Mr,new Map),z(this,Ql,new Map),z(this,_r,null),z(this,uu,!1),z(this,Sd,1),z(this,zi,new Map),z(this,fu,!1)}get pollingInterval(){return I(this,du).pollingInterval}get provider(){return this}get plugins(){return Array.from(I(this,Ql).values())}attachPlugin(e){if(I(this,Ql).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return I(this,Ql).set(e.name,e.connect(this)),this}getPlugin(e){return I(this,Ql).get(e)||null}get disableCcipRead(){return I(this,fu)}set disableCcipRead(e){z(this,fu,!!e)}async ccipReadFetch(e,t,a){if(this.disableCcipRead||a.length===0||e.to==null)return null;const u=e.to.toLowerCase(),x=t.toLowerCase(),p=[];for(let E=0;E<a.length;E++){const w=a[E],y=w.replace("{sender}",u).replace("{data}",x),T=new ja(y);w.indexOf("{data}")===-1&&(T.body={data:x,sender:u}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:T,index:E,urls:a});let N="unknown error",D;try{D=await T.send()}catch(L){p.push(L.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:T,result:{error:L}});continue}try{const L=D.bodyJson;if(L.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:T,result:L}),L.data;L.message&&(N=L.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:T,result:L})}catch{}we(D.statusCode<400||D.statusCode>=500,`response not found during CCIP fetch: ${N}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:w,errorMessage:N}}),p.push(N)}we(!1,`error encountered during CCIP fetch: ${p.map(E=>JSON.stringify(E)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:a,errorMessages:p}})}_wrapBlock(e,t){return new wC(FC(e),this)}_wrapLog(e,t){return new _d(kC(e),this)}_wrapTransactionReceipt(e,t){return new Kw(VC(e),this)}_wrapTransactionResponse(e,t){return new fd(l6(e),this)}_detectNetwork(){we(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){we(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ut(await Te(this,pt,mi).call(this,{method:"getBlockNumber"}),"%response");return I(this,La)>=0&&z(this,La,e),e}_getAddress(e){return cr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(on(e))return on(e,32)?e:fs(e);if(typeof e=="bigint"&&(e=ut(e,"blockTag")),typeof e=="number")return e>=0?fs(e):I(this,La)>=0?fs(I(this,La)+e):this.getBlockNumber().then(t=>fs(t+e));Y(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(w=>w==null?null:Array.isArray(w)?xm(w.map(y=>y.toLowerCase())):w.toLowerCase()),a="blockHash"in e?e.blockHash:void 0,u=(w,y,T)=>{let N;switch(w.length){case 0:break;case 1:N=w[0];break;default:w.sort(),N=w}if(a&&(y!=null||T!=null))throw new Error("invalid filter");const D={};return N&&(D.address=N),t.length&&(D.topics=t),y&&(D.fromBlock=y),T&&(D.toBlock=T),a&&(D.blockHash=a),D};let x=[];if(e.address)if(Array.isArray(e.address))for(const w of e.address)x.push(this._getAddress(w));else x.push(this._getAddress(e.address));let p;"fromBlock"in e&&(p=this._getBlockTag(e.fromBlock));let E;return"toBlock"in e&&(E=this._getBlockTag(e.toBlock)),x.filter(w=>typeof w!="string").length||p!=null&&typeof p!="string"||E!=null&&typeof E!="string"?Promise.all([Promise.all(x),p,E]).then(w=>u(w[0],w[1],w[2])):u(x,p,E)}_getTransactionRequest(e){const t=ud(e),a=[];if(["to","from"].forEach(u=>{if(t[u]==null)return;const x=cr(t[u],this);lh(x)?a.push(async function(){t[u]=await x}()):t[u]=x}),t.blockTag!=null){const u=this._getBlockTag(t.blockTag);lh(u)?a.push(async function(){t.blockTag=await u}()):t.blockTag=u}return a.length?async function(){return await Promise.all(a),t}():t}async getNetwork(){if(I(this,Ei)==null){const u=(async()=>{try{const x=await this._detectNetwork();return this.emit("network",x,null),x}catch(x){throw I(this,Ei)===u&&z(this,Ei,null),x}})();return z(this,Ei,u),(await u).clone()}const e=I(this,Ei),[t,a]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==a.chainId&&(I(this,ic)?(this.emit("network",a,t),I(this,Ei)===e&&z(this,Ei,Promise.resolve(a))):we(!1,`network changed: ${t.chainId} => ${a.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:u,gasPrice:x,priorityFee:p}=await Lr({_block:Te(this,pt,pm).call(this,"latest",!1),gasPrice:(async()=>{try{const T=await Te(this,pt,mi).call(this,{method:"getGasPrice"});return je(T,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const T=await Te(this,pt,mi).call(this,{method:"getPriorityFee"});return je(T,"%response")}catch{}return null})()});let E=null,w=null;const y=this._wrapBlock(u,e);return y&&y.baseFeePerGas&&(w=p??BigInt("1000000000"),E=y.baseFeePerGas*qC+w),new p8(x,E,w)},a=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(a){const u=new ja(a.url),x=await a.processFunc(t,this,u);return new p8(x.gasPrice,x.maxFeePerGas,x.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return lh(t)&&(t=await t),je(await Te(this,pt,mi).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:a}=await Lr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Te(this,pt,mm).call(this,Te(this,pt,gm).call(this,t,a,e.enableCcipRead?0:-1))}async getBalance(e,t){return je(await Te(this,pt,jf).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return ut(await Te(this,pt,jf).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Be(await Te(this,pt,jf).call(this,{method:"getCode"},e,t))}async getStorage(e,t,a){const u=je(t,"position");return Be(await Te(this,pt,jf).call(this,{method:"getStorage",position:u},e,a))}async broadcastTransaction(e){const{blockNumber:t,hash:a,network:u}=await Lr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),x=rd.from(e);if(x.hash!==a)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(x,u).replaceableTransaction(t)}async getBlock(e,t){const{network:a,params:u}=await Lr({network:this.getNetwork(),params:Te(this,pt,pm).call(this,e,!!t)});return u==null?null:this._wrapBlock(u,a)}async getTransaction(e){const{network:t,params:a}=await Lr({network:this.getNetwork(),params:Te(this,pt,mi).call(this,{method:"getTransaction",hash:e})});return a==null?null:this._wrapTransactionResponse(a,t)}async getTransactionReceipt(e){const{network:t,params:a}=await Lr({network:this.getNetwork(),params:Te(this,pt,mi).call(this,{method:"getTransactionReceipt",hash:e})});if(a==null)return null;if(a.gasPrice==null&&a.effectiveGasPrice==null){const u=await Te(this,pt,mi).call(this,{method:"getTransaction",hash:e});if(u==null)throw new Error("report this; could not find tx or effectiveGasPrice");a.effectiveGasPrice=u.gasPrice}return this._wrapTransactionReceipt(a,t)}async getTransactionResult(e){const{result:t}=await Lr({network:this.getNetwork(),result:Te(this,pt,mi).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:Be(t)}async getLogs(e){let t=this._getFilter(e);lh(t)&&(t=await t);const{network:a,params:u}=await Lr({network:this.getNetwork(),params:Te(this,pt,mi).call(this,{method:"getLogs",filter:t})});return u.map(x=>this._wrapLog(x,a))}_getProvider(e){we(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await _h.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Rt(e);const t=lm(e.substring(2).toLowerCase()+".addr.reverse");try{const a=await _h.getEnsAddress(this),x=await new Ga(a,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(x==null||x===nd)return null;const E=await new Ga(x,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(E)!==e?null:E}catch(a){if(wr(a,"BAD_DATA")&&a.value==="0x"||wr(a,"CALL_EXCEPTION"))return null;throw a}return null}async waitForTransaction(e,t,a){const u=t??1;return u===0?this.getTransactionReceipt(e):new Promise(async(x,p)=>{let E=null;const w=async y=>{try{const T=await this.getTransactionReceipt(e);if(T!=null&&y-T.blockNumber+1>=u){x(T),E&&(clearTimeout(E),E=null);return}}catch(T){console.log("EEE",T)}this.once("block",w)};a!=null&&(E=setTimeout(()=>{E!=null&&(E=null,this.off("block",w),p(yn("timeout","TIMEOUT",{reason:"timeout"})))},a)),w(await this.getBlockNumber())})}async waitForBlock(e){we(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=I(this,zi).get(e);t&&(t.timer&&clearTimeout(t.timer),I(this,zi).delete(e))}_setTimeout(e,t){t==null&&(t=0);const a=_f(this,Sd)._++,u=()=>{I(this,zi).delete(a),e()};if(this.paused)I(this,zi).set(a,{timer:null,func:u,time:t});else{const x=setTimeout(u,t);I(this,zi).set(a,{timer:x,func:u,time:Ig()})}return a}_forEachSubscriber(e){for(const t of I(this,Mr).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new c6(e.type);case"block":{const t=new QC(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new KC(this,e.type);case"event":return new ep(this,e.filter);case"transaction":return new WC(this,e.hash);case"orphan":return new ZC(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const a of I(this,Mr).values())if(a.subscriber===e){a.started&&a.subscriber.stop(),a.subscriber=t,a.started&&t.start(),I(this,_r)!=null&&t.pause(I(this,_r));break}}async on(e,t){const a=await Te(this,pt,wh).call(this,e);return a.listeners.push({listener:t,once:!1}),a.started||(a.subscriber.start(),a.started=!0,I(this,_r)!=null&&a.subscriber.pause(I(this,_r))),this}async once(e,t){const a=await Te(this,pt,wh).call(this,e);return a.listeners.push({listener:t,once:!0}),a.started||(a.subscriber.start(),a.started=!0,I(this,_r)!=null&&a.subscriber.pause(I(this,_r))),this}async emit(e,...t){const a=await Te(this,pt,Xf).call(this,e,t);if(!a||a.listeners.length===0)return!1;const u=a.listeners.length;return a.listeners=a.listeners.filter(({listener:x,once:p})=>{const E=new r4(this,p?null:x,e);try{x.call(this,...t,E)}catch{}return!p}),a.listeners.length===0&&(a.started&&a.subscriber.stop(),I(this,Mr).delete(a.tag)),u>0}async listenerCount(e){if(e){const a=await Te(this,pt,Xf).call(this,e);return a?a.listeners.length:0}let t=0;for(const{listeners:a}of I(this,Mr).values())t+=a.length;return t}async listeners(e){if(e){const a=await Te(this,pt,Xf).call(this,e);return a?a.listeners.map(({listener:u})=>u):[]}let t=[];for(const{listeners:a}of I(this,Mr).values())t=t.concat(a.map(({listener:u})=>u));return t}async off(e,t){const a=await Te(this,pt,Xf).call(this,e);if(!a)return this;if(t){const u=a.listeners.map(({listener:x})=>x).indexOf(t);u>=0&&a.listeners.splice(u,1)}return(!t||a.listeners.length===0)&&(a.started&&a.subscriber.stop(),I(this,Mr).delete(a.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:a,subscriber:u}=await Te(this,pt,wh).call(this,e);a&&u.stop(),I(this,Mr).delete(t)}else for(const[t,{started:a,subscriber:u}]of I(this,Mr))a&&u.stop(),I(this,Mr).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return I(this,uu)}destroy(){this.removeAllListeners();for(const e of I(this,zi).keys())this._clearTimeout(e);z(this,uu,!0)}get paused(){return I(this,_r)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(z(this,La,-1),I(this,_r)!=null){if(I(this,_r)==!!e)return;we(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),z(this,_r,!!e);for(const t of I(this,zi).values())t.timer&&clearTimeout(t.timer),t.time=Ig()-t.time}resume(){if(I(this,_r)!=null){this._forEachSubscriber(e=>e.resume()),z(this,_r,null);for(const e of I(this,zi).values()){let t=e.time;t<0&&(t=0),e.time=Ig(),setTimeout(e.func,t)}}}}Mr=new WeakMap,Ql=new WeakMap,_r=new WeakMap,uu=new WeakMap,Ei=new WeakMap,ic=new WeakMap,Kl=new WeakMap,La=new WeakMap,Sd=new WeakMap,zi=new WeakMap,fu=new WeakMap,du=new WeakMap,pt=new WeakSet,mi=async function(e){const t=I(this,du).cacheTimeout;if(t<0)return await this._perform(e);const a=yh(e.method,e);let u=I(this,Kl).get(a);return u||(u=this._perform(e),I(this,Kl).set(a,u),setTimeout(()=>{I(this,Kl).get(a)===u&&I(this,Kl).delete(a)},t)),await u},gm=async function(e,t,a){we(a<JC,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const u=ud(e);try{return Be(await this._perform({method:"call",transaction:u,blockTag:t}))}catch(x){if(!this.disableCcipRead&&Mm(x)&&x.data&&a>=0&&t==="latest"&&u.to!=null&&dn(x.data,0,4)==="0x556f1830"){const p=x.data,E=await cr(u.to,this);let w;try{w=aS(dn(x.data,4))}catch(N){we(!1,N.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:u,info:{data:p}})}we(w.sender.toLowerCase()===E.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:p,reason:"OffchainLookup",transaction:u,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:w.errorArgs}});const y=await this.ccipReadFetch(u,w.calldata,w.urls);we(y!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:u,info:{data:x.data,errorArgs:w.errorArgs}});const T={to:E,data:Ft([w.selector,sS([y,w.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:T});try{const N=await Te(this,pt,gm).call(this,T,t,a+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},T),result:N}),N}catch(N){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},T),error:N}),N}}throw x}},mm=async function(e){const{value:t}=await Lr({network:this.getNetwork(),value:e});return t},jf=async function(e,t,a){let u=this._getAddress(t),x=this._getBlockTag(a);return(typeof u!="string"||typeof x!="string")&&([u,x]=await Promise.all([u,x])),await Te(this,pt,mm).call(this,Te(this,pt,mi).call(this,Object.assign(e,{address:u,blockTag:x})))},pm=async function(e,t){if(on(e,32))return await Te(this,pt,mi).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let a=this._getBlockTag(e);return typeof a!="string"&&(a=await a),await Te(this,pt,mi).call(this,{method:"getBlock",blockTag:a,includeTransactions:t})},Xf=async function(e,t){let a=await Og(e,this);return a.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(a=await Og({orphan:"drop-log",log:t[0]},this)),I(this,Mr).get(a.tag)||null},wh=async function(e){const t=await Og(e,this),a=t.tag;let u=I(this,Mr).get(a);return u||(u={subscriber:this._getSubscriber(t),tag:a,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},I(this,Mr).set(a,u)),u};function nS(l,e){try{const t=bm(l,e);if(t)return Nh(t)}catch{}return null}function bm(l,e){if(l==="0x")return null;try{const t=ut(dn(l,e,e+32)),a=ut(dn(l,t,t+32));return dn(l,t+32,t+32+a)}catch{}return null}function T8(l){const e=In(l);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function rS(l){if(l.length%32===0)return l;const e=new Uint8Array(Math.ceil(l.length/32)*32);return e.set(l),e}const iS=new Uint8Array([]);function sS(l){const e=[];let t=0;for(let a=0;a<l.length;a++)e.push(iS),t+=32;for(let a=0;a<l.length;a++){const u=ze(l[a]);e[a]=T8(t),e.push(T8(u.length)),e.push(rS(u)),t+=32+Math.ceil(u.length/32)*32}return Ft(e)}const N8="0x0000000000000000000000000000000000000000000000000000000000000000";function aS(l){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};we(T0(l)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=dn(l,0,32);we(dn(t,0,12)===dn(N8,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=dn(t,12);try{const a=[],u=ut(dn(l,32,64)),x=ut(dn(l,u,u+32)),p=dn(l,u+32);for(let E=0;E<x;E++){const w=nS(p,E*32);if(w==null)throw new Error("abort");a.push(w)}e.urls=a}catch{we(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const a=bm(l,64);if(a==null)throw new Error("abort");e.calldata=a}catch{we(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}we(dn(l,100,128)===dn(N8,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=dn(l,96,100);try{const a=bm(l,128);if(a==null)throw new Error("abort");e.extraData=a}catch{we(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(a=>e[a]),e}function Io(l,e){if(l.provider)return l.provider;we(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function v8(l,e){let t=ud(e);if(t.to!=null&&(t.to=cr(t.to,l)),t.from!=null){const a=t.from;t.from=Promise.all([l.getAddress(),cr(a,l)]).then(([u,x])=>(Y(u.toLowerCase()===x.toLowerCase(),"transaction from mismatch","tx.from",x),u))}else t.from=l.getAddress();return await Lr(t)}class tp{constructor(e){te(this,"provider");Ze(this,{provider:e||null})}async getNonce(e){return Io(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await v8(this,e)}async populateTransaction(e){const t=Io(this,"populateTransaction"),a=await v8(this,e);a.nonce==null&&(a.nonce=await this.getNonce("pending")),a.gasLimit==null&&(a.gasLimit=await this.estimateGas(a));const u=await this.provider.getNetwork();if(a.chainId!=null){const p=je(a.chainId);Y(p===u.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else a.chainId=u.chainId;const x=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||x)?Y(!1,"eip-1559 transaction do not support gasPrice","tx",e):(a.type===0||a.type===1)&&x&&Y(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1){const p=await t.getFeeData();we(p.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),a.gasPrice==null&&(a.gasPrice=p.gasPrice)}else{const p=await t.getFeeData();if(a.type==null)if(p.maxFeePerGas!=null&&p.maxPriorityFeePerGas!=null)if(a.authorizationList&&a.authorizationList.length?a.type=4:a.type=2,a.gasPrice!=null){const E=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=E,a.maxPriorityFeePerGas=E}else a.maxFeePerGas==null&&(a.maxFeePerGas=p.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=p.maxPriorityFeePerGas);else p.gasPrice!=null?(we(!x,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=p.gasPrice),a.type=0):we(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(a.type===2||a.type===3||a.type===4)&&(a.maxFeePerGas==null&&(a.maxFeePerGas=p.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=p.maxPriorityFeePerGas))}return await Lr(a)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Io(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Io(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Io(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Io(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Io(this,"sendTransaction"),a=await this.populateTransaction(e);delete a.from;const u=rd.from(a);return await t.broadcastTransaction(await this.signTransaction(u))}authorize(e){we(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var hu,Ah;const cp=class cp extends tp{constructor(t,a){super(a);xe(this,hu);te(this,"address");Ze(this,{address:t})}async getAddress(){return this.address}connect(t){return new cp(this.address,t)}async signTransaction(t){Te(this,hu,Ah).call(this,"transactions","signTransaction")}async signMessage(t){Te(this,hu,Ah).call(this,"messages","signMessage")}async signTypedData(t,a,u){Te(this,hu,Ah).call(this,"typed-data","signTypedData")}};hu=new WeakSet,Ah=function(t,a){we(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:a})};let ym=cp;function lS(l){return JSON.parse(JSON.stringify(l))}var Vr,Ys,sc,Zl,ac,xu,Jl,wm,Am;class u6{constructor(e){xe(this,Jl);xe(this,Vr);xe(this,Ys);xe(this,sc);xe(this,Zl);xe(this,ac);xe(this,xu);z(this,Vr,e),z(this,Ys,null),z(this,sc,Te(this,Jl,wm).bind(this)),z(this,Zl,!1),z(this,ac,null),z(this,xu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){I(this,Zl)||(z(this,Zl,!0),Te(this,Jl,wm).call(this,-2))}stop(){I(this,Zl)&&(z(this,Zl,!1),z(this,xu,!0),Te(this,Jl,Am).call(this),I(this,Vr).off("block",I(this,sc)))}pause(e){e&&Te(this,Jl,Am).call(this),I(this,Vr).off("block",I(this,sc))}resume(){this.start()}}Vr=new WeakMap,Ys=new WeakMap,sc=new WeakMap,Zl=new WeakMap,ac=new WeakMap,xu=new WeakMap,Jl=new WeakSet,wm=async function(e){try{I(this,Ys)==null&&z(this,Ys,this._subscribe(I(this,Vr)));let t=null;try{t=await I(this,Ys)}catch(x){if(!wr(x,"UNSUPPORTED_OPERATION")||x.operation!=="eth_newFilter")throw x}if(t==null){z(this,Ys,null),I(this,Vr)._recoverSubscriber(this,this._recover(I(this,Vr)));return}const a=await I(this,Vr).getNetwork();if(I(this,ac)||z(this,ac,a),I(this,ac).chainId!==a.chainId)throw new Error("chaid changed");if(I(this,xu))return;const u=await I(this,Vr).send("eth_getFilterChanges",[t]);await this._emitResults(I(this,Vr),u)}catch(t){console.log("@TODO",t)}I(this,Vr).once("block",I(this,sc))},Am=function(){const e=I(this,Ys);e&&(z(this,Ys,null),e.then(t=>{I(this,Vr).destroyed||I(this,Vr).send("eth_uninstallFilter",[t])}))};var lc;class oS extends u6{constructor(t,a){super(t);xe(this,lc);z(this,lc,lS(a))}_recover(t){return new ep(t,I(this,lc))}async _subscribe(t){return await t.send("eth_newFilter",[I(this,lc)])}async _emitResults(t,a){for(const u of a)t.emit(I(this,lc),t._wrapLog(u,t._network))}}lc=new WeakMap;class cS extends u6{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const a of t)e.emit("pending",a)}}const uS="bigint,boolean,function,number,string,symbol".split(/,/g);function Eh(l){if(l==null||uS.indexOf(typeof l)>=0||typeof l.getAddress=="function")return l;if(Array.isArray(l))return l.map(Eh);if(typeof l=="object")return Object.keys(l).reduce((e,t)=>(e[t]=l[t],e),{});throw new Error(`should not happen: ${l} (${typeof l})`)}function fS(l){return new Promise(e=>{setTimeout(e,l)})}function f0(l){return l&&l.toLowerCase()}function R8(l){return l&&typeof l.pollingInterval=="number"}const f6={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Bg extends tp{constructor(t,a){super(t);te(this,"address");a=Rt(a),Ze(this,{address:a})}connect(t){we(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const a=Eh(t),u=[];if(a.from){const p=a.from;u.push((async()=>{const E=await cr(p,this.provider);Y(E!=null&&E.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),a.from=E})())}else a.from=this.address;if(a.gasLimit==null&&u.push((async()=>{a.gasLimit=await this.provider.estimateGas({...a,from:this.address})})()),a.to!=null){const p=a.to;u.push((async()=>{a.to=await cr(p,this.provider)})())}u.length&&await Promise.all(u);const x=this.provider.getRpcTransaction(a);return this.provider.send("eth_sendTransaction",[x])}async sendTransaction(t){const a=await this.provider.getBlockNumber(),u=await this.sendUncheckedTransaction(t);return await new Promise((x,p)=>{const E=[1e3,100];let w=0;const y=async()=>{try{const T=await this.provider.getTransaction(u);if(T!=null){x(T.replaceableTransaction(a));return}}catch(T){if(wr(T,"CANCELLED")||wr(T,"BAD_DATA")||wr(T,"NETWORK_ERROR")||wr(T,"UNSUPPORTED_OPERATION")){T.info==null&&(T.info={}),T.info.sendTransactionHash=u,p(T);return}if(wr(T,"INVALID_ARGUMENT")&&(w++,T.info==null&&(T.info={}),T.info.sendTransactionHash=u,w>10)){p(T);return}this.provider.emit("error",yn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:T}))}this.provider._setTimeout(()=>{y()},E.pop()||4e3)};y()})}async signTransaction(t){const a=Eh(t);if(a.from){const x=await cr(a.from,this.provider);Y(x!=null&&x.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),a.from=x}else a.from=this.address;const u=this.provider.getRpcTransaction(a);return await this.provider.send("eth_signTransaction",[u])}async signMessage(t){const a=typeof t=="string"?Yr(t):t;return await this.provider.send("personal_sign",[Be(a),this.address.toLowerCase()])}async signTypedData(t,a,u){const x=Eh(u),p=await vu.resolveNames(t,a,x,async E=>{const w=await cr(E);return Y(w!=null,"TypedData does not support null address","value",E),w});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(vu.getPayload(p.domain,a,p.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const a=typeof t=="string"?Yr(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Be(a)])}}var oc,gu,Ua,Qs,us,Vi,ti,Td,Em;class dS extends tS{constructor(t,a){super(t,a);xe(this,Td);xe(this,oc);xe(this,gu);xe(this,Ua);xe(this,Qs);xe(this,us);xe(this,Vi);xe(this,ti);z(this,gu,1),z(this,oc,Object.assign({},f6,a||{})),z(this,Ua,[]),z(this,Qs,null),z(this,Vi,null),z(this,ti,null);{let x=null;const p=new Promise(E=>{x=E});z(this,us,{promise:p,resolve:x})}const u=this._getOption("staticNetwork");typeof u=="boolean"?(Y(!u||t!=="any","staticNetwork cannot be used on special network 'any'","options",a),u&&t!=null&&z(this,Vi,qs.from(t))):u&&(Y(t==null||u.matches(t),"staticNetwork MUST match network object","options",a),z(this,Vi,u))}_getOption(t){return I(this,oc)[t]}get _network(){return we(I(this,Vi),"network is not available yet","NETWORK_ERROR"),I(this,Vi)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let u=t.transaction;if(u&&u.type!=null&&je(u.type)&&u.maxFeePerGas==null&&u.maxPriorityFeePerGas==null){const x=await this.getFeeData();x.maxFeePerGas==null&&x.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},u,{type:void 0})}))}}const a=this.getRpcRequest(t);return a!=null?await this.send(a.method,a.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(I(this,Vi))return I(this,Vi)}else return t;return I(this,ti)?await I(this,ti):this.ready?(z(this,ti,(async()=>{try{const a=qs.from(je(await this.send("eth_chainId",[])));return z(this,ti,null),a}catch(a){throw z(this,ti,null),a}})()),await I(this,ti)):(z(this,ti,(async()=>{const a={id:_f(this,gu)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:a});let u;try{u=(await this._send(a))[0],z(this,ti,null)}catch(x){throw z(this,ti,null),this.emit("debug",{action:"receiveRpcError",error:x}),x}if(this.emit("debug",{action:"receiveRpcResult",result:u}),"result"in u)return qs.from(je(u.result));throw this.getRpcError(a,u)})()),await I(this,ti))}_start(){I(this,us)==null||I(this,us).resolve==null||(I(this,us).resolve(),z(this,us,null),(async()=>{for(;I(this,Vi)==null&&!this.destroyed;)try{z(this,Vi,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",yn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await fS(1e3)}Te(this,Td,Em).call(this)})())}async _waitUntilReady(){if(I(this,us)!=null)return await I(this,us).promise}_getSubscriber(t){return t.type==="pending"?new cS(this):t.type==="event"?this._getOption("polling")?new ep(this,t.filter):new oS(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new c6("orphan"):super._getSubscriber(t)}get ready(){return I(this,us)==null}getRpcTransaction(t){const a={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(u=>{if(t[u]==null)return;let x=u;u==="gasLimit"&&(x="gas"),a[x]=fs(je(t[u],`tx.${u}`))}),["from","to","data"].forEach(u=>{t[u]!=null&&(a[u]=Be(t[u]))}),t.accessList&&(a.accessList=yc(t.accessList)),t.blobVersionedHashes&&(a.blobVersionedHashes=t.blobVersionedHashes.map(u=>u.toLowerCase())),t.authorizationList&&(a.authorizationList=t.authorizationList.map(u=>{const x=hw(u);return{address:x.address,nonce:fs(x.nonce),chainId:fs(x.chainId),yParity:fs(x.signature.yParity),r:fs(x.signature.r),s:fs(x.signature.s)}})),a}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[f0(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[f0(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[f0(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[f0(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(f0):t.filter.address=f0(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,a){const{method:u}=t,{error:x}=a;if(u==="eth_estimateGas"&&x.message){const w=x.message;if(!w.match(/revert/i)&&w.match(/insufficient funds/i))return yn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:x}});if(w.match(/nonce/i)&&w.match(/too low/i))return yn("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:x}})}if(u==="eth_call"||u==="eth_estimateGas"){const w=Cm(x),y=cd.getBuiltinCallException(u==="eth_call"?"call":"estimateGas",t.params[0],w?w.data:null);return y.info={error:x,payload:t},y}const p=JSON.stringify(xS(x));if(typeof x.message=="string"&&x.message.match(/user denied|ethers-user-denied/i))return yn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[u]||"unknown",reason:"rejected",info:{payload:t,error:x}});if(u==="eth_sendRawTransaction"||u==="eth_sendTransaction"){const w=t.params[0];if(p.match(/insufficient funds|base fee exceeds gas limit/i))return yn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:w,info:{error:x}});if(p.match(/nonce/i)&&p.match(/too low/i))return yn("nonce has already been used","NONCE_EXPIRED",{transaction:w,info:{error:x}});if(p.match(/replacement transaction/i)&&p.match(/underpriced/i))return yn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:w,info:{error:x}});if(p.match(/only replay-protected/i))return yn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:u,info:{transaction:w,info:{error:x}}})}let E=!!p.match(/the method .* does not exist/i);return E||x&&x.details&&x.details.startsWith("Unauthorized method:")&&(E=!0),E?yn("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:x,payload:t}}):yn("could not coalesce error","UNKNOWN_ERROR",{error:x,payload:t})}send(t,a){if(this.destroyed)return Promise.reject(yn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const u=_f(this,gu)._++,x=new Promise((p,E)=>{I(this,Ua).push({resolve:p,reject:E,payload:{method:t,params:a,id:u,jsonrpc:"2.0"}})});return Te(this,Td,Em).call(this),x}async getSigner(t){t==null&&(t=0);const a=this.send("eth_accounts",[]);if(typeof t=="number"){const x=await a;if(t>=x.length)throw new Error("no such account");return new Bg(this,x[t])}const{accounts:u}=await Lr({network:this.getNetwork(),accounts:a});t=Rt(t);for(const x of u)if(Rt(x)===t)return new Bg(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(a=>new Bg(this,a))}destroy(){I(this,Qs)&&(clearTimeout(I(this,Qs)),z(this,Qs,null));for(const{payload:t,reject:a}of I(this,Ua))a(yn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));z(this,Ua,[]),super.destroy()}}oc=new WeakMap,gu=new WeakMap,Ua=new WeakMap,Qs=new WeakMap,us=new WeakMap,Vi=new WeakMap,ti=new WeakMap,Td=new WeakSet,Em=function(){if(I(this,Qs))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");z(this,Qs,setTimeout(()=>{z(this,Qs,null);const a=I(this,Ua);for(z(this,Ua,[]);a.length;){const u=[a.shift()];for(;a.length&&u.length!==I(this,oc).batchMaxCount;)if(u.push(a.shift()),JSON.stringify(u.map(p=>p.payload)).length>I(this,oc).batchMaxSize){a.unshift(u.pop());break}(async()=>{const x=u.length===1?u[0].payload:u.map(p=>p.payload);this.emit("debug",{action:"sendRpcPayload",payload:x});try{const p=await this._send(x);this.emit("debug",{action:"receiveRpcResult",result:p});for(const{resolve:E,reject:w,payload:y}of u){if(this.destroyed){w(yn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:y.method}));continue}const T=p.filter(N=>N.id===y.id)[0];if(T==null){const N=yn("missing response for request","BAD_DATA",{value:p,info:{payload:y}});this.emit("error",N),w(N);continue}if("error"in T){w(this.getRpcError(y,T));continue}E(T.result)}}catch(p){this.emit("debug",{action:"receiveRpcError",error:p});for(const{reject:E}of u)E(p)}})()}},t))};var Wl;class hS extends dS{constructor(t,a){super(t,a);xe(this,Wl);let u=this._getOption("pollingInterval");u==null&&(u=f6.pollingInterval),z(this,Wl,u)}_getSubscriber(t){const a=super._getSubscriber(t);return R8(a)&&(a.pollingInterval=I(this,Wl)),a}get pollingInterval(){return I(this,Wl)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");z(this,Wl,t),this._forEachSubscriber(a=>{R8(a)&&(a.pollingInterval=I(this,Wl))})}}Wl=new WeakMap;var mu;class Lh extends hS{constructor(t,a,u){t==null&&(t="http://localhost:8545");super(a,u);xe(this,mu);typeof t=="string"?z(this,mu,new ja(t)):z(this,mu,t.clone())}_getConnection(){return I(this,mu).clone()}async send(t,a){return await this._start(),await super.send(t,a)}async _send(t){const a=this._getConnection();a.body=JSON.stringify(t),a.setHeader("content-type","application/json");const u=await a.send();u.assertOk();let x=u.bodyJson;return Array.isArray(x)||(x=[x]),x}}mu=new WeakMap;function Cm(l){if(l==null)return null;if(typeof l.message=="string"&&l.message.match(/revert/i)&&on(l.data))return{message:l.message,data:l.data};if(typeof l=="object"){for(const e in l){const t=Cm(l[e]);if(t)return t}return null}if(typeof l=="string")try{return Cm(JSON.parse(l))}catch{}return null}function Sm(l,e){if(l!=null){if(typeof l.message=="string"&&e.push(l.message),typeof l=="object")for(const t in l)Sm(l[t],e);if(typeof l=="string")try{return Sm(JSON.parse(l),e)}catch{}}}function xS(l){const e=[];return Sm(l,e),e}var pu;const up=class up extends tp{constructor(t,a){super(a);te(this,"address");xe(this,pu);Y(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),z(this,pu,t);const u=Md(this.signingKey.publicKey);Ze(this,{address:u})}get signingKey(){return I(this,pu)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new up(I(this,pu),t)}async signTransaction(t){t=ud(t);const{to:a,from:u}=await Lr({to:t.to?cr(t.to,this):void 0,from:t.from?cr(t.from,this):void 0});a!=null&&(t.to=a),u!=null&&(t.from=u),t.from!=null&&(Y(Rt(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const x=rd.from(t);return x.signature=this.signingKey.sign(x.unsignedHash),x.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(Z9(t)).serialized}authorizeSync(t){Y(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);const a=this.signingKey.sign(u9(t));return Object.assign({},{address:Rt(t.address),nonce:je(t.nonce||0),chainId:je(t.chainId||0)},{signature:a})}async authorize(t){return t=Object.assign({},t,{address:await cr(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,a,u){const x=await vu.resolveNames(t,a,u,async p=>{we(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:p}});const E=await this.provider.resolveName(p);return we(E!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:p}),E});return this.signingKey.sign(vu.hash(x.domain,a,x.value)).serialized}};pu=new WeakMap;let Uh=up;const kh=" !#$%&'()*+,-./<=>?@[]^_`{|}~",gS=/^[a-z]*$/i;function O8(l,e){let t=97;return l.reduce((a,u)=>(u===e?t++:u.match(gS)?a.push(String.fromCharCode(t)+u):(t=97,a.push(u)),a),[])}function mS(l,e){for(let u=kh.length-1;u>=0;u--)l=l.split(kh[u]).join(e.substring(2*u,2*u+2));const t=[],a=l.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(u,x,p,E)=>{if(p)for(let w=parseInt(p);w>=0;w--)t.push(";");else t.push(x.toLowerCase());return""});if(a)throw new Error(`leftovers: ${JSON.stringify(a)}`);return O8(O8(t,";"),":")}function pS(l){return Y(l[0]==="0","unsupported auwl data","data",l),mS(l.substring(1+2*kh.length),l.substring(1,1+2*kh.length))}class bS{constructor(e){te(this,"locale");Ze(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var bu,Nd,cc,vd,Tm;class yS extends bS{constructor(t,a,u){super(t);xe(this,vd);xe(this,bu);xe(this,Nd);xe(this,cc);z(this,bu,a),z(this,Nd,u),z(this,cc,null)}get _data(){return I(this,bu)}_decodeWords(){return pS(I(this,bu))}getWord(t){const a=Te(this,vd,Tm).call(this);return Y(t>=0&&t<a.length,`invalid word index: ${t}`,"index",t),a[t]}getWordIndex(t){return Te(this,vd,Tm).call(this).indexOf(t)}}bu=new WeakMap,Nd=new WeakMap,cc=new WeakMap,vd=new WeakSet,Tm=function(){if(I(this,cc)==null){const t=this._decodeWords();if(Ya(t.join(`
`)+`
`)!==I(this,Nd))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);z(this,cc,t)}return I(this,cc)};const wS="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",AS="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Dg=null;class mc extends yS{constructor(){super("en",wS,AS)}static wordlist(){return Dg==null&&(Dg=new mc),Dg}}function d6(l){return(1<<l)-1<<8-l&255}function ES(l){return(1<<l)-1&255}function Mg(l,e){J8("NFKD"),e==null&&(e=mc.wordlist());const t=e.split(l);Y(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const a=new Uint8Array(Math.ceil(11*t.length/8));let u=0;for(let y=0;y<t.length;y++){let T=e.getWordIndex(t[y].normalize("NFKD"));Y(T>=0,`invalid mnemonic word at index ${y}`,"mnemonic","[ REDACTED ]");for(let N=0;N<11;N++)T&1<<10-N&&(a[u>>3]|=1<<7-u%8),u++}const x=32*t.length/3,p=t.length/3,E=d6(p),w=ze(Xi(a.slice(0,x/8)))[0]&E;return Y(w===(a[a.length-1]&E),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Be(a.slice(0,x/8))}function _g(l,e){Y(l.length%4===0&&l.length>=16&&l.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=mc.wordlist());const t=[0];let a=11;for(let p=0;p<l.length;p++)a>8?(t[t.length-1]<<=8,t[t.length-1]|=l[p],a-=8):(t[t.length-1]<<=a,t[t.length-1]|=l[p]>>8-a,t.push(l[p]&ES(8-a)),a+=3);const u=l.length/4,x=parseInt(Xi(l).substring(2,4),16)&d6(u);return t[t.length-1]<<=u,t[t.length-1]|=x>>8-u,e.join(t.map(p=>e.getWord(p)))}const Lg={};class Ou{constructor(e,t,a,u,x){te(this,"phrase");te(this,"password");te(this,"wordlist");te(this,"entropy");u==null&&(u=""),x==null&&(x=mc.wordlist()),$l(e,Lg,"Mnemonic"),Ze(this,{phrase:a,password:u,wordlist:x,entropy:t})}computeSeed(){const e=Yr("mnemonic"+this.password,"NFKD");return eo(Yr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,a){const u=Mg(e,a);return e=_g(ze(u),a),new Ou(Lg,u,e,t,a)}static fromEntropy(e,t,a){const u=ze(e,"entropy"),x=_g(u,a);return new Ou(Lg,Be(u),x,t,a)}static entropyToPhrase(e,t){const a=ze(e,"entropy");return _g(a,t)}static phraseToEntropy(e,t){return Mg(e,t)}static isValidMnemonic(e,t){try{return Mg(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var pr=function(l,e,t,a){if(t==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?l!==e||!a:!e.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(l):a?a.value:e.get(l)},Ug=function(l,e,t,a,u){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?l!==e||!u:!e.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?u.call(l,t):u?u.value=t:e.set(l,t),t},Ch,Ui,Us;const CS={16:10,24:12,32:14},SS=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_i=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],oh=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],TS=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],NS=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],vS=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],RS=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],OS=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],IS=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],BS=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],DS=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],MS=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],_S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],LS=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],US=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function kg(l){const e=[];for(let t=0;t<l.length;t+=4)e.push(l[t]<<24|l[t+1]<<16|l[t+2]<<8|l[t+3]);return e}class np{get key(){return pr(this,Ch,"f").slice()}constructor(e){if(Ch.set(this,void 0),Ui.set(this,void 0),Us.set(this,void 0),!(this instanceof np))throw Error("AES must be instanitated with `new`");Ug(this,Ch,new Uint8Array(e),"f");const t=CS[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Ug(this,Us,[],"f"),Ug(this,Ui,[],"f");for(let T=0;T<=t;T++)pr(this,Us,"f").push([0,0,0,0]),pr(this,Ui,"f").push([0,0,0,0]);const a=(t+1)*4,u=this.key.length/4,x=kg(this.key);let p;for(let T=0;T<u;T++)p=T>>2,pr(this,Us,"f")[p][T%4]=x[T],pr(this,Ui,"f")[t-p][T%4]=x[T];let E=0,w=u,y;for(;w<a;){if(y=x[u-1],x[0]^=_i[y>>16&255]<<24^_i[y>>8&255]<<16^_i[y&255]<<8^_i[y>>24&255]^SS[E]<<24,E+=1,u!=8)for(let L=1;L<u;L++)x[L]^=x[L-1];else{for(let L=1;L<u/2;L++)x[L]^=x[L-1];y=x[u/2-1],x[u/2]^=_i[y&255]^_i[y>>8&255]<<8^_i[y>>16&255]<<16^_i[y>>24&255]<<24;for(let L=u/2+1;L<u;L++)x[L]^=x[L-1]}let T=0,N,D;for(;T<u&&w<a;)N=w>>2,D=w%4,pr(this,Us,"f")[N][D]=x[T],pr(this,Ui,"f")[t-N][D]=x[T++],w++}for(let T=1;T<t;T++)for(let N=0;N<4;N++)y=pr(this,Ui,"f")[T][N],pr(this,Ui,"f")[T][N]=MS[y>>24&255]^_S[y>>16&255]^LS[y>>8&255]^US[y&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=pr(this,Us,"f").length-1,a=[0,0,0,0];let u=kg(e);for(let E=0;E<4;E++)u[E]^=pr(this,Us,"f")[0][E];for(let E=1;E<t;E++){for(let w=0;w<4;w++)a[w]=TS[u[w]>>24&255]^NS[u[(w+1)%4]>>16&255]^vS[u[(w+2)%4]>>8&255]^RS[u[(w+3)%4]&255]^pr(this,Us,"f")[E][w];u=a.slice()}const x=new Uint8Array(16);let p=0;for(let E=0;E<4;E++)p=pr(this,Us,"f")[t][E],x[4*E]=(_i[u[E]>>24&255]^p>>24)&255,x[4*E+1]=(_i[u[(E+1)%4]>>16&255]^p>>16)&255,x[4*E+2]=(_i[u[(E+2)%4]>>8&255]^p>>8)&255,x[4*E+3]=(_i[u[(E+3)%4]&255]^p)&255;return x}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=pr(this,Ui,"f").length-1,a=[0,0,0,0];let u=kg(e);for(let E=0;E<4;E++)u[E]^=pr(this,Ui,"f")[0][E];for(let E=1;E<t;E++){for(let w=0;w<4;w++)a[w]=OS[u[w]>>24&255]^IS[u[(w+3)%4]>>16&255]^BS[u[(w+2)%4]>>8&255]^DS[u[(w+1)%4]&255]^pr(this,Ui,"f")[E][w];u=a.slice()}const x=new Uint8Array(16);let p=0;for(let E=0;E<4;E++)p=pr(this,Ui,"f")[t][E],x[4*E]=(oh[u[E]>>24&255]^p>>24)&255,x[4*E+1]=(oh[u[(E+3)%4]>>16&255]^p>>16)&255,x[4*E+2]=(oh[u[(E+2)%4]>>8&255]^p>>8)&255,x[4*E+3]=(oh[u[(E+1)%4]&255]^p)&255;return x}}Ch=new WeakMap,Ui=new WeakMap,Us=new WeakMap;class h6{constructor(e,t,a){if(a&&!(this instanceof a))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new np(t)},name:{enumerable:!0,value:e}})}}var ch=function(l,e,t,a,u){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?l!==e||!u:!e.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?u.call(l,t):u?u.value=t:e.set(l,t),t},d0=function(l,e,t,a){if(t==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?l!==e||!a:!e.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(l):a?a.value:e.get(l)},Yf,Aa;class rp extends h6{constructor(e,t){if(super("ECC",e,rp),Yf.set(this,void 0),Aa.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");ch(this,Yf,new Uint8Array(t),"f")}else ch(this,Yf,new Uint8Array(16),"f");ch(this,Aa,this.iv,"f")}get iv(){return new Uint8Array(d0(this,Yf,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let a=0;a<e.length;a+=16){for(let u=0;u<16;u++)d0(this,Aa,"f")[u]^=e[a+u];ch(this,Aa,this.aes.encrypt(d0(this,Aa,"f")),"f"),t.set(d0(this,Aa,"f"),a)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let a=0;a<e.length;a+=16){const u=this.aes.decrypt(e.subarray(a,a+16));for(let x=0;x<16;x++)t[a+x]=u[x]^d0(this,Aa,"f")[x],d0(this,Aa,"f")[x]=e[a+x]}return t}}Yf=new WeakMap,Aa=new WeakMap;var h0=function(l,e,t,a,u){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?l!==e||!u:!e.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?u.call(l,t):u?u.value=t:e.set(l,t),t},Li=function(l,e,t,a){if(t==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?l!==e||!a:!e.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(l):a?a.value:e.get(l)},Qf,Mo,ki;class Iu extends h6{constructor(e,t){super("CTR",e,Iu),Qf.set(this,void 0),Mo.set(this,void 0),ki.set(this,void 0),h0(this,ki,new Uint8Array(16),"f"),Li(this,ki,"f").fill(0),h0(this,Qf,Li(this,ki,"f"),"f"),h0(this,Mo,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Li(this,ki,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Li(this,ki,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Li(this,ki,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Li(this,ki,"f")[e]===255)Li(this,ki,"f")[e]=0;else{Li(this,ki,"f")[e]++;break}}encrypt(e){var t,a;const u=new Uint8Array(e);for(let x=0;x<u.length;x++)Li(this,Mo,"f")===16&&(h0(this,Qf,this.aes.encrypt(Li(this,ki,"f")),"f"),h0(this,Mo,0,"f"),this.increment()),u[x]^=Li(this,Qf,"f")[h0(this,Mo,(a=Li(this,Mo,"f"),t=a++,a),"f"),t];return u}decrypt(e){return this.encrypt(e)}}Qf=new WeakMap,Mo=new WeakMap,ki=new WeakMap;function kS(l){if(l.length<16)throw new TypeError("PKCS#7 invalid length");const e=l[l.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=l.length-e;for(let a=0;a<e;a++)if(l[t+a]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(l.subarray(0,t))}function x6(l){return typeof l=="string"&&!l.startsWith("0x")&&(l="0x"+l),Ar(l)}function Hf(l,e){for(l=String(l);l.length<e;)l="0"+l;return l}function kd(l){return typeof l=="string"?Yr(l,"NFKC"):Ar(l)}function kn(l,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);Y(t!=null,"invalid path","path",e);const a=t[1],u=t[3],x=t[4]==="!";let p=l;for(const E of a.toLowerCase().split(".")){if(Array.isArray(p)){if(!E.match(/^[0-9]+$/))break;p=p[parseInt(E)]}else if(typeof p=="object"){let w=null;for(const y in p)if(y.toLowerCase()===E){w=p[y];break}p=w}else p=null;if(p==null)break}if(Y(!x||p!=null,"missing required value","path",a),u&&p!=null){if(u==="int"){if(typeof p=="string"&&p.match(/^-?[0-9]+$/))return parseInt(p);if(Number.isSafeInteger(p))return p}if(u==="number"&&typeof p=="string"&&p.match(/^-?[0-9.]*$/))return parseFloat(p);if(u==="data"&&typeof p=="string")return x6(p);if(u==="array"&&Array.isArray(p)||u===typeof p)return p;Y(!1,`wrong type found for ${u} `,"path",a)}return p}const g6="m/44'/60'/0'/0/0";function I8(l){try{const e=JSON.parse(l);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function PS(l,e,t){if(kn(l,"crypto.cipher:string")==="aes-128-ctr"){const u=kn(l,"crypto.cipherparams.iv:data!"),x=new Iu(e,u);return Be(x.decrypt(t))}we(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Ph(l,e){const t=ze(e),a=kn(l,"crypto.ciphertext:data!"),u=Be(mn(Ft([t.slice(16,32),a]))).substring(2);Y(u===kn(l,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const x=PS(l,t.slice(0,16),a),p=Md(x);if(l.address){let y=l.address.toLowerCase();y.startsWith("0x")||(y="0x"+y),Y(Rt(y)===p,"keystore address/privateKey mismatch","address",l.address)}const E={address:p,privateKey:x};if(kn(l,"x-ethers.version:string")==="0.1"){const y=t.slice(32,64),T=kn(l,"x-ethers.mnemonicCiphertext:data!"),N=kn(l,"x-ethers.mnemonicCounter:data!"),D=new Iu(y,N);E.mnemonic={path:kn(l,"x-ethers.path:string")||g6,locale:kn(l,"x-ethers.locale:string")||"en",entropy:Be(ze(D.decrypt(T)))}}return E}function m6(l){const e=kn(l,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=kn(l,"crypto.kdfparams.salt:data!"),a=kn(l,"crypto.kdfparams.n:int!"),u=kn(l,"crypto.kdfparams.r:int!"),x=kn(l,"crypto.kdfparams.p:int!");Y(a>0&&(a&a-1)===0,"invalid kdf.N","kdf.N",a),Y(u>0&&x>0,"invalid kdf","kdf",e);const p=kn(l,"crypto.kdfparams.dklen:int!");return Y(p===32,"invalid kdf.dklen","kdf.dflen",p),{name:"scrypt",salt:t,N:a,r:u,p:x,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=kn(l,"crypto.kdfparams.salt:data!"),a=kn(l,"crypto.kdfparams.prf:string!"),u=a.split("-").pop();Y(u==="sha256"||u==="sha512","invalid kdf.pdf","kdf.pdf",a);const x=kn(l,"crypto.kdfparams.c:int!"),p=kn(l,"crypto.kdfparams.dklen:int!");return Y(p===32,"invalid kdf.dklen","kdf.dklen",p),{name:"pbkdf2",salt:t,count:x,dkLen:p,algorithm:u}}}Y(!1,"unsupported key-derivation function","kdf",e)}function FS(l,e){const t=JSON.parse(l),a=kd(e),u=m6(t);if(u.name==="pbkdf2"){const{salt:N,count:D,dkLen:L,algorithm:P}=u,k=eo(a,N,D,L,P);return Ph(t,k)}we(u.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:u});const{salt:x,N:p,r:E,p:w,dkLen:y}=u,T=Lu(a,x,p,E,w,y);return Ph(t,T)}function B8(l){return new Promise(e=>{setTimeout(()=>{e()},l)})}async function HS(l,e,t){const a=JSON.parse(l),u=kd(e),x=m6(a);if(x.name==="pbkdf2"){t&&(t(0),await B8(0));const{salt:D,count:L,dkLen:P,algorithm:k}=x,j=eo(u,D,L,P,k);return t&&(t(1),await B8(0)),Ph(a,j)}we(x.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:x});const{salt:p,N:E,r:w,p:y,dkLen:T}=x,N=await _u(u,p,E,w,y,T,t);return Ph(a,N)}function p6(l){const e=l.salt!=null?ze(l.salt,"options.salt"):Fa(32);let t=1<<17,a=8,u=1;return l.scrypt&&(l.scrypt.N&&(t=l.scrypt.N),l.scrypt.r&&(a=l.scrypt.r),l.scrypt.p&&(u=l.scrypt.p)),Y(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),Y(typeof a=="number"&&a>0&&Number.isSafeInteger(a),"invalid scrypt r parameter","options.r",a),Y(typeof u=="number"&&u>0&&Number.isSafeInteger(u),"invalid scrypt p parameter","options.p",u),{name:"scrypt",dkLen:32,salt:e,N:t,r:a,p:u}}function b6(l,e,t,a){const u=ze(t.privateKey,"privateKey"),x=a.iv!=null?ze(a.iv,"options.iv"):Fa(16);Y(x.length===16,"invalid options.iv length","options.iv",a.iv);const p=a.uuid!=null?ze(a.uuid,"options.uuid"):Fa(16);Y(p.length===16,"invalid options.uuid length","options.uuid",a.iv);const E=l.slice(0,16),w=l.slice(16,32),y=new Iu(E,x),T=ze(y.encrypt(u)),N=mn(Ft([w,T])),D={address:t.address.substring(2).toLowerCase(),id:GE(p),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Be(x).substring(2)},ciphertext:Be(T).substring(2),kdf:"scrypt",kdfparams:{salt:Be(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:N.substring(2)}};if(t.mnemonic){const L=a.client!=null?a.client:`ethers/${W8}`,P=t.mnemonic.path||g6,k=t.mnemonic.locale||"en",j=l.slice(32,64),ee=ze(t.mnemonic.entropy,"account.mnemonic.entropy"),re=Fa(16),Z=new Iu(j,re),ie=ze(Z.encrypt(ee)),fe=new Date,$="UTC--"+(fe.getUTCFullYear()+"-"+Hf(fe.getUTCMonth()+1,2)+"-"+Hf(fe.getUTCDate(),2)+"T"+Hf(fe.getUTCHours(),2)+"-"+Hf(fe.getUTCMinutes(),2)+"-"+Hf(fe.getUTCSeconds(),2)+".0Z")+"--"+D.address;D["x-ethers"]={client:L,gethFilename:$,path:P,locale:k,mnemonicCounter:Be(re).substring(2),mnemonicCiphertext:Be(ie).substring(2),version:"0.1"}}return JSON.stringify(D)}function y6(l,e,t){t==null&&(t={});const a=kd(e),u=p6(t),x=Lu(a,u.salt,u.N,u.r,u.p,64);return b6(ze(x),u,l,t)}async function w6(l,e,t){t==null&&(t={});const a=kd(e),u=p6(t),x=await _u(a,u.salt,u.N,u.r,u.p,64,t.progressCallback);return b6(ze(x),u,l,t)}const Pg="m/44'/60'/0'/0/0",GS=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),I0=2147483648,zS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),VS="0123456789abcdef";function Fh(l,e){let t="";for(;l;)t=VS[l%16]+t,l=Math.trunc(l/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Nm(l){const e=ze(l),t=dn(Xi(Xi(e)),0,4),a=Ft([e,t]);return n4(a)}const Ps={};function A6(l,e,t,a){const u=new Uint8Array(37);l&I0?(we(a!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),u.set(ze(a),1)):u.set(ze(t));for(let p=24;p>=0;p-=8)u[33+(p>>3)]=l>>24-p&255;const x=ze(Du("sha512",e,u));return{IL:x.slice(0,32),IR:x.slice(32)}}function E6(l,e){const t=e.split("/");Y(t.length>0,"invalid path","path",e),t[0]==="m"&&(Y(l.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${l.depth}`,"path",e),t.shift());let a=l;for(let u=0;u<t.length;u++){const x=t[u];if(x.match(/^[0-9]+'$/)){const p=parseInt(x.substring(0,x.length-1));Y(p<I0,"invalid path index",`path[${u}]`,x),a=a.deriveChild(I0+p)}else if(x.match(/^[0-9]+$/)){const p=parseInt(x);Y(p<I0,"invalid path index",`path[${u}]`,x),a=a.deriveChild(p)}else Y(!1,"invalid path component",`path[${u}]`,x)}return a}var Rd,vm,uc,Kf;const rs=class rs extends Uh{constructor(t,a,u,x,p,E,w,y,T){super(a,T);xe(this,Rd);te(this,"publicKey");te(this,"fingerprint");te(this,"parentFingerprint");te(this,"mnemonic");te(this,"chainCode");te(this,"path");te(this,"index");te(this,"depth");$l(t,Ps,"HDNodeWallet"),Ze(this,{publicKey:a.compressedPublicKey});const N=dn(Mu(Xi(this.publicKey)),0,4);Ze(this,{parentFingerprint:u,fingerprint:N,chainCode:x,path:p,index:E,depth:w}),Ze(this,{mnemonic:y})}connect(t){return new rs(Ps,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,a){return await w6(Te(this,Rd,vm).call(this),t,{progressCallback:a})}encryptSync(t){return y6(Te(this,Rd,vm).call(this),t)}get extendedKey(){return we(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Nm(Ft(["0x0488ADE4",Fh(this.depth,1),this.parentFingerprint,Fh(this.index,4),this.chainCode,Ft(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new hd(Ps,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const a=ut(t,"index");Y(a<=4294967295,"invalid index","index",a);let u=this.path;u&&(u+="/"+(a&2147483647),a&I0&&(u+="'"));const{IR:x,IL:p}=A6(a,this.chainCode,this.publicKey,this.privateKey),E=new Js(Va((Id(p)+BigInt(this.privateKey))%zS,32));return new rs(Ps,E,this.fingerprint,Be(x),u,a,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return E6(this,t)}static fromExtendedKey(t){const a=In(wE(t));Y(a.length===82||Nm(a.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const u=a[4],x=Be(a.slice(5,9)),p=parseInt(Be(a.slice(9,13)).substring(2),16),E=Be(a.slice(13,45)),w=a.slice(45,78);switch(Be(a.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const y=Be(w);return new hd(Ps,Md(y),y,x,E,null,p,u,null)}case"0x0488ade4":case"0x04358394 ":if(w[0]!==0)break;return new rs(Ps,new Js(w.slice(1)),x,E,null,p,u,null,null)}Y(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,a,u){var p;t==null&&(t=""),a==null&&(a=Pg),u==null&&(u=mc.wordlist());const x=Ou.fromEntropy(Fa(16),t,u);return Te(p=rs,uc,Kf).call(p,x.computeSeed(),x).derivePath(a)}static fromMnemonic(t,a){var u;return a||(a=Pg),Te(u=rs,uc,Kf).call(u,t.computeSeed(),t).derivePath(a)}static fromPhrase(t,a,u,x){var E;a==null&&(a=""),u==null&&(u=Pg),x==null&&(x=mc.wordlist());const p=Ou.fromPhrase(t,a,x);return Te(E=rs,uc,Kf).call(E,p.computeSeed(),p).derivePath(u)}static fromSeed(t){var a;return Te(a=rs,uc,Kf).call(a,t,null)}};Rd=new WeakSet,vm=function(){const t={address:this.address,privateKey:this.privateKey},a=this.mnemonic;return this.path&&a&&a.wordlist.locale==="en"&&a.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:a.entropy}),t},uc=new WeakSet,Kf=function(t,a){Y(qh(t),"invalid seed","seed","[REDACTED]");const u=ze(t,"seed");Y(u.length>=16&&u.length<=64,"invalid seed","seed","[REDACTED]");const x=ze(Du("sha512",GS,u)),p=new Js(Be(x.slice(0,32)));return new rs(Ps,p,"0x00000000",Be(x.slice(32)),"m",0,0,a,null)},xe(rs,uc);let Jf=rs;class hd extends ym{constructor(t,a,u,x,p,E,w,y,T){super(a,T);te(this,"publicKey");te(this,"fingerprint");te(this,"parentFingerprint");te(this,"chainCode");te(this,"path");te(this,"index");te(this,"depth");$l(t,Ps,"HDNodeVoidWallet"),Ze(this,{publicKey:u});const N=dn(Mu(Xi(u)),0,4);Ze(this,{publicKey:u,fingerprint:N,parentFingerprint:x,chainCode:p,path:E,index:w,depth:y})}connect(t){return new hd(Ps,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return we(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Nm(Ft(["0x0488B21E",Fh(this.depth,1),this.parentFingerprint,Fh(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const a=ut(t,"index");Y(a<=4294967295,"invalid index","index",a);let u=this.path;u&&(u+="/"+(a&2147483647),a&I0&&(u+="'"));const{IR:x,IL:p}=A6(a,this.chainCode,this.publicKey,null),E=Js.addPoints(p,this.publicKey,!0),w=Md(E);return new hd(Ps,w,E,this.fingerprint,Be(x),u,a,this.depth+1,this.provider)}derivePath(t){return E6(this,t)}}function D8(l){try{if(JSON.parse(l).encseed)return!0}catch{}return!1}function M8(l,e){const t=JSON.parse(l),a=kd(e),u=Rt(kn(t,"ethaddr:string!")),x=x6(kn(t,"encseed:string!"));Y(x&&x.length%16===0,"invalid encseed","json",l);const p=ze(eo(a,a,2e3,32,"sha256")).slice(0,16),E=x.slice(0,16),w=x.slice(16),y=new rp(p,E),T=kS(ze(y.decrypt(w)));let N="";for(let D=0;D<T.length;D++)N+=String.fromCharCode(T[D]);return{address:u,privateKey:Ya(N)}}function _8(l){return new Promise(e=>{setTimeout(()=>{e()},l)})}var Od,Rm;const Po=class Po extends Uh{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let a=typeof e=="string"?new Js(e):e;super(a,t)}connect(e){return new Po(this.signingKey,e)}async encrypt(e,t){const a={address:this.address,privateKey:this.privateKey};return await w6(a,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return y6(t,e)}static async fromEncryptedJson(e,t,a){var x;let u=null;return I8(e)?u=await HS(e,t,a):D8(e)&&(a&&(a(0),await _8(0)),u=M8(e,t),a&&(a(1),await _8(0))),Te(x=Po,Od,Rm).call(x,u)}static fromEncryptedJsonSync(e,t){var u;let a=null;return I8(e)?a=FS(e,t):D8(e)?a=M8(e,t):Y(!1,"invalid JSON wallet","json","[ REDACTED ]"),Te(u=Po,Od,Rm).call(u,a)}static createRandom(e){const t=Jf.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const a=Jf.fromPhrase(e);return t?a.connect(t):a}};Od=new WeakSet,Rm=function(e){if(Y(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const a=Ou.fromEntropy(e.mnemonic.entropy),u=Jf.fromMnemonic(a,e.mnemonic.path);if(u.address===e.address&&u.privateKey===e.privateKey)return u;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new Po(e.privateKey);return Y(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},xe(Po,Od);let hs=Po;const Zf={appName:"BeerCoin",walletStorageKey:"beercoin_wallet",refreshInterval:1e4,gasAmount:"0.001",pollingInterval:5e3},ar={WALLET:"beercoin_wallet",USERNAME:"beercoin_username",IS_TRUSTED:"beercoin_is_trusted",REFERRER:"beercoin_referrer"},Ws={errorCorrectionLevel:"H",size:250,includeMargin:!0,color:{dark:"#4A2511",light:"#FFF8E1"}};class jS{constructor(){this.provider=new Lh("https://rpc.gnosischain.com")}createWallet(){const e=hs.createRandom(),t={address:e.address,privateKey:e.privateKey,mnemonic:e.mnemonic.phrase,createdAt:new Date().toISOString()};return this.saveWallet(t),t}saveWallet(e){localStorage.setItem(ar.WALLET,JSON.stringify(e))}getWallet(){const e=localStorage.getItem(ar.WALLET);return e?JSON.parse(e):null}hasWallet(){return!!localStorage.getItem(ar.WALLET)}getWalletInstance(){const e=this.getWallet();return e?new hs(e.privateKey,this.provider):null}importFromPrivateKey(e){try{const t=new hs(e,this.provider),a={address:t.address,privateKey:t.privateKey,mnemonic:null,createdAt:new Date().toISOString()};return this.saveWallet(a),a}catch(t){throw console.error("Error importing wallet:",t),new Error("Invalid private key")}}importFromMnemonic(e){try{const t=hs.fromPhrase(e),a={address:t.address,privateKey:t.privateKey,mnemonic:e,createdAt:new Date().toISOString()};return this.saveWallet(a),a}catch(t){throw console.error("Error importing wallet:",t),new Error("Invalid mnemonic phrase")}}clearWallet(){localStorage.removeItem(ar.WALLET)}async getBalance(e){try{const t=await this.provider.getBalance(e);return x0(t)}catch(t){return console.error("Error getting balance:",t),"0.0"}}async sendTransaction(e,t){const a=this.getWalletInstance();if(!a)throw new Error("No wallet found");const u={to:e,value:ed(t)};return a.sendTransaction(u)}}const Bl=new jS,XS=[{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokensBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokensMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"MAX_SUPPLY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],YS={abi:XS},QS=[{inputs:[{internalType:"address",name:"_beerCoin",type:"address"},{internalType:"address",name:"initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"active",type:"bool"}],name:"DistributionToggled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newMultiplier",type:"uint256"}],name:"ReferrerMultiplierUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRate",type:"uint256"}],name:"RewardRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"username",type:"string"}],name:"UserKicked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"username",type:"string"},{indexed:!0,internalType:"address",name:"referrer",type:"address"}],name:"UserRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"username",type:"string"},{indexed:!0,internalType:"address",name:"trustedUser",type:"address"}],name:"UserRegisteredByTrusted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"username",type:"string"}],name:"UserTrusted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"username",type:"string"}],name:"UserUntrusted",type:"event"},{inputs:[],name:"MULTIPLIER_BASE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"string",name:"username",type:"string"}],name:"addTrustedUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allUsers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseRewardRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"beerCoin",outputs:[{internalType:"contract BeerCoinV2",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"calculatePendingRewards",outputs:[{internalType:"uint256",name:"pendingRewards",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributionActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllTrustedUsers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalTrustedUsers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalUsers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserInfo",outputs:[{internalType:"string",name:"username",type:"string"},{internalType:"bool",name:"isTrusted",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"referrer",type:"address"},{internalType:"uint256",name:"referralCount",type:"uint256"},{internalType:"uint256",name:"totalEarned",type:"uint256"},{internalType:"uint256",name:"pendingRewards",type:"uint256"},{internalType:"uint256",name:"joinTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"username",type:"string"}],name:"isUsernameAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"kickUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"referrerMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"username",type:"string"},{internalType:"address",name:"referrer",type:"address"}],name:"registerUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"string",name:"username",type:"string"}],name:"registerUserByTrusted",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"removeTrustedUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"toggleDistribution",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"trustedUsers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newMultiplier",type:"uint256"}],name:"updateReferrerMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRate",type:"uint256"}],name:"updateRewardRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"usernameToAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"string",name:"username",type:"string"},{internalType:"bool",name:"isTrusted",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"address",name:"referrer",type:"address"},{internalType:"uint256",name:"referralCount",type:"uint256"},{internalType:"uint256",name:"lastClaimTime",type:"uint256"},{internalType:"uint256",name:"totalEarned",type:"uint256"},{internalType:"uint256",name:"joinTime",type:"uint256"}],stateMutability:"view",type:"function"}],KS={abi:QS},ZS="https://rpc.gnosischain.com",WS="0x2567c78AADF441cbee3FeE53a0D039023e0551c8",qS="0xFB8E611686F21eC845AeD71F8ed942cA3C1150d9";class rn{constructor(){this.provider=null,this.signer=null,this.beerCoinContract=null,this.distributorContract=null}async initialize(e){try{return this.provider=new Lh(ZS),this.signer=new hs(e.privateKey,this.provider),this.beerCoinContract=new Ga(WS,YS.abi,this.signer),this.distributorContract=new Ga(qS,KS.abi,this.signer),!0}catch(t){return console.error("Failed to initialize contract service:",t),!1}}async getBeerBalance(e){try{if(!this.beerCoinContract)return"0";const t=await this.beerCoinContract.balanceOf(e);return x0(t)}catch(t){return console.error("Error getting BEER balance:",t),"0"}}async getXDaiBalance(e){try{if(!this.provider)return"0";const t=await this.provider.getBalance(e);return x0(t)}catch(t){return console.error("Error getting xDAI balance:",t),"0"}}async isUserRegistered(e){try{return this.distributorContract?await this.distributorContract.isRegistered(e):!1}catch(t){return console.error("Error checking registration:",t),!1}}async getUserInfo(e){try{if(!this.distributorContract)return null;const t=await this.distributorContract.getUserInfo(e);return{username:t.username,isTrusted:t.isTrusted,isActive:t.isActive,referrer:t.referrer,referralCount:Number(t.referralCount),totalEarned:x0(t.totalEarned),pendingRewards:x0(t.pendingRewards),joinTime:Number(t.joinTime)}}catch(t){return console.error("Error getting user info:",t),null}}async getPendingRewards(e){try{if(!this.distributorContract)return"0";const t=await this.distributorContract.calculatePendingRewards(e);return x0(t)}catch(t){return console.error("Error getting pending rewards:",t),"0"}}async claimRewards(){try{if(!this.distributorContract)throw new Error("Contract not initialized");const e=await this.distributorContract.claimRewards();return await e.wait(),{success:!0,txHash:e.hash}}catch(e){return console.error("Error claiming rewards:",e),{success:!1,error:e.message}}}async registerUserByTrusted(e,t){try{if(!this.distributorContract)throw new Error("Contract not initialized");const a=await this.distributorContract.registerUserByTrusted(e,t);return await a.wait(),{success:!0,txHash:a.hash}}catch(a){return console.error("Error registering user by trusted:",a),{success:!1,error:a.message}}}async registerUser(e,t){try{if(!this.distributorContract)throw new Error("Contract not initialized");const a=await this.distributorContract.registerUser(e,t);return await a.wait(),{success:!0,txHash:a.hash}}catch(a){return console.error("Error registering user:",a),{success:!1,error:a.message}}}async sendBeer(e,t){try{if(!this.beerCoinContract)throw new Error("Contract not initialized");const a=ed(t.toString()),u=await this.beerCoinContract.transfer(e,a);return await u.wait(),{success:!0,txHash:u.hash}}catch(a){return console.error("Error sending BEER:",a),{success:!1,error:a.message}}}async sendXDai(e,t){try{if(!this.signer)throw new Error("Signer not initialized");const a=ed(t.toString()),u=await this.signer.sendTransaction({to:e,value:a});return await u.wait(),{success:!0,txHash:u.hash}}catch(a){return console.error("Error sending xDAI:",a),{success:!1,error:a.message}}}async isUsernameAvailable(e){try{return this.distributorContract?await this.distributorContract.isUsernameAvailable(e):!1}catch(t){return console.error("Error checking username availability:",t),!1}}async getTotalUsers(){try{if(!this.distributorContract)return 0;const e=await this.distributorContract.getTotalUsers();return Number(e)}catch(e){return console.error("Error getting total users:",e),0}}async getTotalTrustedUsers(){try{if(!this.distributorContract)return 0;const e=await this.distributorContract.getTotalTrustedUsers();return Number(e)}catch(e){return console.error("Error getting total trusted users:",e),0}}async getAllTrustedUsers(){try{return this.distributorContract?await this.distributorContract.getAllTrustedUsers():[]}catch(e){return console.error("Error getting trusted users:",e),[]}}async isDistributionActive(){try{return this.distributorContract?await this.distributorContract.distributionActive():!1}catch(e){return console.error("Error checking distribution status:",e),!1}}}const C6=Pe.createContext(),JS=({children:l})=>{const[e,t]=Pe.useState(null),[a,u]=Pe.useState(!0),[x,p]=Pe.useState(null),[E,w]=Pe.useState("0.0"),[y,T]=Pe.useState("0.0"),[N,D]=Pe.useState("0.0"),[L,P]=Pe.useState(!1),[k,j]=Pe.useState(null),[ee,re]=Pe.useState(localStorage.getItem(ar.USERNAME)||""),[Z,ie]=Pe.useState(localStorage.getItem(ar.IS_TRUSTED)==="true");Pe.useEffect(()=>{(async()=>{try{if(u(!0),p(null),Bl.hasWallet()){const V=Bl.getWallet();t(V),await rn.initialize(V);const J=await rn.isUserRegistered(V.address);if(P(J),J){const Ae=await rn.getUserInfo(V.address);j(Ae),re(Ae.username),ie(Ae.isTrusted),localStorage.setItem(ar.USERNAME,Ae.username),localStorage.setItem(ar.IS_TRUSTED,Ae.isTrusted)}await fe(V.address)}}catch(V){console.error("Error initializing wallet:",V),p(V.message)}finally{u(!1)}})()},[]),Pe.useEffect(()=>{if(!e)return;const H=setInterval(()=>{fe(e.address)},1e4);return()=>clearInterval(H)},[e]);const fe=async H=>{try{const[V,J,Ae]=await Promise.all([Bl.getBalance(H),rn.getBeerBalance(H),rn.getPendingRewards(H)]);w(V),T(J),D(Ae)}catch(V){console.error("Error refreshing balances:",V)}},De={wallet:e,loading:a,error:x,balance:E,beerBalance:y,pendingRewards:N,isRegistered:L,userInfo:k,username:ee,isTrusted:Z,createWallet:()=>{try{const H=Bl.createWallet();return t(H),P(!1),j(null),H}catch(H){throw console.error("Error creating wallet:",H),p(H.message),H}},importWalletFromPrivateKey:async H=>{try{const V=Bl.importFromPrivateKey(H);t(V),await rn.initialize(V);const J=await rn.isUserRegistered(V.address);if(P(J),J){const Ae=await rn.getUserInfo(V.address);j(Ae),re(Ae.username),ie(Ae.isTrusted),localStorage.setItem(ar.USERNAME,Ae.username),localStorage.setItem(ar.IS_TRUSTED,Ae.isTrusted)}return await fe(V.address),V}catch(V){throw console.error("Error importing wallet:",V),p(V.message),V}},importWalletFromMnemonic:async H=>{try{const V=Bl.importFromMnemonic(H);t(V),await rn.initialize(V);const J=await rn.isUserRegistered(V.address);if(P(J),J){const Ae=await rn.getUserInfo(V.address);j(Ae),re(Ae.username),ie(Ae.isTrusted),localStorage.setItem(ar.USERNAME,Ae.username),localStorage.setItem(ar.IS_TRUSTED,Ae.isTrusted)}return await fe(V.address),V}catch(V){throw console.error("Error importing wallet:",V),p(V.message),V}},registerUser:async(H,V)=>{try{if(!e)throw new Error("No wallet found");await(await rn.registerUser(H,V)).wait(),P(!0),re(H),localStorage.setItem(ar.USERNAME,H);const Ae=await rn.getUserInfo(e.address);return j(Ae),ie(Ae.isTrusted),localStorage.setItem(ar.IS_TRUSTED,Ae.isTrusted),await fe(e.address),!0}catch(J){throw console.error("Error registering user:",J),p(J.message),J}},claimRewards:async()=>{try{if(!e)throw new Error("No wallet found");if(!L)throw new Error("User not registered");return await(await rn.claimRewards()).wait(),await fe(e.address),!0}catch(H){throw console.error("Error claiming rewards:",H),p(H.message),H}},transferBeer:async(H,V)=>{try{if(!e)throw new Error("No wallet found");return await(await rn.transferBeer(H,V)).wait(),await fe(e.address),!0}catch(J){throw console.error("Error transferring BEER:",J),p(J.message),J}},sendXDai:async(H,V)=>{try{if(!e)throw new Error("No wallet found");return await(await Bl.sendTransaction(H,V)).wait(),await fe(e.address),!0}catch(J){throw console.error("Error sending xDAI:",J),p(J.message),J}},clearWallet:()=>{Bl.clearWallet(),t(null),P(!1),j(null),re(""),ie(!1),T("0.0"),D("0.0"),w("0.0"),localStorage.removeItem(ar.USERNAME),localStorage.removeItem(ar.IS_TRUSTED),localStorage.removeItem(ar.REFERRER)},refreshBalances:fe};return U.jsx(C6.Provider,{value:De,children:l})},Yi=()=>{const l=Pe.useContext(C6);if(l===void 0)throw new Error("useWallet must be used within a WalletProvider");return l},S6="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M352%20200V464H160V200C160%20186.7%20170.7%20176%20184%20176H328C341.3%20176%20352%20186.7%20352%20200Z'%20fill='%23F2A900'/%3e%3cpath%20d='M352%20200V464H256V176H328C341.3%20176%20352%20186.7%20352%20200Z'%20fill='%23FF8C00'/%3e%3cpath%20d='M384%20464H128C119.2%20464%20112%20471.2%20112%20480C112%20488.8%20119.2%20496%20128%20496H384C392.8%20496%20400%20488.8%20400%20480C400%20471.2%20392.8%20464%20384%20464Z'%20fill='%238B4513'/%3e%3cpath%20d='M384%20464H256V496H384C392.8%20496%20400%20488.8%20400%20480C400%20471.2%20392.8%20464%20384%20464Z'%20fill='%236B3000'/%3e%3cpath%20d='M368%20224H336C327.2%20224%20320%20231.2%20320%20240V272C320%20280.8%20327.2%20288%20336%20288H368C376.8%20288%20384%20280.8%20384%20272V240C384%20231.2%20376.8%20224%20368%20224Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M176%20224H144C135.2%20224%20128%20231.2%20128%20240V272C128%20280.8%20135.2%20288%20144%20288H176C184.8%20288%20192%20280.8%20192%20272V240C192%20231.2%20184.8%20224%20176%20224Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M368%20320H336C327.2%20320%20320%20327.2%20320%20336V368C320%20376.8%20327.2%20384%20336%20384H368C376.8%20384%20384%20376.8%20384%20368V336C384%20327.2%20376.8%20320%20368%20320Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M176%20320H144C135.2%20320%20128%20327.2%20128%20336V368C128%20376.8%20135.2%20384%20144%20384H176C184.8%20384%20192%20376.8%20192%20368V336C192%20327.2%20184.8%20320%20176%20320Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M272%20320H240C231.2%20320%20224%20327.2%20224%20336V368C224%20376.8%20231.2%20384%20240%20384H272C280.8%20384%20288%20376.8%20288%20368V336C288%20327.2%20280.8%20320%20272%20320Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M272%20320H256V384H272C280.8%20384%20288%20376.8%20288%20368V336C288%20327.2%20280.8%20320%20272%20320Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M272%20224H240C231.2%20224%20224%20231.2%20224%20240V272C224%20280.8%20231.2%20288%20240%20288H272C280.8%20288%20288%20280.8%20288%20272V240C288%20231.2%20280.8%20224%20272%20224Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M272%20224H256V288H272C280.8%20288%20288%20280.8%20288%20272V240C288%20231.2%20280.8%20224%20272%20224Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M352%20176H160C142.3%20176%20128%20161.7%20128%20144V128C128%20110.3%20142.3%2096%20160%2096H352C369.7%2096%20384%20110.3%20384%20128V144C384%20161.7%20369.7%20176%20352%20176Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M352%2096H256V176H352C369.7%20176%20384%20161.7%20384%20144V128C384%20110.3%20369.7%2096%20352%2096Z'%20fill='%23F5F5F5'/%3e%3cpath%20d='M336%2096H176C167.2%2096%20160%2088.8%20160%2080V64C160%2055.2%20167.2%2048%20176%2048H336C344.8%2048%20352%2055.2%20352%2064V80C352%2088.8%20344.8%2096%20336%2096Z'%20fill='%23F2A900'/%3e%3cpath%20d='M336%2048H256V96H336C344.8%2096%20352%2088.8%20352%2080V64C352%2055.2%20344.8%2048%20336%2048Z'%20fill='%23FF8C00'/%3e%3cpath%20d='M304%2048H208C199.2%2048%20192%2040.8%20192%2032V16C192%207.2%20199.2%200%20208%200H304C312.8%200%20320%207.2%20320%2016V32C320%2040.8%20312.8%2048%20304%2048Z'%20fill='%23FFFFFF'/%3e%3cpath%20d='M304%200H256V48H304C312.8%2048%20320%2040.8%20320%2032V16C320%207.2%20312.8%200%20304%200Z'%20fill='%23F5F5F5'/%3e%3c!--%20Bubbles%20--%3e%3ccircle%20cx='176'%20cy='144'%20r='8'%20fill='%23FFFFFF'%20opacity='0.7'/%3e%3ccircle%20cx='208'%20cy='128'%20r='6'%20fill='%23FFFFFF'%20opacity='0.7'/%3e%3ccircle%20cx='240'%20cy='144'%20r='10'%20fill='%23FFFFFF'%20opacity='0.7'/%3e%3ccircle%20cx='272'%20cy='128'%20r='7'%20fill='%23FFFFFF'%20opacity='0.7'/%3e%3ccircle%20cx='304'%20cy='144'%20r='9'%20fill='%23FFFFFF'%20opacity='0.7'/%3e%3ccircle%20cx='336'%20cy='128'%20r='5'%20fill='%23FFFFFF'%20opacity='0.7'/%3e%3c/svg%3e",$S=({children:l})=>{const{wallet:e,username:t,isTrusted:a,isRegistered:u}=Yi(),[x,p]=Pe.useState(!0);return Pe.useEffect(()=>{const E=setTimeout(()=>{p(!1)},5e3);return()=>clearTimeout(E)},[]),U.jsxs("div",{className:"min-h-screen bg-background text-foreground relative overflow-hidden",children:[x&&U.jsx(U.Fragment,{children:[...Array(10)].map((E,w)=>U.jsx("div",{className:"beer-bubble",style:{width:`${Math.random()*30+10}px`,height:`${Math.random()*30+10}px`,left:`${Math.random()*100}%`,bottom:`-${Math.random()*20+10}px`,opacity:Math.random()*.5+.1,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*5+5}s`}},w))}),U.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b border-border",children:U.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx("img",{src:S6,alt:"BeerCoin",className:"w-8 h-8 mr-2"}),U.jsx("h1",{className:"text-xl font-bold text-primary",children:"BeerCoin"})]}),e&&U.jsx("div",{className:"flex items-center",children:u?U.jsxs("div",{className:"flex items-center",children:[U.jsx("span",{className:"text-sm mr-2",children:t}),a&&U.jsx("span",{className:"bg-primary text-primary-foreground text-xs px-2 py-0.5 rounded-full",children:"Trusted"})]}):U.jsx("span",{className:"text-sm text-muted-foreground",children:"Not Registered"})})]})}),U.jsx("main",{className:"container mx-auto px-4 py-6 pb-24",children:l}),U.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-md border-t border-border py-2",children:U.jsx("div",{className:"container mx-auto px-4 text-center text-xs text-muted-foreground",children:U.jsx("p",{children:"BeerCoin DApp - Earn and share BEER tokens with friends"})})})]})},eT=()=>{const{createWallet:l,importWalletFromPrivateKey:e,importWalletFromMnemonic:t}=Yi(),[a,u]=Pe.useState("create"),[x,p]=Pe.useState(""),[E,w]=Pe.useState(""),[y,T]=Pe.useState(!1),[N,D]=Pe.useState(""),[L,P]=Pe.useState(""),k=async()=>{try{T(!0),D(""),P(""),await l(),P("Wallet created successfully!")}catch(re){D(re.message||"Failed to create wallet")}finally{T(!1)}},j=async()=>{try{if(T(!0),D(""),P(""),!x.trim()){D("Please enter a private key");return}await e(x),P("Wallet imported successfully!"),p("")}catch(re){D(re.message||"Failed to import wallet")}finally{T(!1)}},ee=async()=>{try{if(T(!0),D(""),P(""),!E.trim()){D("Please enter a mnemonic phrase");return}await t(E),P("Wallet imported successfully!"),w("")}catch(re){D(re.message||"Failed to import wallet")}finally{T(!1)}};return U.jsx("div",{className:"beer-container",children:U.jsxs("div",{className:"flex flex-col items-center justify-center",children:[U.jsx("img",{src:S6,alt:"BeerCoin",className:"w-24 h-24 mb-4"}),U.jsx("h1",{className:"beer-logo mb-2",children:"BeerCoin"}),U.jsx("p",{className:"text-center text-muted-foreground mb-8",children:"Create or import your wallet to start earning and sharing BEER tokens"}),U.jsxs("div",{className:"flex w-full mb-6 rounded-full bg-muted p-1",children:[U.jsx("button",{className:`flex-1 py-2 rounded-full text-sm font-medium transition-all ${a==="create"?"bg-primary text-primary-foreground":"text-foreground"}`,onClick:()=>u("create"),children:"Create New"}),U.jsx("button",{className:`flex-1 py-2 rounded-full text-sm font-medium transition-all ${a==="privateKey"?"bg-primary text-primary-foreground":"text-foreground"}`,onClick:()=>u("privateKey"),children:"Private Key"}),U.jsx("button",{className:`flex-1 py-2 rounded-full text-sm font-medium transition-all ${a==="mnemonic"?"bg-primary text-primary-foreground":"text-foreground"}`,onClick:()=>u("mnemonic"),children:"Mnemonic"})]}),a==="create"&&U.jsxs("div",{className:"w-full",children:[U.jsx("p",{className:"text-center mb-4",children:"Create a new wallet to start using BeerCoin. Your wallet will be stored securely in your browser."}),U.jsx("button",{className:"beer-button w-full",onClick:k,disabled:y,children:y?"Creating...":"Create New Wallet"})]}),a==="privateKey"&&U.jsxs("div",{className:"w-full",children:[U.jsx("p",{className:"text-center mb-4",children:"Import an existing wallet using your private key."}),U.jsx("input",{type:"password",className:"beer-input w-full mb-4",placeholder:"Enter private key (0x...)",value:x,onChange:re=>p(re.target.value)}),U.jsx("button",{className:"beer-button w-full",onClick:j,disabled:y||!x.trim(),children:y?"Importing...":"Import Wallet"})]}),a==="mnemonic"&&U.jsxs("div",{className:"w-full",children:[U.jsx("p",{className:"text-center mb-4",children:"Import an existing wallet using your 12-word recovery phrase."}),U.jsx("textarea",{className:"beer-input w-full mb-4 min-h-[100px]",placeholder:"Enter mnemonic phrase (12 words separated by spaces)",value:E,onChange:re=>w(re.target.value)}),U.jsx("button",{className:"beer-button w-full",onClick:ee,disabled:y||!E.trim(),children:y?"Importing...":"Import Wallet"})]}),N&&U.jsx("div",{className:"mt-4 p-3 bg-destructive/10 text-destructive rounded-lg text-center",children:N}),L&&U.jsx("div",{className:"mt-4 p-3 bg-primary/10 text-primary rounded-lg text-center",children:L}),U.jsx("p",{className:"text-xs text-muted-foreground mt-8 text-center",children:"Your wallet is stored locally in your browser. Make sure to back up your private key or mnemonic phrase. We never store your keys on our servers."})]})})},T6=()=>{const{wallet:l,isRegistered:e}=Yi(),[t,a]=Pe.useState(!0),[u,x]=Pe.useState(null),[p,E]=Pe.useState("0.0"),[w,y]=Pe.useState("0.0"),[T,N]=Pe.useState(null),[D,L]=Pe.useState(!1),[P,k]=Pe.useState("0.0"),[j,ee]=Pe.useState(0),[re,Z]=Pe.useState(0);Pe.useEffect(()=>{if(!l)return;(async()=>{try{a(!0),x(null);const ce=await rn.isDistributionActive();L(ce);const Fe=await rn.getBaseRewardRate();if(k(Fe),await ie(),e){const Le=await rn.getUserInfo(l.address);N(Le)}}catch(ce){console.error("Error fetching contract data:",ce),x(ce.message)}finally{a(!1)}})()},[l,e]),Pe.useEffect(()=>{if(!l)return;const ue=setInterval(()=>{ie()},Zf.pollingInterval);return()=>clearInterval(ue)},[l]);const ie=async()=>{if(l)try{const[ue,ce]=await Promise.all([rn.getBeerBalance(l.address),e?rn.getPendingRewards(l.address):"0.0"]);E(ue),y(ce)}catch(ue){console.error("Error refreshing balances:",ue)}},fe=async()=>{if(!(!l||!e))try{const ue=await rn.getUserInfo(l.address);N(ue)}catch(ue){console.error("Error refreshing user info:",ue)}};return{loading:t,error:u,beerBalance:p,pendingRewards:w,userInfo:T,distributionActive:D,baseRewardRate:P,totalUsers:j,totalTrustedUsers:re,refreshBalances:ie,refreshUserInfo:fe,claimRewards:async()=>{if(!l||!e)throw new Error("Not registered");try{const ue=await rn.claimRewards();return await ue.wait(),await ie(),await fe(),ue}catch(ue){throw console.error("Error claiming rewards:",ue),ue}},transferBeer:async(ue,ce)=>{if(!l)throw new Error("No wallet found");try{const Fe=await rn.transferBeer(ue,ce);return await Fe.wait(),await ie(),Fe}catch(Fe){throw console.error("Error transferring BEER:",Fe),Fe}}}},tT=()=>{const{wallet:l,clearWallet:e}=Yi(),[t,a]=Pe.useState(!1),[u,x]=Pe.useState(!1),[p,E]=Pe.useState("");if(!l)return null;const w=(N,D)=>{navigator.clipboard.writeText(N),E(D),setTimeout(()=>E(""),2e3)},y=N=>N?`${N.substring(0,6)}...${N.substring(N.length-4)}`:"",T=()=>{window.confirm("Are you sure you want to log out? Make sure you have backed up your wallet information.")&&e()};return U.jsxs("div",{className:"beer-card mb-6",children:[U.jsx("h2",{className:"text-xl font-bold mb-4",children:"Wallet Details"}),U.jsx("div",{className:"mb-4",children:U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Address:"}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("span",{className:"font-mono",children:y(l.address)}),U.jsx("button",{className:"ml-2 p-1 text-primary hover:text-primary/80",onClick:()=>w(l.address,"address"),children:p==="address"?"✓":"📋"})]})]})}),U.jsx("div",{className:"mb-4",children:U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Private Key:"}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("span",{className:"font-mono",children:t?y(l.privateKey):"••••••••••••••••"}),U.jsx("button",{className:"ml-2 p-1 text-primary hover:text-primary/80",onClick:()=>a(!t),children:t?"👁️":"👁️‍🗨️"}),U.jsx("button",{className:"ml-2 p-1 text-primary hover:text-primary/80",onClick:()=>w(l.privateKey,"privateKey"),children:p==="privateKey"?"✓":"📋"})]})]})}),l.mnemonic&&U.jsxs("div",{className:"mb-4",children:[U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Recovery Phrase:"}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("button",{className:"ml-2 p-1 text-primary hover:text-primary/80",onClick:()=>x(!u),children:u?"👁️":"👁️‍🗨️"}),U.jsx("button",{className:"ml-2 p-1 text-primary hover:text-primary/80",onClick:()=>w(l.mnemonic,"mnemonic"),children:p==="mnemonic"?"✓":"📋"})]})]}),u&&U.jsx("div",{className:"p-3 bg-muted rounded-lg mb-3",children:U.jsx("p",{className:"font-mono text-sm break-all",children:l.mnemonic})})]}),U.jsxs("div",{className:"mt-6",children:[U.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Backup Information"}),U.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Make sure to save your private key and recovery phrase in a secure location. You will need them to recover your wallet if you clear your browser data."}),U.jsx("button",{className:"beer-button-secondary w-full",onClick:T,children:"Log Out"})]})]})},Fg=()=>{const{wallet:l,balance:e,isRegistered:t,username:a,isTrusted:u}=Yi(),{beerBalance:x,pendingRewards:p,claimRewards:E,refreshBalances:w}=T6(),[y,T]=Pe.useState(!1),[N,D]=Pe.useState(!1),[L,P]=Pe.useState(""),[k,j]=Pe.useState("");if(!l)return null;const ee=async()=>{try{D(!0),P(""),j(""),await E(),j("Rewards claimed successfully!"),setTimeout(()=>{j("")},3e3)}catch(ie){P(ie.message||"Failed to claim rewards"),setTimeout(()=>{P("")},3e3)}finally{D(!1)}},re=async()=>{try{await w()}catch(ie){console.error("Error refreshing balances:",ie)}},Z=ie=>ie?`${ie.substring(0,6)}...${ie.substring(ie.length-4)}`:"";return U.jsxs("div",{children:[U.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[U.jsxs("div",{className:"beer-card",children:[U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("h3",{className:"text-lg font-medium",children:"BEER Balance"}),U.jsx("button",{onClick:re,className:"p-2 text-primary hover:text-primary/80",children:"🔄"})]}),U.jsxs("p",{className:"beer-balance mb-1",children:[parseFloat(x).toFixed(4)," BEER"]}),U.jsxs("p",{className:"text-sm text-muted-foreground",children:["≈ ",parseFloat(x).toFixed(2)," BEER"]})]}),t&&U.jsxs("div",{className:"beer-card",children:[U.jsx("h3",{className:"text-lg font-medium mb-2",children:"Pending Rewards"}),U.jsxs("p",{className:"beer-balance mb-1",children:[parseFloat(p).toFixed(4)," BEER"]}),U.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Claimable now"}),U.jsx("button",{className:"beer-button w-full",onClick:ee,disabled:N||parseFloat(p)<=0,children:N?"Claiming...":"Claim Rewards"})]}),U.jsxs("div",{className:"beer-card",children:[U.jsx("h3",{className:"text-lg font-medium mb-2",children:"xDAI Balance"}),U.jsxs("p",{className:"beer-balance mb-1",children:[parseFloat(e).toFixed(4)," xDAI"]}),U.jsx("p",{className:"text-sm text-muted-foreground",children:"For transaction fees"})]})]}),t?U.jsxs("div",{className:"beer-card mb-6",children:[U.jsx("h2",{className:"text-xl font-bold mb-4",children:"User Information"}),U.jsx("div",{className:"mb-4",children:U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Username:"}),U.jsx("span",{className:"font-medium",children:a})]})}),U.jsx("div",{className:"mb-4",children:U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Status:"}),U.jsx("span",{className:"font-medium",children:u?U.jsx("span",{className:"text-primary",children:"Trusted User"}):U.jsx("span",{children:"Regular User"})})]})}),U.jsx("div",{className:"mb-4",children:U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Wallet:"}),U.jsx("span",{className:"font-mono",children:Z(l.address)})]})})]}):U.jsxs("div",{className:"beer-card mb-6",children:[U.jsx("h2",{className:"text-xl font-bold mb-4",children:"Not Registered"}),U.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to register with a referral from a trusted user to start earning BEER tokens."}),U.jsx("button",{className:"beer-button w-full",onClick:()=>window.location.href="/register",children:"Register Now"})]}),U.jsx("button",{className:"beer-button-secondary w-full mb-6",onClick:()=>T(!y),children:y?"Hide Wallet Details":"Show Wallet Details"}),y&&U.jsx(tT,{}),L&&U.jsx("div",{className:"beer-toast bg-destructive text-destructive-foreground",children:L}),k&&U.jsx("div",{className:"beer-toast bg-primary text-primary-foreground",children:k})]})};var nT=Object.defineProperty,Hh=Object.getOwnPropertySymbols,N6=Object.prototype.hasOwnProperty,v6=Object.prototype.propertyIsEnumerable,L8=(l,e,t)=>e in l?nT(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Om=(l,e)=>{for(var t in e||(e={}))N6.call(e,t)&&L8(l,t,e[t]);if(Hh)for(var t of Hh(e))v6.call(e,t)&&L8(l,t,e[t]);return l},Im=(l,e)=>{var t={};for(var a in l)N6.call(l,a)&&e.indexOf(a)<0&&(t[a]=l[a]);if(l!=null&&Hh)for(var a of Hh(l))e.indexOf(a)<0&&v6.call(l,a)&&(t[a]=l[a]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pc;(l=>{const e=class At{constructor(w,y,T,N){if(this.version=w,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],w<At.MIN_VERSION||w>At.MAX_VERSION)throw new RangeError("Version value out of range");if(N<-1||N>7)throw new RangeError("Mask value out of range");this.size=w*4+17;let D=[];for(let P=0;P<this.size;P++)D.push(!1);for(let P=0;P<this.size;P++)this.modules.push(D.slice()),this.isFunction.push(D.slice());this.drawFunctionPatterns();const L=this.addEccAndInterleave(T);if(this.drawCodewords(L),N==-1){let P=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const j=this.getPenaltyScore();j<P&&(N=k,P=j),this.applyMask(k)}}u(0<=N&&N<=7),this.mask=N,this.applyMask(N),this.drawFormatBits(N),this.isFunction=[]}static encodeText(w,y){const T=l.QrSegment.makeSegments(w);return At.encodeSegments(T,y)}static encodeBinary(w,y){const T=l.QrSegment.makeBytes(w);return At.encodeSegments([T],y)}static encodeSegments(w,y,T=1,N=40,D=-1,L=!0){if(!(At.MIN_VERSION<=T&&T<=N&&N<=At.MAX_VERSION)||D<-1||D>7)throw new RangeError("Invalid value");let P,k;for(P=T;;P++){const Z=At.getNumDataCodewords(P,y)*8,ie=p.getTotalBits(w,P);if(ie<=Z){k=ie;break}if(P>=N)throw new RangeError("Data too long")}for(const Z of[At.Ecc.MEDIUM,At.Ecc.QUARTILE,At.Ecc.HIGH])L&&k<=At.getNumDataCodewords(P,Z)*8&&(y=Z);let j=[];for(const Z of w){t(Z.mode.modeBits,4,j),t(Z.numChars,Z.mode.numCharCountBits(P),j);for(const ie of Z.getData())j.push(ie)}u(j.length==k);const ee=At.getNumDataCodewords(P,y)*8;u(j.length<=ee),t(0,Math.min(4,ee-j.length),j),t(0,(8-j.length%8)%8,j),u(j.length%8==0);for(let Z=236;j.length<ee;Z^=253)t(Z,8,j);let re=[];for(;re.length*8<j.length;)re.push(0);return j.forEach((Z,ie)=>re[ie>>>3]|=Z<<7-(ie&7)),new At(P,y,re,D)}getModule(w,y){return 0<=w&&w<this.size&&0<=y&&y<this.size&&this.modules[y][w]}getModules(){return this.modules}drawFunctionPatterns(){for(let T=0;T<this.size;T++)this.setFunctionModule(6,T,T%2==0),this.setFunctionModule(T,6,T%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const w=this.getAlignmentPatternPositions(),y=w.length;for(let T=0;T<y;T++)for(let N=0;N<y;N++)T==0&&N==0||T==0&&N==y-1||T==y-1&&N==0||this.drawAlignmentPattern(w[T],w[N]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(w){const y=this.errorCorrectionLevel.formatBits<<3|w;let T=y;for(let D=0;D<10;D++)T=T<<1^(T>>>9)*1335;const N=(y<<10|T)^21522;u(N>>>15==0);for(let D=0;D<=5;D++)this.setFunctionModule(8,D,a(N,D));this.setFunctionModule(8,7,a(N,6)),this.setFunctionModule(8,8,a(N,7)),this.setFunctionModule(7,8,a(N,8));for(let D=9;D<15;D++)this.setFunctionModule(14-D,8,a(N,D));for(let D=0;D<8;D++)this.setFunctionModule(this.size-1-D,8,a(N,D));for(let D=8;D<15;D++)this.setFunctionModule(8,this.size-15+D,a(N,D));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let w=this.version;for(let T=0;T<12;T++)w=w<<1^(w>>>11)*7973;const y=this.version<<12|w;u(y>>>18==0);for(let T=0;T<18;T++){const N=a(y,T),D=this.size-11+T%3,L=Math.floor(T/3);this.setFunctionModule(D,L,N),this.setFunctionModule(L,D,N)}}drawFinderPattern(w,y){for(let T=-4;T<=4;T++)for(let N=-4;N<=4;N++){const D=Math.max(Math.abs(N),Math.abs(T)),L=w+N,P=y+T;0<=L&&L<this.size&&0<=P&&P<this.size&&this.setFunctionModule(L,P,D!=2&&D!=4)}}drawAlignmentPattern(w,y){for(let T=-2;T<=2;T++)for(let N=-2;N<=2;N++)this.setFunctionModule(w+N,y+T,Math.max(Math.abs(N),Math.abs(T))!=1)}setFunctionModule(w,y,T){this.modules[y][w]=T,this.isFunction[y][w]=!0}addEccAndInterleave(w){const y=this.version,T=this.errorCorrectionLevel;if(w.length!=At.getNumDataCodewords(y,T))throw new RangeError("Invalid argument");const N=At.NUM_ERROR_CORRECTION_BLOCKS[T.ordinal][y],D=At.ECC_CODEWORDS_PER_BLOCK[T.ordinal][y],L=Math.floor(At.getNumRawDataModules(y)/8),P=N-L%N,k=Math.floor(L/N);let j=[];const ee=At.reedSolomonComputeDivisor(D);for(let Z=0,ie=0;Z<N;Z++){let fe=w.slice(ie,ie+k-D+(Z<P?0:1));ie+=fe.length;const ae=At.reedSolomonComputeRemainder(fe,ee);Z<P&&fe.push(0),j.push(fe.concat(ae))}let re=[];for(let Z=0;Z<j[0].length;Z++)j.forEach((ie,fe)=>{(Z!=k-D||fe>=P)&&re.push(ie[Z])});return u(re.length==L),re}drawCodewords(w){if(w.length!=Math.floor(At.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let T=this.size-1;T>=1;T-=2){T==6&&(T=5);for(let N=0;N<this.size;N++)for(let D=0;D<2;D++){const L=T-D,k=(T+1&2)==0?this.size-1-N:N;!this.isFunction[k][L]&&y<w.length*8&&(this.modules[k][L]=a(w[y>>>3],7-(y&7)),y++)}}u(y==w.length*8)}applyMask(w){if(w<0||w>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let T=0;T<this.size;T++){let N;switch(w){case 0:N=(T+y)%2==0;break;case 1:N=y%2==0;break;case 2:N=T%3==0;break;case 3:N=(T+y)%3==0;break;case 4:N=(Math.floor(T/3)+Math.floor(y/2))%2==0;break;case 5:N=T*y%2+T*y%3==0;break;case 6:N=(T*y%2+T*y%3)%2==0;break;case 7:N=((T+y)%2+T*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][T]&&N&&(this.modules[y][T]=!this.modules[y][T])}}getPenaltyScore(){let w=0;for(let D=0;D<this.size;D++){let L=!1,P=0,k=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[D][j]==L?(P++,P==5?w+=At.PENALTY_N1:P>5&&w++):(this.finderPenaltyAddHistory(P,k),L||(w+=this.finderPenaltyCountPatterns(k)*At.PENALTY_N3),L=this.modules[D][j],P=1);w+=this.finderPenaltyTerminateAndCount(L,P,k)*At.PENALTY_N3}for(let D=0;D<this.size;D++){let L=!1,P=0,k=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][D]==L?(P++,P==5?w+=At.PENALTY_N1:P>5&&w++):(this.finderPenaltyAddHistory(P,k),L||(w+=this.finderPenaltyCountPatterns(k)*At.PENALTY_N3),L=this.modules[j][D],P=1);w+=this.finderPenaltyTerminateAndCount(L,P,k)*At.PENALTY_N3}for(let D=0;D<this.size-1;D++)for(let L=0;L<this.size-1;L++){const P=this.modules[D][L];P==this.modules[D][L+1]&&P==this.modules[D+1][L]&&P==this.modules[D+1][L+1]&&(w+=At.PENALTY_N2)}let y=0;for(const D of this.modules)y=D.reduce((L,P)=>L+(P?1:0),y);const T=this.size*this.size,N=Math.ceil(Math.abs(y*20-T*10)/T)-1;return u(0<=N&&N<=9),w+=N*At.PENALTY_N4,u(0<=w&&w<=2568888),w}getAlignmentPatternPositions(){if(this.version==1)return[];{const w=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(w*2-2))*2;let T=[6];for(let N=this.size-7;T.length<w;N-=y)T.splice(1,0,N);return T}}static getNumRawDataModules(w){if(w<At.MIN_VERSION||w>At.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*w+128)*w+64;if(w>=2){const T=Math.floor(w/7)+2;y-=(25*T-10)*T-55,w>=7&&(y-=36)}return u(208<=y&&y<=29648),y}static getNumDataCodewords(w,y){return Math.floor(At.getNumRawDataModules(w)/8)-At.ECC_CODEWORDS_PER_BLOCK[y.ordinal][w]*At.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][w]}static reedSolomonComputeDivisor(w){if(w<1||w>255)throw new RangeError("Degree out of range");let y=[];for(let N=0;N<w-1;N++)y.push(0);y.push(1);let T=1;for(let N=0;N<w;N++){for(let D=0;D<y.length;D++)y[D]=At.reedSolomonMultiply(y[D],T),D+1<y.length&&(y[D]^=y[D+1]);T=At.reedSolomonMultiply(T,2)}return y}static reedSolomonComputeRemainder(w,y){let T=y.map(N=>0);for(const N of w){const D=N^T.shift();T.push(0),y.forEach((L,P)=>T[P]^=At.reedSolomonMultiply(L,D))}return T}static reedSolomonMultiply(w,y){if(w>>>8||y>>>8)throw new RangeError("Byte out of range");let T=0;for(let N=7;N>=0;N--)T=T<<1^(T>>>7)*285,T^=(y>>>N&1)*w;return u(T>>>8==0),T}finderPenaltyCountPatterns(w){const y=w[1];u(y<=this.size*3);const T=y>0&&w[2]==y&&w[3]==y*3&&w[4]==y&&w[5]==y;return(T&&w[0]>=y*4&&w[6]>=y?1:0)+(T&&w[6]>=y*4&&w[0]>=y?1:0)}finderPenaltyTerminateAndCount(w,y,T){return w&&(this.finderPenaltyAddHistory(y,T),y=0),y+=this.size,this.finderPenaltyAddHistory(y,T),this.finderPenaltyCountPatterns(T)}finderPenaltyAddHistory(w,y){y[0]==0&&(w+=this.size),y.pop(),y.unshift(w)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l.QrCode=e;function t(E,w,y){if(w<0||w>31||E>>>w)throw new RangeError("Value out of range");for(let T=w-1;T>=0;T--)y.push(E>>>T&1)}function a(E,w){return(E>>>w&1)!=0}function u(E){if(!E)throw new Error("Assertion error")}const x=class Rn{constructor(w,y,T){if(this.mode=w,this.numChars=y,this.bitData=T,y<0)throw new RangeError("Invalid argument");this.bitData=T.slice()}static makeBytes(w){let y=[];for(const T of w)t(T,8,y);return new Rn(Rn.Mode.BYTE,w.length,y)}static makeNumeric(w){if(!Rn.isNumeric(w))throw new RangeError("String contains non-numeric characters");let y=[];for(let T=0;T<w.length;){const N=Math.min(w.length-T,3);t(parseInt(w.substring(T,T+N),10),N*3+1,y),T+=N}return new Rn(Rn.Mode.NUMERIC,w.length,y)}static makeAlphanumeric(w){if(!Rn.isAlphanumeric(w))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],T;for(T=0;T+2<=w.length;T+=2){let N=Rn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(T))*45;N+=Rn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(T+1)),t(N,11,y)}return T<w.length&&t(Rn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(T)),6,y),new Rn(Rn.Mode.ALPHANUMERIC,w.length,y)}static makeSegments(w){return w==""?[]:Rn.isNumeric(w)?[Rn.makeNumeric(w)]:Rn.isAlphanumeric(w)?[Rn.makeAlphanumeric(w)]:[Rn.makeBytes(Rn.toUtf8ByteArray(w))]}static makeEci(w){let y=[];if(w<0)throw new RangeError("ECI assignment value out of range");if(w<128)t(w,8,y);else if(w<16384)t(2,2,y),t(w,14,y);else if(w<1e6)t(6,3,y),t(w,21,y);else throw new RangeError("ECI assignment value out of range");return new Rn(Rn.Mode.ECI,0,y)}static isNumeric(w){return Rn.NUMERIC_REGEX.test(w)}static isAlphanumeric(w){return Rn.ALPHANUMERIC_REGEX.test(w)}getData(){return this.bitData.slice()}static getTotalBits(w,y){let T=0;for(const N of w){const D=N.mode.numCharCountBits(y);if(N.numChars>=1<<D)return 1/0;T+=4+D+N.bitData.length}return T}static toUtf8ByteArray(w){w=encodeURI(w);let y=[];for(let T=0;T<w.length;T++)w.charAt(T)!="%"?y.push(w.charCodeAt(T)):(y.push(parseInt(w.substring(T+1,T+3),16)),T+=2);return y}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=x;l.QrSegment=x})(pc||(pc={}));(l=>{(e=>{const t=class{constructor(u,x){this.ordinal=u,this.formatBits=x}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(l.QrCode||(l.QrCode={}))})(pc||(pc={}));(l=>{(e=>{const t=class{constructor(u,x){this.modeBits=u,this.numBitsCharCount=x}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(l.QrSegment||(l.QrSegment={}))})(pc||(pc={}));var w0=pc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var rT={L:w0.QrCode.Ecc.LOW,M:w0.QrCode.Ecc.MEDIUM,Q:w0.QrCode.Ecc.QUARTILE,H:w0.QrCode.Ecc.HIGH},R6=128,O6="L",I6="#FFFFFF",B6="#000000",D6=!1,M6=1,iT=4,sT=0,aT=.1;function _6(l,e=0){const t=[];return l.forEach(function(a,u){let x=null;a.forEach(function(p,E){if(!p&&x!==null){t.push(`M${x+e} ${u+e}h${E-x}v1H${x+e}z`),x=null;return}if(E===a.length-1){if(!p)return;x===null?t.push(`M${E+e},${u+e} h1v1H${E+e}z`):t.push(`M${x+e},${u+e} h${E+1-x}v1H${x+e}z`);return}p&&x===null&&(x=E)})}),t.join("")}function L6(l,e){return l.slice().map((t,a)=>a<e.y||a>=e.y+e.h?t:t.map((u,x)=>x<e.x||x>=e.x+e.w?u:!1))}function lT(l,e,t,a){if(a==null)return null;const u=l.length+t*2,x=Math.floor(e*aT),p=u/e,E=(a.width||x)*p,w=(a.height||x)*p,y=a.x==null?l.length/2-E/2:a.x*p,T=a.y==null?l.length/2-w/2:a.y*p,N=a.opacity==null?1:a.opacity;let D=null;if(a.excavate){let P=Math.floor(y),k=Math.floor(T),j=Math.ceil(E+y-P),ee=Math.ceil(w+T-k);D={x:P,y:k,w:j,h:ee}}const L=a.crossOrigin;return{x:y,y:T,h:w,w:E,excavation:D,opacity:N,crossOrigin:L}}function oT(l,e){return e!=null?Math.max(Math.floor(e),0):l?iT:sT}function U6({value:l,level:e,minVersion:t,includeMargin:a,marginSize:u,imageSettings:x,size:p,boostLevel:E}){let w=Jn.useMemo(()=>{const P=(Array.isArray(l)?l:[l]).reduce((k,j)=>(k.push(...w0.QrSegment.makeSegments(j)),k),[]);return w0.QrCode.encodeSegments(P,rT[e],t,void 0,void 0,E)},[l,e,t,E]);const{cells:y,margin:T,numCells:N,calculatedImageSettings:D}=Jn.useMemo(()=>{let L=w.getModules();const P=oT(a,u),k=L.length+P*2,j=lT(L,p,P,x);return{cells:L,margin:P,numCells:k,calculatedImageSettings:j}},[w,p,x,a,u]);return{qrcode:w,margin:T,cells:y,numCells:N,calculatedImageSettings:D}}var cT=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),uT=Jn.forwardRef(function(e,t){const a=e,{value:u,size:x=R6,level:p=O6,bgColor:E=I6,fgColor:w=B6,includeMargin:y=D6,minVersion:T=M6,boostLevel:N,marginSize:D,imageSettings:L}=a,k=Im(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=k,ee=Im(k,["style"]),re=L==null?void 0:L.src,Z=Jn.useRef(null),ie=Jn.useRef(null),fe=Jn.useCallback(De=>{Z.current=De,typeof t=="function"?t(De):t&&(t.current=De)},[t]),[ae,$]=Jn.useState(!1),{margin:ue,cells:ce,numCells:Fe,calculatedImageSettings:Le}=U6({value:u,level:p,minVersion:T,boostLevel:N,includeMargin:y,marginSize:D,imageSettings:L,size:x});Jn.useEffect(()=>{if(Z.current!=null){const De=Z.current,H=De.getContext("2d");if(!H)return;let V=ce;const J=ie.current,Ae=Le!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;Ae&&Le.excavation!=null&&(V=L6(ce,Le.excavation));const He=window.devicePixelRatio||1;De.height=De.width=x*He;const X=x/Fe*He;H.scale(X,X),H.fillStyle=E,H.fillRect(0,0,Fe,Fe),H.fillStyle=w,cT?H.fill(new Path2D(_6(V,ue))):ce.forEach(function(be,Ne){be.forEach(function(_e,ke){_e&&H.fillRect(ke+ue,Ne+ue,1,1)})}),Le&&(H.globalAlpha=Le.opacity),Ae&&H.drawImage(J,Le.x+ue,Le.y+ue,Le.w,Le.h)}}),Jn.useEffect(()=>{$(!1)},[re]);const Oe=Om({height:x,width:x},j);let Ge=null;return re!=null&&(Ge=Jn.createElement("img",{src:re,key:re,style:{display:"none"},onLoad:()=>{$(!0)},ref:ie,crossOrigin:Le==null?void 0:Le.crossOrigin})),Jn.createElement(Jn.Fragment,null,Jn.createElement("canvas",Om({style:Oe,height:x,width:x,ref:fe,role:"img"},ee)),Ge)});uT.displayName="QRCodeCanvas";var ip=Jn.forwardRef(function(e,t){const a=e,{value:u,size:x=R6,level:p=O6,bgColor:E=I6,fgColor:w=B6,includeMargin:y=D6,minVersion:T=M6,boostLevel:N,title:D,marginSize:L,imageSettings:P}=a,k=Im(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:ee,numCells:re,calculatedImageSettings:Z}=U6({value:u,level:p,minVersion:T,boostLevel:N,includeMargin:y,marginSize:L,imageSettings:P,size:x});let ie=ee,fe=null;P!=null&&Z!=null&&(Z.excavation!=null&&(ie=L6(ee,Z.excavation)),fe=Jn.createElement("image",{href:P.src,height:Z.h,width:Z.w,x:Z.x+j,y:Z.y+j,preserveAspectRatio:"none",opacity:Z.opacity,crossOrigin:Z.crossOrigin}));const ae=_6(ie,j);return Jn.createElement("svg",Om({height:x,width:x,viewBox:`0 0 ${re} ${re}`,ref:t,role:"img"},k),!!D&&Jn.createElement("title",null,D),Jn.createElement("path",{fill:E,d:`M0,0 h${re}v${re}H0z`,shapeRendering:"crispEdges"}),Jn.createElement("path",{fill:w,d:ae,shapeRendering:"crispEdges"}),fe)});ip.displayName="QRCodeSVG";const U8=()=>{const{wallet:l}=Yi(),[e,t]=Pe.useState(""),[a,u]=Pe.useState(!1),[x,p]=Pe.useState(!1),[E,w]=Pe.useState(""),[y,T]=Pe.useState(""),[N,D]=Pe.useState(!1),[L,P]=Pe.useState(1),k=async ie=>{if(!ie.trim()){D(!1);return}try{p(!0);const fe=await rn.isUsernameAvailable(ie);D(fe),w(fe?"":"Username is already taken")}catch(fe){console.error("Error checking username:",fe),w("Error checking username availability")}finally{p(!1)}},j=ie=>{const fe=ie.target.value;t(fe);const ae=setTimeout(()=>{k(fe)},500);return()=>clearTimeout(ae)},ee=ie=>{if(ie.preventDefault(),!e.trim()){w("Please enter a username");return}if(!N){w("Username is not available");return}localStorage.setItem(ar.USERNAME,e),P(2)},re=ie=>ie?`${ie.substring(0,6)}...${ie.substring(ie.length-4)}`:"",Z=()=>JSON.stringify({type:"registration",address:l.address,username:e,timestamp:Date.now()});return l?U.jsxs("div",{className:"beer-container",children:[L===1&&U.jsxs("div",{children:[U.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Join BeerCoin"}),U.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"Choose a username to start earning BEER tokens"}),U.jsxs("form",{onSubmit:ee,children:[U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm font-medium mb-1",children:"Choose a Username"}),U.jsx("input",{type:"text",className:`beer-input w-full ${e&&(N?"border-primary":"border-destructive")}`,placeholder:"Enter username",value:e,onChange:j,required:!0}),e&&N&&U.jsx("p",{className:"text-xs text-primary mt-1",children:"Username is available"}),e&&!N&&!x&&U.jsx("p",{className:"text-xs text-destructive mt-1",children:"Username is not available"})]}),U.jsx("button",{type:"submit",className:"beer-button w-full",disabled:!N||a||x,children:"Continue"})]}),E&&U.jsx("div",{className:"mt-4 p-3 bg-destructive/10 text-destructive rounded-lg text-center",children:E})]}),L===2&&U.jsxs("div",{children:[U.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Get Approved"}),U.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"Ask a trusted user to scan this QR code to approve your registration"}),U.jsx("div",{className:"beer-qr-container mb-6",children:U.jsx(ip,{value:Z(),size:Ws.size,level:Ws.errorCorrectionLevel,includeMargin:Ws.includeMargin,fgColor:Ws.color.dark,bgColor:Ws.color.light})}),U.jsxs("div",{className:"beer-card mb-6",children:[U.jsx("h3",{className:"text-lg font-medium mb-4",children:"Registration Details"}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Username:"}),U.jsx("span",{className:"font-medium",children:e})]})}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Your Address:"}),U.jsx("span",{className:"font-mono",children:re(l.address)})]})})]}),U.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Once approved, you'll start earning BEER tokens at a rate of 0.001 BEER per second. The trusted user will need to scan your QR code and approve your registration."}),U.jsx("button",{className:"beer-button-secondary w-full",onClick:()=>P(1),children:"Back"})]})]}):null},fT=({activePage:l,setActivePage:e})=>{const{wallet:t,isRegistered:a}=Yi(),[u,x]=Pe.useState(!1);if(!t)return null;const p=E=>{if(!a&&E!=="register"&&E!=="wallet"){x(!0),setTimeout(()=>x(!1),3e3);return}e(E)};return U.jsxs("nav",{className:"fixed bottom-12 left-0 right-0 z-20 flex justify-center",children:[U.jsxs("div",{className:"bg-card rounded-full shadow-lg border border-border p-1 flex space-x-1",children:[U.jsx("button",{className:`p-3 rounded-full ${l==="dashboard"?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,onClick:()=>p("dashboard"),children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),U.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),U.jsx("button",{className:`p-3 rounded-full ${l==="qr"?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,onClick:()=>p("qr"),children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("rect",{width:"6",height:"6",x:"3",y:"3",rx:"1"}),U.jsx("rect",{width:"6",height:"6",x:"15",y:"3",rx:"1"}),U.jsx("rect",{width:"6",height:"6",x:"3",y:"15",rx:"1"}),U.jsx("rect",{width:"6",height:"6",x:"15",y:"15",rx:"1"})]})}),U.jsx("button",{className:`p-3 rounded-full ${l==="scan"?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,onClick:()=>p("scan"),children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),U.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),U.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),U.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),U.jsx("rect",{width:"10",height:"10",x:"7",y:"7",rx:"1"})]})}),U.jsx("button",{className:`p-3 rounded-full ${l==="send"?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,onClick:()=>p("send"),children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),U.jsx("path",{d:"M22 2 11 13"})]})}),U.jsx("button",{className:`p-3 rounded-full ${l==="wallet"?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"}`,onClick:()=>p("wallet"),children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),U.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),U.jsx("path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z"})]})})]}),u&&U.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-card text-card-foreground px-4 py-2 rounded-lg shadow-lg border border-border text-sm whitespace-nowrap",children:"Registration required to access this feature"})]})},dT=()=>{const{wallet:l}=Yi(),{beerBalance:e,transferBeer:t}=T6(),[a,u]=Pe.useState(""),[x,p]=Pe.useState(""),[E,w]=Pe.useState(!1),[y,T]=Pe.useState(""),[N,D]=Pe.useState(""),[L,P]=Pe.useState(!1);if(!l)return null;const k=Z=>{const ie=Z.target.value;(ie===""||/^\d*\.?\d*$/.test(ie))&&p(ie)},j=Z=>{u(Z.target.value)},ee=Z=>{if(Z.preventDefault(),!a.trim()||!x.trim()){T("Please fill in all fields");return}if(!/^0x[a-fA-F0-9]{40}$/.test(a)){T("Invalid recipient address");return}const ie=parseFloat(x);if(isNaN(ie)||ie<=0){T("Invalid amount");return}if(ie>parseFloat(e)){T("Insufficient balance");return}T(""),P(!0)},re=async()=>{try{w(!0),T(""),await t(a,x),D(`Successfully sent ${x} BEER to ${a.substring(0,6)}...${a.substring(a.length-4)}`),u(""),p(""),P(!1),setTimeout(()=>{D("")},3e3)}catch(Z){console.error("Error sending BEER:",Z),T(Z.message||"Failed to send BEER")}finally{w(!1)}};return U.jsxs("div",{className:"beer-container",children:[U.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Send BEER"}),U.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"Send BEER tokens to other users"}),L?U.jsxs("div",{children:[U.jsxs("div",{className:"beer-card mb-6",children:[U.jsx("h3",{className:"text-lg font-medium mb-4",children:"Confirm Transaction"}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Recipient:"}),U.jsxs("span",{className:"font-mono",children:[a.substring(0,6),"...",a.substring(a.length-4)]})]})}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),U.jsxs("span",{className:"font-medium",children:[x," BEER"]})]})}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Network:"}),U.jsx("span",{children:"Gnosis Chain"})]})})]}),U.jsxs("div",{className:"flex space-x-4",children:[U.jsx("button",{className:"beer-button-secondary flex-1",onClick:()=>P(!1),disabled:E,children:"Back"}),U.jsx("button",{className:"beer-button flex-1",onClick:re,disabled:E,children:E?"Sending...":"Send BEER"})]}),y&&U.jsx("div",{className:"mt-4 p-3 bg-destructive/10 text-destructive rounded-lg text-center",children:y})]}):U.jsxs("form",{onSubmit:ee,children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient Address"}),U.jsx("input",{type:"text",className:"beer-input w-full",placeholder:"0x...",value:a,onChange:j,required:!0})]}),U.jsxs("div",{className:"mb-6",children:[U.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount"}),U.jsxs("div",{className:"relative",children:[U.jsx("input",{type:"text",className:"beer-input w-full pr-16",placeholder:"0.0",value:x,onChange:k,required:!0}),U.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:U.jsx("span",{className:"text-muted-foreground",children:"BEER"})})]}),U.jsxs("div",{className:"flex justify-between mt-1",children:[U.jsxs("span",{className:"text-xs text-muted-foreground",children:["Balance: ",parseFloat(e).toFixed(4)," BEER"]}),U.jsx("button",{type:"button",className:"text-xs text-primary",onClick:()=>p(e),children:"Max"})]})]}),U.jsx("button",{type:"submit",className:"beer-button w-full",disabled:E,children:"Continue"}),y&&U.jsx("div",{className:"mt-4 p-3 bg-destructive/10 text-destructive rounded-lg text-center",children:y})]}),N&&U.jsx("div",{className:"beer-toast bg-primary text-primary-foreground",children:N})]})},hT=()=>{const{wallet:l,isTrusted:e}=Yi(),[t,a]=Pe.useState(!1);if(!l)return null;const u=JSON.stringify({address:l.address,isTrusted:e||!1,timestamp:Date.now()}),x=()=>{navigator.clipboard.writeText(l.address),a(!0),setTimeout(()=>a(!1),2e3)},p=E=>E?`${E.substring(0,6)}...${E.substring(E.length-4)}`:"";return U.jsxs("div",{className:"beer-container",children:[U.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Your QR Code"}),U.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"Share this QR code with others to receive BEER tokens or to refer new users"}),U.jsx("div",{className:"beer-qr-container",children:U.jsx(ip,{value:u,size:Ws.size,level:Ws.errorCorrectionLevel,includeMargin:Ws.includeMargin,fgColor:Ws.color.dark,bgColor:Ws.color.light})}),U.jsxs("div",{className:"mt-6 mb-8",children:[U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"text-muted-foreground",children:"Your Address:"}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("span",{className:"font-mono",children:p(l.address)}),U.jsx("button",{className:"ml-2 p-1 text-primary hover:text-primary/80",onClick:x,children:t?"✓":"📋"})]})]}),U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Status:"}),U.jsx("span",{className:"font-medium",children:e?U.jsx("span",{className:"text-primary",children:"Trusted User"}):U.jsx("span",{children:"Regular User"})})]})]}),U.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[U.jsx("h3",{className:"font-medium mb-2",children:"How to use:"}),U.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[U.jsx("li",{children:"• If you're a trusted user, others can scan this QR code to register with your referral"}),U.jsx("li",{children:"• Anyone can scan this QR code to send you BEER tokens"}),U.jsx("li",{children:"• Share your QR code to grow your referral network"})]})]})]})};var Xe;(function(l){l[l.QR_CODE=0]="QR_CODE",l[l.AZTEC=1]="AZTEC",l[l.CODABAR=2]="CODABAR",l[l.CODE_39=3]="CODE_39",l[l.CODE_93=4]="CODE_93",l[l.CODE_128=5]="CODE_128",l[l.DATA_MATRIX=6]="DATA_MATRIX",l[l.MAXICODE=7]="MAXICODE",l[l.ITF=8]="ITF",l[l.EAN_13=9]="EAN_13",l[l.EAN_8=10]="EAN_8",l[l.PDF_417=11]="PDF_417",l[l.RSS_14=12]="RSS_14",l[l.RSS_EXPANDED=13]="RSS_EXPANDED",l[l.UPC_A=14]="UPC_A",l[l.UPC_E=15]="UPC_E",l[l.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var k8=new Map([[Xe.QR_CODE,"QR_CODE"],[Xe.AZTEC,"AZTEC"],[Xe.CODABAR,"CODABAR"],[Xe.CODE_39,"CODE_39"],[Xe.CODE_93,"CODE_93"],[Xe.CODE_128,"CODE_128"],[Xe.DATA_MATRIX,"DATA_MATRIX"],[Xe.MAXICODE,"MAXICODE"],[Xe.ITF,"ITF"],[Xe.EAN_13,"EAN_13"],[Xe.EAN_8,"EAN_8"],[Xe.PDF_417,"PDF_417"],[Xe.RSS_14,"RSS_14"],[Xe.RSS_EXPANDED,"RSS_EXPANDED"],[Xe.UPC_A,"UPC_A"],[Xe.UPC_E,"UPC_E"],[Xe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),P8;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.URL=1]="URL"})(P8||(P8={}));function xT(l){return Object.values(Xe).includes(l)}var Gh;(function(l){l[l.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",l[l.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Gh||(Gh={}));var gT=function(){function l(){}return l.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",l.SCAN_DEFAULT_FPS=2,l.DEFAULT_DISABLE_FLIP=!1,l.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,l.DEFAULT_SUPPORTED_SCAN_TYPE=[Gh.SCAN_TYPE_CAMERA,Gh.SCAN_TYPE_FILE],l}(),k6=function(){function l(e,t){this.format=e,this.formatName=t}return l.prototype.toString=function(){return this.formatName},l.create=function(e){if(!k8.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new l(e,k8.get(e))},l}(),F8=function(){function l(){}return l.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},l.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},l}(),Bm;(function(l){l[l.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",l[l.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",l[l.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Bm||(Bm={}));var mT=function(){function l(){}return l.createFrom=function(e){return{errorMessage:e,type:Bm.UNKWOWN_ERROR}},l}(),pT=function(){function l(e){this.verbose=e}return l.prototype.log=function(e){this.verbose&&console.log(e)},l.prototype.warn=function(e){this.verbose&&console.warn(e)},l.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},l.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},l}();function Ea(l){return typeof l>"u"||l===null}var A0=function(){function l(){}return l.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},l.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},l.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},l.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},l.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},l.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},l.scannerPaused=function(){return"Scanner paused"},l}(),P6=function(){function l(){}return l.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var a=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(u),p=Object.keys(e),E=0,w=p;E<w.length;E++){var y=w[E];if(x.has(y))return t.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},l}(),Wf={exports:{}},bT=Wf.exports,H8;function yT(){return H8||(H8=1,function(l,e){(function(t,a){a(e)})(bT,function(t){function a(O){return O==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,r){O.__proto__=r}||function(O,r){for(var s in r)r.hasOwnProperty(s)&&(O[s]=r[s])};function x(O,r){u(O,r);function s(){this.constructor=O}O.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function p(O,r){var s=Object.setPrototypeOf;s?s(O,r):O.__proto__=r}function E(O,r){r===void 0&&(r=O.constructor);var s=Error.captureStackTrace;s&&s(O,r)}var w=function(O){x(r,O);function r(s){var o=this.constructor,f=O.call(this,s)||this;return Object.defineProperty(f,"name",{value:o.name,enumerable:!1}),p(f,o.prototype),E(f),f}return r}(Error);class y extends w{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}y.kind="Exception";class T extends y{}T.kind="ArgumentException";class N extends y{}N.kind="IllegalArgumentException";class D{constructor(r){if(this.binarizer=r,r===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,f){const d=this.binarizer.getLuminanceSource().crop(r,s,o,f);return new D(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends y{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class P{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(r,s,o,f,d){for(;d--;)o[f++]=r[s++]}static currentTimeMillis(){return Date.now()}}class j extends y{}j.kind="IndexOutOfBoundsException";class ee extends j{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}ee.kind="ArrayIndexOutOfBoundsException";class re{static fill(r,s){for(let o=0,f=r.length;o<f;o++)r[o]=s}static fillWithin(r,s,o,f){re.rangeCheck(r.length,s,o);for(let d=s;d<o;d++)r[d]=f}static rangeCheck(r,s,o){if(s>o)throw new N("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new ee(s);if(o>r)throw new ee(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(d=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(d=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,f=r.length;o<f;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const f=o-s,d=new Int32Array(f);return k.arraycopy(r,s,d,0,f),d}static binarySearch(r,s,o){o===void 0&&(o=re.numberComparator);let f=0,d=r.length-1;for(;f<=d;){const g=d+f>>1,m=o(s,r[g]);if(m>0)f=g+1;else if(m<0)d=g-1;else return g}return-f-1}static numberComparator(r,s){return r-s}}class Z{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}Z.MIN_VALUE_32_BITS=-2147483648,Z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ie{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=ie.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=ie.makeArray(r);k.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let f=Math.floor(r/32),d=o[f];d&=~((1<<(r&31))-1);const g=o.length;for(;d===0;){if(++f===g)return s;d=o[f]}const m=f*32+Z.numberOfTrailingZeros(d);return m>s?s:m}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let f=Math.floor(r/32),d=~o[f];d&=~((1<<(r&31))-1);const g=o.length;for(;d===0;){if(++f===g)return s;d=~o[f]}const m=f*32+Z.numberOfTrailingZeros(d);return m>s?s:m}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new N;if(s===r)return;s--;const o=Math.floor(r/32),f=Math.floor(s/32),d=this.bits;for(let g=o;g<=f;g++){const m=g>o?0:r&31,S=(2<<(g<f?31:s&31))-(1<<m);d[g]|=S}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new N;if(s===r)return!0;s--;const f=Math.floor(r/32),d=Math.floor(s/32),g=this.bits;for(let m=f;m<=d;m++){const A=m>f?0:r&31,v=(2<<(m<d?31:s&31))-(1<<A)&4294967295;if((g[m]&v)!==(o?v:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new N("Sizes don't match");const s=this.bits;for(let o=0,f=s.length;o<f;o++)s[o]^=r.bits[o]}toBytes(r,s,o,f){for(let d=0;d<f;d++){let g=0;for(let m=0;m<8;m++)this.get(r)&&(g|=1<<7-m),r++;s[o+d]=g}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,f=this.bits;for(let d=0;d<o;d++){let g=f[d];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,r[s-d]=g}if(this.size!==o*32){const d=o*32-this.size;let g=r[0]>>>d;for(let m=1;m<o;m++){const A=r[m];g|=A<<32-d,r[m-1]=g,g=A>>>d}r[o-1]=g}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof ie))return!1;const s=r;return this.size===s.size&&re.equals(this.bits,s.bits)}hashCode(){return 31*this.size+re.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)(s&7)===0&&(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new ie(this.size,this.bits.slice())}}var fe;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(fe||(fe={}));var ae=fe;class $ extends y{static getFormatInstance(){return new $}}$.kind="FormatException";var ue;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(ue||(ue={}));class ce{constructor(r,s,o,...f){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=f,ce.VALUE_IDENTIFIER_TO_ECI.set(r,this),ce.NAME_TO_ECI.set(o,this);const d=this.values;for(let g=0,m=d.length;g!==m;g++){const A=d[g];ce.VALUES_TO_ECI.set(A,this)}for(const g of f)ce.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new $("incorect value");const s=ce.VALUES_TO_ECI.get(r);if(s===void 0)throw new $("incorect value");return s}static getCharacterSetECIByName(r){const s=ce.NAME_TO_ECI.get(r);if(s===void 0)throw new $("incorect value");return s}equals(r){if(!(r instanceof ce))return!1;const s=r;return this.getName()===s.getName()}}ce.VALUE_IDENTIFIER_TO_ECI=new Map,ce.VALUES_TO_ECI=new Map,ce.NAME_TO_ECI=new Map,ce.Cp437=new ce(ue.Cp437,Int32Array.from([0,2]),"Cp437"),ce.ISO8859_1=new ce(ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ce.ISO8859_2=new ce(ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ce.ISO8859_3=new ce(ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ce.ISO8859_4=new ce(ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ce.ISO8859_5=new ce(ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ce.ISO8859_6=new ce(ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ce.ISO8859_7=new ce(ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ce.ISO8859_8=new ce(ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ce.ISO8859_9=new ce(ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ce.ISO8859_10=new ce(ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ce.ISO8859_11=new ce(ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ce.ISO8859_13=new ce(ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ce.ISO8859_14=new ce(ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ce.ISO8859_15=new ce(ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ce.ISO8859_16=new ce(ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ce.SJIS=new ce(ue.SJIS,20,"SJIS","Shift_JIS"),ce.Cp1250=new ce(ue.Cp1250,21,"Cp1250","windows-1250"),ce.Cp1251=new ce(ue.Cp1251,22,"Cp1251","windows-1251"),ce.Cp1252=new ce(ue.Cp1252,23,"Cp1252","windows-1252"),ce.Cp1256=new ce(ue.Cp1256,24,"Cp1256","windows-1256"),ce.UnicodeBigUnmarked=new ce(ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ce.UTF8=new ce(ue.UTF8,26,"UTF8","UTF-8"),ce.ASCII=new ce(ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ce.Big5=new ce(ue.Big5,28,"Big5"),ce.GB18030=new ce(ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ce.EUC_KR=new ce(ue.EUC_KR,30,"EUC_KR","EUC-KR");class Fe extends y{}Fe.kind="UnsupportedOperationException";class Le{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!Le.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof ce?r:ce.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(Le.isDecodeFallbackSupported(o)){let f="";for(let d=0,g=r.length;d<g;d++){let m=r[d].toString(16);m.length<2&&(m="0"+m),f+="%"+m}return decodeURIComponent(f)}if(o.equals(ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Fe(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(ce.UTF8)||r.equals(ce.ISO8859_1)||r.equals(ce.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),f=[];for(let d=0;d<o.length;d++)f.push(o[d].charCodeAt(0));return new Uint8Array(f)}}class Oe{static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return Le.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(ae.CHARACTER_SET)!==void 0)return s.get(ae.CHARACTER_SET).toString();const o=r.length;let f=!0,d=!0,g=!0,m=0,A=0,S=0,v=0,B=0,M=0,G=0,K=0,W=0,se=0,ge=0;const Ie=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let Me=0;Me<o&&(f||d||g);Me++){const Re=r[Me]&255;g&&(m>0?(Re&128)===0?g=!1:m--:(Re&128)!==0&&((Re&64)===0?g=!1:(m++,(Re&32)===0?A++:(m++,(Re&16)===0?S++:(m++,(Re&8)===0?v++:g=!1))))),f&&(Re>127&&Re<160?f=!1:Re>159&&(Re<192||Re===215||Re===247)&&ge++),d&&(B>0?Re<64||Re===127||Re>252?d=!1:B--:Re===128||Re===160||Re>239?d=!1:Re>160&&Re<224?(M++,K=0,G++,G>W&&(W=G)):Re>127?(B++,G=0,K++,K>se&&(se=K)):(G=0,K=0))}return g&&m>0&&(g=!1),d&&B>0&&(d=!1),g&&(Ie||A+S+v>0)?Oe.UTF8:d&&(Oe.ASSUME_SHIFT_JIS||W>=3||se>=3)?Oe.SHIFT_JIS:f&&d?W===2&&M===2||ge*10>=o?Oe.SHIFT_JIS:Oe.ISO88591:f?Oe.ISO88591:d?Oe.SHIFT_JIS:g?Oe.UTF8:Oe.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function f(g,m,A,S,v,B){if(g==="%%")return"%";if(s[++o]===void 0)return;g=S?parseInt(S.substr(1)):void 0;let M=v?parseInt(v.substr(1)):void 0,G;switch(B){case"s":G=s[o];break;case"c":G=s[o][0];break;case"f":G=parseFloat(s[o]).toFixed(g);break;case"p":G=parseFloat(s[o]).toPrecision(g);break;case"e":G=parseFloat(s[o]).toExponential(g);break;case"x":G=parseInt(s[o]).toString(M||16);break;case"d":G=parseFloat(parseInt(s[o],M||10).toPrecision(g)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(M);let K=parseInt(A),W=A&&A[0]+""=="0"?"0":" ";for(;G.length<K;)G=m!==void 0?G+W:W+G;return G}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(d,f)}static getBytes(r,s){return Le.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}Oe.SHIFT_JIS=ce.SJIS.getName(),Oe.GB2312="GB2312",Oe.ISO88591=ce.ISO8859_1.getName(),Oe.EUC_JP="EUC_JP",Oe.UTF8=ce.UTF8.getName(),Oe.PLATFORM_DEFAULT_ENCODING=Oe.UTF8,Oe.ASSUME_SHIFT_JIS=!1;class Ge{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Oe.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let f=s;s<s+o;f++)this.append(r[f]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class De{constructor(r,s,o,f){if(this.width=r,this.height=s,this.rowSize=o,this.bits=f,s==null&&(s=r),this.height=s,r<1||s<1)throw new N("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,f=new De(o,s);for(let d=0;d<s;d++){const g=r[d];for(let m=0;m<o;m++)g[m]&&f.set(m,d)}return f}static parseFromString(r,s,o){if(r===null)throw new N("stringRepresentation cannot be null");const f=new Array(r.length);let d=0,g=0,m=-1,A=0,S=0;for(;S<r.length;)if(r.charAt(S)===`
`||r.charAt(S)==="\r"){if(d>g){if(m===-1)m=d-g;else if(d-g!==m)throw new N("row lengths do not match");g=d,A++}S++}else if(r.substring(S,S+s.length)===s)S+=s.length,f[d]=!0,d++;else if(r.substring(S,S+o.length)===o)S+=o.length,f[d]=!1,d++;else throw new N("illegal character encountered: "+r.substring(S));if(d>g){if(m===-1)m=d-g;else if(d-g!==m)throw new N("row lengths do not match");A++}const v=new De(m,A);for(let B=0;B<d;B++)f[B]&&v.set(Math.floor(B%m),Math.floor(B/m));return v}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new N("input matrix dimensions do not match");const s=new ie(Math.floor(this.width/32)+1),o=this.rowSize,f=this.bits;for(let d=0,g=this.height;d<g;d++){const m=d*o,A=r.getRow(d,s).getBitArray();for(let S=0;S<o;S++)f[m+S]^=A[S]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,f){if(s<0||r<0)throw new N("Left and top must be nonnegative");if(f<1||o<1)throw new N("Height and width must be at least 1");const d=r+o,g=s+f;if(g>this.height||d>this.width)throw new N("The region must fit inside the matrix");const m=this.rowSize,A=this.bits;for(let S=s;S<g;S++){const v=S*m;for(let B=r;B<d;B++)A[v+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new ie(this.width):s.clear();const o=this.rowSize,f=this.bits,d=r*o;for(let g=0;g<o;g++)s.setBulk(g*32,f[d+g]);return s}setRow(r,s){k.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new ie(r),f=new ie(r);for(let d=0,g=Math.floor((s+1)/2);d<g;d++)o=this.getRow(d,o),f=this.getRow(s-1-d,f),o.reverse(),f.reverse(),this.setRow(d,f),this.setRow(s-1-d,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,f=this.bits;let d=r,g=s,m=-1,A=-1;for(let S=0;S<s;S++)for(let v=0;v<o;v++){const B=f[S*o+v];if(B!==0){if(S<g&&(g=S),S>A&&(A=S),v*32<d){let M=0;for(;(B<<31-M&4294967295)===0;)M++;v*32+M<d&&(d=v*32+M)}if(v*32+31>m){let M=31;for(;!(B>>>M);)M--;v*32+M>m&&(m=v*32+M)}}}return m<d||A<g?null:Int32Array.from([d,g,m-d+1,A-g+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const f=o/r;let d=o%r*32;const g=s[o];let m=0;for(;(g<<31-m&4294967295)===0;)m++;return d+=m,Int32Array.from([d,f])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const f=Math.floor(o/r);let d=Math.floor(o%r)*32;const g=s[o];let m=31;for(;!(g>>>m);)m--;return d+=m,Int32Array.from([d,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof De))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&re.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+re.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let f=new Ge;for(let d=0,g=this.height;d<g;d++){for(let m=0,A=this.width;m<A;m++)f.append(this.get(m,d)?r:s);f.append(o)}return f.toString()}clone(){return new De(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends y{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class V extends P{constructor(r){super(r),this.luminances=V.EMPTY,this.buckets=new Int32Array(V.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),f=o.getWidth();s==null||s.getSize()<f?s=new ie(f):s.clear(),this.initArrays(f);const d=o.getRow(r,this.luminances),g=this.buckets;for(let A=0;A<f;A++)g[(d[A]&255)>>V.LUMINANCE_SHIFT]++;const m=V.estimateBlackPoint(g);if(f<3)for(let A=0;A<f;A++)(d[A]&255)<m&&s.set(A);else{let A=d[0]&255,S=d[1]&255;for(let v=1;v<f-1;v++){const B=d[v+1]&255;(S*4-A-B)/2<m&&s.set(v),A=S,S=B}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),f=new De(s,o);this.initArrays(s);const d=this.buckets;for(let A=1;A<5;A++){const S=Math.floor(o*A/5),v=r.getRow(S,this.luminances),B=Math.floor(s*4/5);for(let M=Math.floor(s/5);M<B;M++){const G=v[M]&255;d[G>>V.LUMINANCE_SHIFT]++}}const g=V.estimateBlackPoint(d),m=r.getMatrix();for(let A=0;A<o;A++){const S=A*s;for(let v=0;v<s;v++)(m[S+v]&255)<g&&f.set(v,A)}return f}createBinarizer(r){return new V(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<V.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,f=0,d=0;for(let v=0;v<s;v++)r[v]>d&&(f=v,d=r[v]),r[v]>o&&(o=r[v]);let g=0,m=0;for(let v=0;v<s;v++){const B=v-f,M=r[v]*B*B;M>m&&(g=v,m=M)}if(f>g){const v=f;f=g,g=v}if(g-f<=s/16)throw new H;let A=g-1,S=-1;for(let v=g-1;v>f;v--){const B=v-f,M=B*B*(g-v)*(o-r[v]);M>S&&(A=v,S=M)}return A<<V.LUMINANCE_SHIFT}}V.LUMINANCE_BITS=5,V.LUMINANCE_SHIFT=8-V.LUMINANCE_BITS,V.LUMINANCE_BUCKETS=1<<V.LUMINANCE_BITS,V.EMPTY=Uint8ClampedArray.from([0]);class J extends V{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=J.MINIMUM_DIMENSION&&o>=J.MINIMUM_DIMENSION){const f=r.getMatrix();let d=s>>J.BLOCK_SIZE_POWER;(s&J.BLOCK_SIZE_MASK)!==0&&d++;let g=o>>J.BLOCK_SIZE_POWER;(o&J.BLOCK_SIZE_MASK)!==0&&g++;const m=J.calculateBlackPoints(f,d,g,s,o),A=new De(s,o);J.calculateThresholdForBlock(f,d,g,s,o,m,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new J(r)}static calculateThresholdForBlock(r,s,o,f,d,g,m){const A=d-J.BLOCK_SIZE,S=f-J.BLOCK_SIZE;for(let v=0;v<o;v++){let B=v<<J.BLOCK_SIZE_POWER;B>A&&(B=A);const M=J.cap(v,2,o-3);for(let G=0;G<s;G++){let K=G<<J.BLOCK_SIZE_POWER;K>S&&(K=S);const W=J.cap(G,2,s-3);let se=0;for(let Ie=-2;Ie<=2;Ie++){const Me=g[M+Ie];se+=Me[W-2]+Me[W-1]+Me[W]+Me[W+1]+Me[W+2]}const ge=se/25;J.thresholdBlock(r,K,B,ge,f,m)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,f,d,g){for(let m=0,A=o*d+s;m<J.BLOCK_SIZE;m++,A+=d)for(let S=0;S<J.BLOCK_SIZE;S++)(r[A+S]&255)<=f&&g.set(s+S,o+m)}static calculateBlackPoints(r,s,o,f,d){const g=d-J.BLOCK_SIZE,m=f-J.BLOCK_SIZE,A=new Array(o);for(let S=0;S<o;S++){A[S]=new Int32Array(s);let v=S<<J.BLOCK_SIZE_POWER;v>g&&(v=g);for(let B=0;B<s;B++){let M=B<<J.BLOCK_SIZE_POWER;M>m&&(M=m);let G=0,K=255,W=0;for(let ge=0,Ie=v*f+M;ge<J.BLOCK_SIZE;ge++,Ie+=f){for(let Me=0;Me<J.BLOCK_SIZE;Me++){const Re=r[Ie+Me]&255;G+=Re,Re<K&&(K=Re),Re>W&&(W=Re)}if(W-K>J.MIN_DYNAMIC_RANGE)for(ge++,Ie+=f;ge<J.BLOCK_SIZE;ge++,Ie+=f)for(let Me=0;Me<J.BLOCK_SIZE;Me++)G+=r[Ie+Me]&255}let se=G>>J.BLOCK_SIZE_POWER*2;if(W-K<=J.MIN_DYNAMIC_RANGE&&(se=K/2,S>0&&B>0)){const ge=(A[S-1][B]+2*A[S][B-1]+A[S-1][B-1])/4;K<ge&&(se=ge)}A[S][B]=se}}return A}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class Ae{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,f){throw new Fe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Fe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Fe("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new Ge;for(let o=0;o<this.height;o++){const f=this.getRow(o,r);for(let d=0;d<this.width;d++){const g=f[d]&255;let m;g<64?m="#":g<128?m="+":g<192?m=".":m=" ",s.append(m)}s.append(`
`)}return s.toString()}}class He extends Ae{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),f=this.getWidth();for(let d=0;d<f;d++)o[d]=255-(o[d]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let f=0;f<s;f++)o[f]=255-(r[f]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,f){return new He(this.delegate.crop(r,s,o,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new He(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new He(this.delegate.rotateCounterClockwise45())}}class X extends Ae{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=X.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return X.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const f=new Uint8ClampedArray(s*o);for(let d=0,g=0,m=r.length;d<m;d+=4,g++){let A;if(r[d+3]===0)A=255;else{const v=r[d],B=r[d+1],M=r[d+2];A=306*v+601*B+117*M+512>>10}f[g]=A}return f}getRow(r,s){if(r<0||r>=this.getHeight())throw new N("Requested row is outside the image: "+r);const o=this.getWidth(),f=r*o;return s===null?s=this.buffer.slice(f,f+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(f,f+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,f){return super.crop(r,s,o,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),f=r*X.DEGREE_TO_RADIANS,d=this.canvas.width,g=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(f))*d+Math.abs(Math.sin(f))*g),A=Math.ceil(Math.abs(Math.sin(f))*d+Math.abs(Math.cos(f))*g);return s.width=m,s.height=A,o.translate(m/2,A/2),o.rotate(f),o.drawImage(this.canvas,d/-2,g/-2),this.buffer=X.makeBufferFromCanvasImageData(s),this}invert(){return new He(this)}}X.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||Z1||self||window||void 0)&&(globalThis||Z1||self||window||void 0).__awaiter||function(O,r,s,o){function f(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function m(v){try{S(o.next(v))}catch(B){g(B)}}function A(v){try{S(o.throw(v))}catch(B){g(B)}}function S(v){v.done?d(v.value):f(v.value).then(m,A)}S((o=o.apply(O,r||[])).next())})};class _e{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const f=o.kind==="video"?"videoinput":o.kind;if(f!=="videoinput")continue;const d=o.deviceId||o.id,g=o.label||`Video device ${s.length+1}`,m=o.groupId,A={deviceId:d,label:g,kind:f,groupId:m};s.push(A)}return s})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new be(s.deviceId,s.label))})}findDeviceById(r){return Ne(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return Ne(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const f={video:o};return yield this.decodeOnceFromConstraints(f,s)})}decodeOnceFromConstraints(r,s){return Ne(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return Ne(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return Ne(this,void 0,void 0,function*(){let f;r?f={deviceId:{exact:r}}:f={facingMode:"environment"};const d={video:f};return yield this.decodeFromConstraints(d,s,o)})}decodeFromConstraints(r,s,o){return Ne(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(f,s,o)})}decodeFromStream(r,s,o){return Ne(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(f,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return Ne(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new T(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new T(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new T("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new T("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new T("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new T("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new T("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new T("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new T("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new T("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(o,s);return o.src=r,f}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const f=(d,g)=>{if(this._stopAsyncDecode){g(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(r);d(m)}catch(m){const A=s&&m instanceof H,v=(m instanceof L||m instanceof $)&&o;if(A||v)return setTimeout(f,this._timeBetweenDecodingAttempts,d,g);g(m)}};return new Promise((d,g)=>f(d,g))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(r);s(f,null),setTimeout(o,this.timeBetweenScansMillis)}catch(f){s(null,f);const d=f instanceof L||f instanceof $,g=f instanceof H;(d||g)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new X(s),f=new J(o);return new D(f)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,f;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,f=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,f=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=f+"px",s.width=o,s.height=f,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(r,s,o=s==null?0:8*s.length,f,d,g=k.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=f,this.format=d,this.timestamp=g,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=f,this.format=d,this.resultMetadata=null,g==null?this.timestamp=k.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);k.arraycopy(s,0,o,0,s.length),k.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ct;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ct||(ct={}));var ve=ct,sn;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(sn||(sn={}));var it=sn;class An{constructor(r,s,o,f,d=-1,g=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=f,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=g,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Cr{exp(r){return this.expTable[r]}log(r){if(r===0)throw new N;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class En{constructor(r,s){if(s.length===0)throw new N;this.field=r;const o=s.length;if(o>1&&s[0]===0){let f=1;for(;f<o&&s[f]===0;)f++;f===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-f),k.arraycopy(s,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let g=0,m=s.length;g!==m;g++){const A=s[g];o=Cr.addOrSubtract(o,A)}return o}o=s[0];const f=s.length,d=this.field;for(let g=1;g<f;g++)o=Cr.addOrSubtract(d.multiply(r,o),s[g]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const g=s;s=o,o=g}let f=new Int32Array(o.length);const d=o.length-s.length;k.arraycopy(o,0,f,0,d);for(let g=d;g<o.length;g++)f[g]=Cr.addOrSubtract(s[g-d],o[g]);return new En(this.field,f)}multiply(r){if(!this.field.equals(r.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,f=r.coefficients,d=f.length,g=new Int32Array(o+d-1),m=this.field;for(let A=0;A<o;A++){const S=s[A];for(let v=0;v<d;v++)g[A+v]=Cr.addOrSubtract(g[A+v],m.multiply(S,f[v]))}return new En(m,g)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,f=new Int32Array(s),d=this.coefficients;for(let g=0;g<s;g++)f[g]=o.multiply(d[g],r);return new En(o,f)}multiplyByMonomial(r,s){if(r<0)throw new N;if(s===0)return this.field.getZero();const o=this.coefficients,f=o.length,d=new Int32Array(f+r),g=this.field;for(let m=0;m<f;m++)d[m]=g.multiply(o[m],s);return new En(g,d)}divide(r){if(!this.field.equals(r.field))throw new N("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new N("Divide by 0");const s=this.field;let o=s.getZero(),f=this;const d=r.getCoefficient(r.getDegree()),g=s.inverse(d);for(;f.getDegree()>=r.getDegree()&&!f.isZero();){const m=f.getDegree()-r.getDegree(),A=s.multiply(f.getCoefficient(f.getDegree()),g),S=r.multiplyByMonomial(m,A),v=s.buildMonomial(m,A);o=o.addOrSubtract(v),f=f.addOrSubtract(S)}return[o,f]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const f=this.field.log(o);f===0?r+="1":f===1?r+="a":(r+="a^",r+=f)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class kr extends y{}kr.kind="ArithmeticException";class st extends Cr{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const f=new Int32Array(s);let d=1;for(let m=0;m<s;m++)f[m]=d,d*=2,d>=s&&(d^=r,d&=s-1);this.expTable=f;const g=new Int32Array(s);for(let m=0;m<s-1;m++)g[f[m]]=m;this.logTable=g,this.zero=new En(this,Int32Array.from([0])),this.one=new En(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new N;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new En(this,o)}inverse(r){if(r===0)throw new kr;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Z.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class ur extends y{}ur.kind="ReedSolomonException";class Pr extends y{}Pr.kind="IllegalStateException";class ms{constructor(r){this.field=r}decode(r,s){const o=this.field,f=new En(o,r),d=new Int32Array(s);let g=!0;for(let G=0;G<s;G++){const K=f.evaluateAt(o.exp(G+o.getGeneratorBase()));d[d.length-1-G]=K,K!==0&&(g=!1)}if(g)return;const m=new En(o,d),A=this.runEuclideanAlgorithm(o.buildMonomial(s,1),m,s),S=A[0],v=A[1],B=this.findErrorLocations(S),M=this.findErrorMagnitudes(v,B);for(let G=0;G<B.length;G++){const K=r.length-1-o.log(B[G]);if(K<0)throw new ur("Bad error location");r[K]=st.addOrSubtract(r[K],M[G])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const G=r;r=s,s=G}const f=this.field;let d=r,g=s,m=f.getZero(),A=f.getOne();for(;g.getDegree()>=(o/2|0);){let G=d,K=m;if(d=g,m=A,d.isZero())throw new ur("r_{i-1} was zero");g=G;let W=f.getZero();const se=d.getCoefficient(d.getDegree()),ge=f.inverse(se);for(;g.getDegree()>=d.getDegree()&&!g.isZero();){const Ie=g.getDegree()-d.getDegree(),Me=f.multiply(g.getCoefficient(g.getDegree()),ge);W=W.addOrSubtract(f.buildMonomial(Ie,Me)),g=g.addOrSubtract(d.multiplyByMonomial(Ie,Me))}if(A=W.multiply(m).addOrSubtract(K),g.getDegree()>=d.getDegree())throw new Pr("Division algorithm failed to reduce polynomial?")}const S=A.getCoefficient(0);if(S===0)throw new ur("sigmaTilde(0) was zero");const v=f.inverse(S),B=A.multiplyScalar(v),M=g.multiplyScalar(v);return[B,M]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let f=0;const d=this.field;for(let g=1;g<d.getSize()&&f<s;g++)r.evaluateAt(g)===0&&(o[f]=d.inverse(g),f++);if(f!==s)throw new ur("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,f=new Int32Array(o),d=this.field;for(let g=0;g<o;g++){const m=d.inverse(s[g]);let A=1;for(let S=0;S<o;S++)if(g!==S){const v=d.multiply(s[S],m),B=(v&1)===0?v|1:v&-2;A=d.multiply(A,B)}f[g]=d.multiply(r.evaluateAt(m),d.inverse(A)),d.getGeneratorBase()!==0&&(f[g]=d.multiply(f[g],m))}return f}}var Yt;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(Yt||(Yt={}));class Qt{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),f=this.correctBits(o),d=Qt.convertBoolArrayToByteArray(f),g=Qt.getEncodedData(f),m=new An(d,g,null,null);return m.setNumBits(f.length),m}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=Yt.UPPER,f=Yt.UPPER,d="",g=0;for(;g<s;)if(f===Yt.BINARY){if(s-g<5)break;let m=Qt.readCode(r,g,5);if(g+=5,m===0){if(s-g<11)break;m=Qt.readCode(r,g,11)+31,g+=11}for(let A=0;A<m;A++){if(s-g<8){g=s;break}const S=Qt.readCode(r,g,8);d+=Oe.castAsNonUtf8Char(S),g+=8}f=o}else{let m=f===Yt.DIGIT?4:5;if(s-g<m)break;let A=Qt.readCode(r,g,m);g+=m;let S=Qt.getCharacter(f,A);S.startsWith("CTRL_")?(o=f,f=Qt.getTable(S.charAt(5)),S.charAt(6)==="L"&&(o=f)):(d+=S,f=o)}return d}static getTable(r){switch(r){case"L":return Yt.LOWER;case"P":return Yt.PUNCT;case"M":return Yt.MIXED;case"D":return Yt.DIGIT;case"B":return Yt.BINARY;case"U":default:return Yt.UPPER}}static getCharacter(r,s){switch(r){case Yt.UPPER:return Qt.UPPER_TABLE[s];case Yt.LOWER:return Qt.LOWER_TABLE[s];case Yt.MIXED:return Qt.MIXED_TABLE[s];case Yt.PUNCT:return Qt.PUNCT_TABLE[s];case Yt.DIGIT:return Qt.DIGIT_TABLE[s];default:throw new Pr("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=st.AZTEC_DATA_10):(o=12,s=st.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),d=r.length/o;if(d<f)throw new $;let g=r.length%o,m=new Int32Array(d);for(let M=0;M<d;M++,g+=o)m[M]=Qt.readCode(r,g,o);try{new ms(s).decode(m,d-f)}catch(M){throw new $(M)}let A=(1<<o)-1,S=0;for(let M=0;M<f;M++){let G=m[M];if(G===0||G===A)throw new $;(G===1||G===A-1)&&S++}let v=new Array(f*o-S),B=0;for(let M=0;M<f;M++){let G=m[M];if(G===1||G===A-1)v.fill(G>1,B,B+o-1),B+=o-1;else for(let K=o-1;K>=0;--K)v[B++]=(G&1<<K)!==0}return v}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),f=(s?11:14)+o*4,d=new Int32Array(f),g=new Array(this.totalBitsInLayer(o,s));if(s)for(let m=0;m<d.length;m++)d[m]=m;else{let m=f+1+2*Z.truncDivision(Z.truncDivision(f,2)-1,15),A=f/2,S=Z.truncDivision(m,2);for(let v=0;v<A;v++){let B=v+Z.truncDivision(v,15);d[A-v-1]=S-B-1,d[A+v]=S+B+1}}for(let m=0,A=0;m<o;m++){let S=(o-m)*4+(s?9:12),v=m*2,B=f-1-v;for(let M=0;M<S;M++){let G=M*2;for(let K=0;K<2;K++)g[A+G+K]=r.get(d[v+K],d[v+M]),g[A+2*S+G+K]=r.get(d[v+M],d[B-K]),g[A+4*S+G+K]=r.get(d[B-K],d[B-M]),g[A+6*S+G+K]=r.get(d[B-M],d[v+K])}A+=S*8}return g}static readCode(r,s,o){let f=0;for(let d=s;d<s+o;d++)f<<=1,r[d]&&(f|=1);return f}static readByte(r,s){let o=r.length-s;return o>=8?Qt.readCode(r,s,8):Qt.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=Qt.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Qt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Qt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Qt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Qt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Qt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Et{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,f){const d=r-o,g=s-f;return Math.sqrt(d*d+g*g)}static sum(r){let s=0;for(let o=0,f=r.length;o!==f;o++){const d=r[o];s+=d}return s}}class no{static floatToIntBits(r){return r}}no.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ye{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Ye){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*no.floatToIntBits(this.x)+no.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),f=this.distance(r[0],r[2]);let d,g,m;if(o>=s&&o>=f?(g=r[0],d=r[1],m=r[2]):f>=o&&f>=s?(g=r[1],d=r[0],m=r[2]):(g=r[2],d=r[0],m=r[1]),this.crossProductZ(d,g,m)<0){const A=d;d=m,m=A}r[0]=d,r[1]=g,r[2]=m}static distance(r,s){return Et.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const f=s.x,d=s.y;return(o.x-f)*(r.y-d)-(o.y-d)*(r.x-f)}}class Ac{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class ku extends Ac{constructor(r,s,o,f,d){super(r,s),this.compact=o,this.nbDatablocks=f,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qi{constructor(r,s,o,f){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=Qi.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),f==null&&(f=r.getHeight()/2|0);const d=s/2|0;if(this.leftInit=o-d,this.rightInit=o+d,this.upInit=f-d,this.downInit=f+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,f=this.downInit,d=!1,g=!0,m=!1,A=!1,S=!1,v=!1,B=!1;const M=this.width,G=this.height;for(;g;){g=!1;let K=!0;for(;(K||!A)&&s<M;)K=this.containsBlackPoint(o,f,s,!1),K?(s++,g=!0,A=!0):A||s++;if(s>=M){d=!0;break}let W=!0;for(;(W||!S)&&f<G;)W=this.containsBlackPoint(r,s,f,!0),W?(f++,g=!0,S=!0):S||f++;if(f>=G){d=!0;break}let se=!0;for(;(se||!v)&&r>=0;)se=this.containsBlackPoint(o,f,r,!1),se?(r--,g=!0,v=!0):v||r--;if(r<0){d=!0;break}let ge=!0;for(;(ge||!B)&&o>=0;)ge=this.containsBlackPoint(r,s,o,!0),ge?(o--,g=!0,B=!0):B||o--;if(o<0){d=!0;break}g&&(m=!0)}if(!d&&m){const K=s-r;let W=null;for(let Me=1;W===null&&Me<K;Me++)W=this.getBlackPointOnSegment(r,f-Me,r+Me,f);if(W==null)throw new H;let se=null;for(let Me=1;se===null&&Me<K;Me++)se=this.getBlackPointOnSegment(r,o+Me,r+Me,o);if(se==null)throw new H;let ge=null;for(let Me=1;ge===null&&Me<K;Me++)ge=this.getBlackPointOnSegment(s,o+Me,s-Me,o);if(ge==null)throw new H;let Ie=null;for(let Me=1;Ie===null&&Me<K;Me++)Ie=this.getBlackPointOnSegment(s,f-Me,s-Me,f);if(Ie==null)throw new H;return this.centerEdges(Ie,W,ge,se)}else throw new H}getBlackPointOnSegment(r,s,o,f){const d=Et.round(Et.distance(r,s,o,f)),g=(o-r)/d,m=(f-s)/d,A=this.image;for(let S=0;S<d;S++){const v=Et.round(r+S*g),B=Et.round(s+S*m);if(A.get(v,B))return new Ye(v,B)}return null}centerEdges(r,s,o,f){const d=r.getX(),g=r.getY(),m=s.getX(),A=s.getY(),S=o.getX(),v=o.getY(),B=f.getX(),M=f.getY(),G=Qi.CORR;return d<this.width/2?[new Ye(B-G,M+G),new Ye(m+G,A+G),new Ye(S-G,v-G),new Ye(d+G,g-G)]:[new Ye(B+G,M+G),new Ye(m+G,A-G),new Ye(S-G,v+G),new Ye(d-G,g-G)]}containsBlackPoint(r,s,o,f){const d=this.image;if(f){for(let g=r;g<=s;g++)if(d.get(g,o))return!0}else for(let g=r;g<=s;g++)if(d.get(o,g))return!0;return!1}}Qi.INIT_SIZE=10,Qi.CORR=1;class Pu{static checkAndNudgePoints(r,s){const o=r.getWidth(),f=r.getHeight();let d=!0;for(let g=0;g<s.length&&d;g+=2){const m=Math.floor(s[g]),A=Math.floor(s[g+1]);if(m<-1||m>o||A<-1||A>f)throw new H;d=!1,m===-1?(s[g]=0,d=!0):m===o&&(s[g]=o-1,d=!0),A===-1?(s[g+1]=0,d=!0):A===f&&(s[g+1]=f-1,d=!0)}d=!0;for(let g=s.length-2;g>=0&&d;g-=2){const m=Math.floor(s[g]),A=Math.floor(s[g+1]);if(m<-1||m>o||A<-1||A>f)throw new H;d=!1,m===-1?(s[g]=0,d=!0):m===o&&(s[g]=o-1,d=!0),A===-1?(s[g+1]=0,d=!0):A===f&&(s[g+1]=f-1,d=!0)}}}class fr{constructor(r,s,o,f,d,g,m,A,S){this.a11=r,this.a21=s,this.a31=o,this.a12=f,this.a22=d,this.a32=g,this.a13=m,this.a23=A,this.a33=S}static quadrilateralToQuadrilateral(r,s,o,f,d,g,m,A,S,v,B,M,G,K,W,se){const ge=fr.quadrilateralToSquare(r,s,o,f,d,g,m,A);return fr.squareToQuadrilateral(S,v,B,M,G,K,W,se).times(ge)}transformPoints(r){const s=r.length,o=this.a11,f=this.a12,d=this.a13,g=this.a21,m=this.a22,A=this.a23,S=this.a31,v=this.a32,B=this.a33;for(let M=0;M<s;M+=2){const G=r[M],K=r[M+1],W=d*G+A*K+B;r[M]=(o*G+g*K+S)/W,r[M+1]=(f*G+m*K+v)/W}}transformPointsWithValues(r,s){const o=this.a11,f=this.a12,d=this.a13,g=this.a21,m=this.a22,A=this.a23,S=this.a31,v=this.a32,B=this.a33,M=r.length;for(let G=0;G<M;G++){const K=r[G],W=s[G],se=d*K+A*W+B;r[G]=(o*K+g*W+S)/se,s[G]=(f*K+m*W+v)/se}}static squareToQuadrilateral(r,s,o,f,d,g,m,A){const S=r-o+d-m,v=s-f+g-A;if(S===0&&v===0)return new fr(o-r,d-o,r,f-s,g-f,s,0,0,1);{const B=o-d,M=m-d,G=f-g,K=A-g,W=B*K-M*G,se=(S*K-M*v)/W,ge=(B*v-S*G)/W;return new fr(o-r+se*o,m-r+ge*m,r,f-s+se*f,A-s+ge*A,s,se,ge,1)}}static quadrilateralToSquare(r,s,o,f,d,g,m,A){return fr.squareToQuadrilateral(r,s,o,f,d,g,m,A).buildAdjoint()}buildAdjoint(){return new fr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new fr(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Sr extends Pu{sampleGrid(r,s,o,f,d,g,m,A,S,v,B,M,G,K,W,se,ge,Ie,Me){const Re=fr.quadrilateralToQuadrilateral(f,d,g,m,A,S,v,B,M,G,K,W,se,ge,Ie,Me);return this.sampleGridWithTransform(r,s,o,Re)}sampleGridWithTransform(r,s,o,f){if(s<=0||o<=0)throw new H;const d=new De(s,o),g=new Float32Array(2*s);for(let m=0;m<o;m++){const A=g.length,S=m+.5;for(let v=0;v<A;v+=2)g[v]=v/2+.5,g[v+1]=S;f.transformPoints(g),Pu.checkAndNudgePoints(r,g);try{for(let v=0;v<A;v+=2)r.get(Math.floor(g[v]),Math.floor(g[v+1]))&&d.set(v/2,m)}catch{throw new H}}return d}}class dr{static setGridSampler(r){dr.gridSampler=r}static getInstance(){return dr.gridSampler}}dr.gridSampler=new Sr;class Ht{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new Ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Pd{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let g=o[0];o[0]=o[2],o[2]=g}this.extractParameters(o);let f=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),d=this.getMatrixCornerPoints(o);return new ku(f,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new H;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let f=0;for(let g=0;g<4;g++){let m=o[(this.shift+g)%4];this.compact?(f<<=7,f+=m>>1&127):(f<<=10,f+=(m>>2&992)+(m>>1&31))}let d=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(r,s){let o=0;r.forEach((f,d,g)=>{let m=(f>>s-2<<1)+(f&1);o=(o<<3)+m}),o=((o&1)<<11)+(o>>1);for(let f=0;f<4;f++)if(Z.bitCount(o^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new H}getCorrectedParameterData(r,s){let o,f;s?(o=7,f=2):(o=10,f=4);let d=o-f,g=new Int32Array(o);for(let A=o-1;A>=0;--A)g[A]=r&15,r>>=4;try{new ms(st.AZTEC_PARAM).decode(g,d)}catch{throw new H}let m=0;for(let A=0;A<f;A++)m=(m<<4)+g[A];return m}getBullsEyeCorners(r){let s=r,o=r,f=r,d=r,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(s,g,1,-1),M=this.getFirstDifferent(o,g,1,1),G=this.getFirstDifferent(f,g,-1,1),K=this.getFirstDifferent(d,g,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(K,B)*this.nbCenterLayers/(this.distancePoint(d,s)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(B,M,G,K))break}s=B,o=M,f=G,d=K,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let m=new Ye(s.getX()+.5,s.getY()-.5),A=new Ye(o.getX()+.5,o.getY()+.5),S=new Ye(f.getX()-.5,f.getY()+.5),v=new Ye(d.getX()-.5,d.getY()-.5);return this.expandSquare([m,A,S,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,f;try{let m=new Qi(this.image).detect();r=m[0],s=m[1],o=m[2],f=m[3]}catch{let A=this.image.getWidth()/2,S=this.image.getHeight()/2;r=this.getFirstDifferent(new Ht(A+7,S-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Ht(A+7,S+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Ht(A-7,S+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Ht(A-7,S-7),!1,-1,-1).toResultPoint()}let d=Et.round((r.getX()+f.getX()+s.getX()+o.getX())/4),g=Et.round((r.getY()+f.getY()+s.getY()+o.getY())/4);try{let m=new Qi(this.image,15,d,g).detect();r=m[0],s=m[1],o=m[2],f=m[3]}catch{r=this.getFirstDifferent(new Ht(d+7,g-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Ht(d+7,g+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Ht(d-7,g+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Ht(d-7,g-7),!1,-1,-1).toResultPoint()}return d=Et.round((r.getX()+f.getX()+s.getX()+o.getX())/4),g=Et.round((r.getY()+f.getY()+s.getY()+o.getY())/4),new Ht(d,g)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,f,d){let g=dr.getInstance(),m=this.getDimension(),A=m/2-this.nbCenterLayers,S=m/2+this.nbCenterLayers;return g.sampleGrid(r,m,m,A,A,S,A,S,S,A,S,s.getX(),s.getY(),o.getX(),o.getY(),f.getX(),f.getY(),d.getX(),d.getY())}sampleLine(r,s,o){let f=0,d=this.distanceResultPoint(r,s),g=d/o,m=r.getX(),A=r.getY(),S=g*(s.getX()-r.getX())/d,v=g*(s.getY()-r.getY())/d;for(let B=0;B<o;B++)this.image.get(Et.round(m+B*S),Et.round(A+B*v))&&(f|=1<<o-B-1);return f}isWhiteOrBlackRectangle(r,s,o,f){let d=3;r=new Ht(r.getX()-d,r.getY()+d),s=new Ht(s.getX()-d,s.getY()-d),o=new Ht(o.getX()+d,o.getY()-d),f=new Ht(f.getX()+d,f.getY()+d);let g=this.getColor(f,r);if(g===0)return!1;let m=this.getColor(r,s);return m!==g||(m=this.getColor(s,o),m!==g)?!1:(m=this.getColor(o,f),m===g)}getColor(r,s){let o=this.distancePoint(r,s),f=(s.getX()-r.getX())/o,d=(s.getY()-r.getY())/o,g=0,m=r.getX(),A=r.getY(),S=this.image.get(r.getX(),r.getY()),v=Math.ceil(o);for(let M=0;M<v;M++)m+=f,A+=d,this.image.get(Et.round(m),Et.round(A))!==S&&g++;let B=g/o;return B>.1&&B<.9?0:B<=.1===S?1:-1}getFirstDifferent(r,s,o,f){let d=r.getX()+o,g=r.getY()+f;for(;this.isValid(d,g)&&this.image.get(d,g)===s;)d+=o,g+=f;for(d-=o,g-=f;this.isValid(d,g)&&this.image.get(d,g)===s;)d+=o;for(d-=o;this.isValid(d,g)&&this.image.get(d,g)===s;)g+=f;return g-=f,new Ht(d,g)}expandSquare(r,s,o){let f=o/(2*s),d=r[0].getX()-r[2].getX(),g=r[0].getY()-r[2].getY(),m=(r[0].getX()+r[2].getX())/2,A=(r[0].getY()+r[2].getY())/2,S=new Ye(m+f*d,A+f*g),v=new Ye(m-f*d,A-f*g);d=r[1].getX()-r[3].getX(),g=r[1].getY()-r[3].getY(),m=(r[1].getX()+r[3].getX())/2,A=(r[1].getY()+r[3].getY())/2;let B=new Ye(m+f*d,A+f*g),M=new Ye(m-f*d,A-f*g);return[S,B,v,M]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=Et.round(r.getX()),o=Et.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return Et.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return Et.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Z.truncDivision(this.nbLayers-4,8)+1)+15}}class Ec{decode(r,s=null){let o=null,f=new Pd(r.getBlackMatrix()),d=null,g=null;try{let v=f.detectMirror(!1);d=v.getPoints(),this.reportFoundResultPoints(s,d),g=new Qt().decode(v)}catch(v){o=v}if(g==null)try{let v=f.detectMirror(!0);d=v.getPoints(),this.reportFoundResultPoints(s,d),g=new Qt().decode(v)}catch(v){throw o??v}let m=new ke(g.getText(),g.getRawBytes(),g.getNumBits(),d,ve.AZTEC,k.currentTimeMillis()),A=g.getByteSegments();A!=null&&m.putMetadata(it.BYTE_SEGMENTS,A);let S=g.getECLevel();return S!=null&&m.putMetadata(it.ERROR_CORRECTION_LEVEL,S),m}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(ae.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((f,d,g)=>{o.foundPossibleResultPoint(f)})}}reset(){}}class hx extends _e{constructor(r=500){super(new Ec,r)}}class cn{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(ae.TRY_HARDER)===!0&&r.isRotateSupported()){const d=r.rotateCounterClockwise(),g=this.doDecode(d,s),m=g.getResultMetadata();let A=270;m!==null&&m.get(it.ORIENTATION)===!0&&(A=A+m.get(it.ORIENTATION)%360),g.putMetadata(it.ORIENTATION,A);const S=g.getResultPoints();if(S!==null){const v=d.getHeight();for(let B=0;B<S.length;B++)S[B]=new Ye(v-S[B].getY()-1,S[B].getX())}return g}else throw new H}}reset(){}doDecode(r,s){const o=r.getWidth(),f=r.getHeight();let d=new ie(o);const g=s&&s.get(ae.TRY_HARDER)===!0,m=Math.max(1,f>>(g?8:5));let A;g?A=f:A=15;const S=Math.trunc(f/2);for(let v=0;v<A;v++){const B=Math.trunc((v+1)/2),M=(v&1)===0,G=S+m*(M?B:-B);if(G<0||G>=f)break;try{d=r.getBlackRow(G,d)}catch{continue}for(let K=0;K<2;K++){if(K===1&&(d.reverse(),s&&s.get(ae.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;s.forEach((se,ge)=>W.set(ge,se)),W.delete(ae.NEED_RESULT_POINT_CALLBACK),s=W}try{const W=this.decodeRow(G,d,s);if(K===1){W.putMetadata(it.ORIENTATION,180);const se=W.getResultPoints();se!==null&&(se[0]=new Ye(o-se[0].getX()-1,se[0].getY()),se[1]=new Ye(o-se[1].getX()-1,se[1].getY()))}return W}catch{}}}throw new H}static recordPattern(r,s,o){const f=o.length;for(let S=0;S<f;S++)o[S]=0;const d=r.getSize();if(s>=d)throw new H;let g=!r.get(s),m=0,A=s;for(;A<d;){if(r.get(A)!==g)o[m]++;else{if(++m===f)break;o[m]=1,g=!g}A++}if(!(m===f||m===f-1&&A===d))throw new H}static recordPatternInReverse(r,s,o){let f=o.length,d=r.get(s);for(;s>0&&f>=0;)r.get(--s)!==d&&(f--,d=!d);if(f>=0)throw new H;cn.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const f=r.length;let d=0,g=0;for(let S=0;S<f;S++)d+=r[S],g+=s[S];if(d<g)return Number.POSITIVE_INFINITY;const m=d/g;o*=m;let A=0;for(let S=0;S<f;S++){const v=r[S],B=s[S]*m,M=v>B?v-B:B-v;if(M>o)return Number.POSITIVE_INFINITY;A+=M}return A/d}}class Ue extends cn{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let f=0,d=Int32Array.from([0,0,0,0,0,0]),g=o,m=!1;const A=6;for(let S=o;S<s;S++)if(r.get(S)!==m)d[f]++;else{if(f===A-1){let v=Ue.MAX_AVG_VARIANCE,B=-1;for(let M=Ue.CODE_START_A;M<=Ue.CODE_START_C;M++){const G=cn.patternMatchVariance(d,Ue.CODE_PATTERNS[M],Ue.MAX_INDIVIDUAL_VARIANCE);G<v&&(v=G,B=M)}if(B>=0&&r.isRange(Math.max(0,g-(S-g)/2),g,!1))return Int32Array.from([g,S,B]);g+=d[0]+d[1],d=d.slice(2,d.length-1),d[f-1]=0,d[f]=0,f--}else f++;d[f]=1,m=!m}throw new H}static decodeCode(r,s,o){cn.recordPattern(r,o,s);let f=Ue.MAX_AVG_VARIANCE,d=-1;for(let g=0;g<Ue.CODE_PATTERNS.length;g++){const m=Ue.CODE_PATTERNS[g],A=this.patternMatchVariance(s,m,Ue.MAX_INDIVIDUAL_VARIANCE);A<f&&(f=A,d=g)}if(d>=0)return d;throw new H}decodeRow(r,s,o){const f=o&&o.get(ae.ASSUME_GS1)===!0,d=Ue.findStartPattern(s),g=d[2];let m=0;const A=new Uint8Array(20);A[m++]=g;let S;switch(g){case Ue.CODE_START_A:S=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:S=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:S=Ue.CODE_CODE_C;break;default:throw new $}let v=!1,B=!1,M="",G=d[0],K=d[1];const W=Int32Array.from([0,0,0,0,0,0]);let se=0,ge=0,Ie=g,Me=0,Re=!0,ot=!1,at=!1;for(;!v;){const Os=B;switch(B=!1,se=ge,ge=Ue.decodeCode(s,W,K),A[m++]=ge,ge!==Ue.CODE_STOP&&(Re=!0),ge!==Ue.CODE_STOP&&(Me++,Ie+=Me*ge),G=K,K+=W.reduce((ci,Zd)=>ci+Zd,0),ge){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new $}switch(S){case Ue.CODE_CODE_A:if(ge<64)at===ot?M+=String.fromCharCode(32+ge):M+=String.fromCharCode(32+ge+128),at=!1;else if(ge<96)at===ot?M+=String.fromCharCode(ge-64):M+=String.fromCharCode(ge+64),at=!1;else switch(ge!==Ue.CODE_STOP&&(Re=!1),ge){case Ue.CODE_FNC_1:f&&(M.length===0?M+="]C1":M+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!ot&&at?(ot=!0,at=!1):ot&&at?(ot=!1,at=!1):at=!0;break;case Ue.CODE_SHIFT:B=!0,S=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:S=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:S=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:v=!0;break}break;case Ue.CODE_CODE_B:if(ge<96)at===ot?M+=String.fromCharCode(32+ge):M+=String.fromCharCode(32+ge+128),at=!1;else switch(ge!==Ue.CODE_STOP&&(Re=!1),ge){case Ue.CODE_FNC_1:f&&(M.length===0?M+="]C1":M+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!ot&&at?(ot=!0,at=!1):ot&&at?(ot=!1,at=!1):at=!0;break;case Ue.CODE_SHIFT:B=!0,S=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:S=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:S=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:v=!0;break}break;case Ue.CODE_CODE_C:if(ge<100)ge<10&&(M+="0"),M+=ge;else switch(ge!==Ue.CODE_STOP&&(Re=!1),ge){case Ue.CODE_FNC_1:f&&(M.length===0?M+="]C1":M+="");break;case Ue.CODE_CODE_A:S=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:S=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:v=!0;break}break}Os&&(S=S===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const hr=K-G;if(K=s.getNextUnset(K),!s.isRange(K,Math.min(s.getSize(),K+(K-G)/2),!1))throw new H;if(Ie-=Me*se,Ie%103!==se)throw new L;const Wr=M.length;if(Wr===0)throw new H;Wr>0&&Re&&(S===Ue.CODE_CODE_C?M=M.substring(0,Wr-2):M=M.substring(0,Wr-1));const Rr=(d[1]+d[0])/2,Vt=G+hr/2,Zn=A.length,Or=new Uint8Array(Zn);for(let Os=0;Os<Zn;Os++)Or[Os]=A[Os];const aa=[new Ye(Rr,r),new Ye(Vt,r)];return new ke(M,Or,0,aa,ve.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class en extends cn{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let f=this.counters;f.fill(0),this.decodeRowResult="";let d=en.findAsteriskPattern(s,f),g=s.getNextSet(d[1]),m=s.getSize(),A,S;do{en.recordPattern(s,g,f);let W=en.toNarrowWidePattern(f);if(W<0)throw new H;A=en.patternToChar(W),this.decodeRowResult+=A,S=g;for(let se of f)g+=se;g=s.getNextSet(g)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let W of f)v+=W;let B=g-S-v;if(g!==m&&B*2<v)throw new H;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,se=0;for(let ge=0;ge<W;ge++)se+=en.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ge));if(this.decodeRowResult.charAt(W)!==en.ALPHABET_STRING.charAt(se%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new H;let M;this.extendedMode?M=en.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let G=(d[1]+d[0])/2,K=S+v/2;return new ke(M,null,0,[new Ye(G,r),new Ye(K,r)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),f=r.getNextSet(0),d=0,g=f,m=!1,A=s.length;for(let S=f;S<o;S++)if(r.get(S)!==m)s[d]++;else{if(d===A-1){if(this.toNarrowWidePattern(s)===en.ASTERISK_ENCODING&&r.isRange(Math.max(0,g-Math.floor((S-g)/2)),g,!1))return[g,S];g+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,m=!m}throw new H}static toNarrowWidePattern(r){let s=r.length,o=0,f;do{let d=2147483647;for(let A of r)A<d&&A>o&&(d=A);o=d,f=0;let g=0,m=0;for(let A=0;A<s;A++){let S=r[A];S>o&&(m|=1<<s-1-A,f++,g+=S)}if(f===3){for(let A=0;A<s&&f>0;A++){let S=r[A];if(S>o&&(f--,S*2>=g))return-1}return m}}while(f>3);return-1}static patternToChar(r){for(let s=0;s<en.CHARACTER_ENCODINGS.length;s++)if(en.CHARACTER_ENCODINGS[s]===r)return en.ALPHABET_STRING.charAt(s);if(r===en.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(r){let s=r.length,o="";for(let f=0;f<s;f++){let d=r.charAt(f);if(d==="+"||d==="$"||d==="%"||d==="/"){let g=r.charAt(f+1),m="\0";switch(d){case"+":if(g>="A"&&g<="Z")m=String.fromCharCode(g.charCodeAt(0)+32);else throw new $;break;case"$":if(g>="A"&&g<="Z")m=String.fromCharCode(g.charCodeAt(0)-64);else throw new $;break;case"%":if(g>="A"&&g<="E")m=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")m=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")m=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")m="\0";else if(g==="V")m="@";else if(g==="W")m="`";else if(g==="X"||g==="Y"||g==="Z")m="";else throw new $;break;case"/":if(g>="A"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")m=":";else throw new $;break}o+=m,f++}else o+=d}return o}}en.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",en.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],en.ASTERISK_ENCODING=148;class It extends cn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let f=this.decodeStart(s),d=this.decodeEnd(s),g=new Ge;It.decodeMiddle(s,f[1],d[0],g);let m=g.toString(),A=null;o!=null&&(A=o.get(ae.ALLOWED_LENGTHS)),A==null&&(A=It.DEFAULT_ALLOWED_LENGTHS);let S=m.length,v=!1,B=0;for(let K of A){if(S===K){v=!0;break}K>B&&(B=K)}if(!v&&S>B&&(v=!0),!v)throw new $;const M=[new Ye(f[1],r),new Ye(d[0],r)];return new ke(m,null,0,M,ve.ITF,new Date().getTime())}static decodeMiddle(r,s,o,f){let d=new Int32Array(10),g=new Int32Array(5),m=new Int32Array(5);for(d.fill(0),g.fill(0),m.fill(0);s<o;){cn.recordPattern(r,s,d);for(let S=0;S<5;S++){let v=2*S;g[S]=d[v],m[S]=d[v+1]}let A=It.decodeDigit(g);f.append(A.toString()),A=this.decodeDigit(m),f.append(A.toString()),d.forEach(function(S){s+=S})}}decodeStart(r){let s=It.skipWhiteSpace(r),o=It.findGuardPattern(r,s,It.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let f=s-1;o>0&&f>=0&&!r.get(f);f--)o--;if(o!==0)throw new H}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new H;return o}decodeEnd(r){r.reverse();try{let s=It.skipWhiteSpace(r),o;try{o=It.findGuardPattern(r,s,It.END_PATTERN_REVERSED[0])}catch(d){d instanceof H&&(o=It.findGuardPattern(r,s,It.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let f=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-f,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let f=o.length,d=new Int32Array(f),g=r.getSize(),m=!1,A=0,S=s;d.fill(0);for(let v=s;v<g;v++)if(r.get(v)!==m)d[A]++;else{if(A===f-1){if(cn.patternMatchVariance(d,o,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return[S,v];S+=d[0]+d[1],k.arraycopy(d,2,d,0,A-1),d[A-1]=0,d[A]=0,A--}else A++;d[A]=1,m=!m}throw new H}static decodeDigit(r){let s=It.MAX_AVG_VARIANCE,o=-1,f=It.PATTERNS.length;for(let d=0;d<f;d++){let g=It.PATTERNS[d],m=cn.patternMatchVariance(r,g,It.MAX_INDIVIDUAL_VARIANCE);m<s?(s=m,o=d):m===s&&(o=-1)}if(o>=0)return o%10;throw new H}}It.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],It.MAX_AVG_VARIANCE=.38,It.MAX_INDIVIDUAL_VARIANCE=.5,It.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],It.START_PATTERN=Int32Array.from([1,1,1,1]),It.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kt extends cn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,f=0,d=Int32Array.from([0,0,0]);for(;!s;){d=Int32Array.from([0,0,0]),o=Kt.findGuardPattern(r,f,!1,this.START_END_PATTERN,d);let g=o[0];f=o[1];let m=g-(f-g);m>=0&&(s=r.isRange(m,g,!1))}return o}static checkChecksum(r){return Kt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Kt.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let f=s-1;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new $;o+=d}o*=3;for(let f=s-2;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new $;o+=d}return(1e3-o)%10}static decodeEnd(r,s){return Kt.findGuardPattern(r,s,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,f){return this.findGuardPattern(r,s,o,f,new Int32Array(f.length))}static findGuardPattern(r,s,o,f,d){let g=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let m=0,A=s,S=f.length,v=o;for(let B=s;B<g;B++)if(r.get(B)!==v)d[m]++;else{if(m===S-1){if(cn.patternMatchVariance(d,f,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return Int32Array.from([A,B]);A+=d[0]+d[1];let M=d.slice(2,d.length-1);for(let G=0;G<m-1;G++)d[G]=M[G];d[m-1]=0,d[m]=0,m--}else m++;d[m]=1,v=!v}throw new H}static decodeDigit(r,s,o,f){this.recordPattern(r,o,s);let d=this.MAX_AVG_VARIANCE,g=-1,m=f.length;for(let A=0;A<m;A++){let S=f[A],v=cn.patternMatchVariance(s,S,Kt.MAX_INDIVIDUAL_VARIANCE);v<d&&(d=v,g=A)}if(g>=0)return g;throw new H}}Kt.MAX_AVG_VARIANCE=.48,Kt.MAX_INDIVIDUAL_VARIANCE=.7,Kt.START_END_PATTERN=Int32Array.from([1,1,1]),Kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ro{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(s,o,f),g=f.toString(),m=ro.parseExtensionString(g),A=[new Ye((o[0]+o[1])/2,r),new Ye(d,r)],S=new ke(g,null,0,A,ve.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&S.putAllMetadata(m),S}decodeMiddle(r,s,o){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),g=s[1],m=0;for(let S=0;S<5&&g<d;S++){let v=Kt.decodeDigit(r,f,g,Kt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let B of f)g+=B;v>=10&&(m|=1<<4-S),S!==4&&(g=r.getNextSet(g),g=r.getNextUnset(g))}if(o.length!==5)throw new H;let A=this.determineCheckDigit(m);if(ro.extensionChecksum(o.toString())!==A)throw new H;return g}static extensionChecksum(r){let s=r.length,o=0;for(let f=s-2;f>=0;f-=2)o+=r.charAt(f).charCodeAt(0)-48;o*=3;for(let f=s-1;f>=0;f-=2)o+=r.charAt(f).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new H}static parseExtensionString(r){if(r.length!==5)return null;let s=ro.parseExtension5String(r);return s==null?null:new Map([[it.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="£";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),f=(o/100).toString(),d=o%100,g=d<10?"0"+d:d.toString();return s+f+"."+g}}class Cc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(s,o,f),g=f.toString(),m=Cc.parseExtensionString(g),A=[new Ye((o[0]+o[1])/2,r),new Ye(d,r)],S=new ke(g,null,0,A,ve.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&S.putAllMetadata(m),S}decodeMiddle(r,s,o){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),g=s[1],m=0;for(let A=0;A<2&&g<d;A++){let S=Kt.decodeDigit(r,f,g,Kt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+S%10);for(let v of f)g+=v;S>=10&&(m|=1<<1-A),A!==1&&(g=r.getNextSet(g),g=r.getNextUnset(g))}if(o.length!==2)throw new H;if(parseInt(o.toString())%4!==m)throw new H;return g}static parseExtensionString(r){return r.length!==2?null:new Map([[it.ISSUE_NUMBER,parseInt(r)]])}}class Fu{static decodeRow(r,s,o){let f=Kt.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ro().decodeRow(r,s,f)}catch{return new Cc().decodeRow(r,s,f)}}}Fu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class St extends Kt{constructor(){super(),this.decodeRowStringBuffer="",St.L_AND_G_PATTERNS=St.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=St.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let f=0;f<s.length;f++)o[f]=s[s.length-f-1];St.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let f=St.findStartGuardPattern(s),d=o==null?null:o.get(ae.NEED_RESULT_POINT_CALLBACK);if(d!=null){const Re=new Ye((f[0]+f[1])/2,r);d.foundPossibleResultPoint(Re)}let g=this.decodeMiddle(s,f,this.decodeRowStringBuffer),m=g.rowOffset,A=g.resultString;if(d!=null){const Re=new Ye(m,r);d.foundPossibleResultPoint(Re)}let S=this.decodeEnd(s,m);if(d!=null){const Re=new Ye((S[0]+S[1])/2,r);d.foundPossibleResultPoint(Re)}let v=S[1],B=v+(v-S[0]);if(B>=s.getSize()||!s.isRange(v,B,!1))throw new H;let M=A.toString();if(M.length<8)throw new $;if(!St.checkChecksum(M))throw new L;let G=(f[1]+f[0])/2,K=(S[1]+S[0])/2,W=this.getBarcodeFormat(),se=[new Ye(G,r),new Ye(K,r)],ge=new ke(M,null,0,se,W,new Date().getTime()),Ie=0;try{let Re=Fu.decodeRow(r,s,S[1]);ge.putMetadata(it.UPC_EAN_EXTENSION,Re.getText()),ge.putAllMetadata(Re.getResultMetadata()),ge.addResultPoints(Re.getResultPoints()),Ie=Re.getText().length}catch{}let Me=o==null?null:o.get(ae.ALLOWED_EAN_EXTENSIONS);if(Me!=null){let Re=!1;for(let ot in Me)if(Ie.toString()===ot){Re=!0;break}if(!Re)throw new H}return ge}decodeEnd(r,s){return St.findGuardPattern(r,s,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return St.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return St.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let f=s-1;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new $;o+=d}o*=3;for(let f=s-2;f>=0;f-=2){let d=r.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new $;o+=d}return(1e3-o)%10}}class ai extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),g=s[1],m=0;for(let S=0;S<6&&g<d;S++){let v=St.decodeDigit(r,f,g,St.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let B of f)g+=B;v>=10&&(m|=1<<5-S)}o=ai.determineFirstDigit(o,m),g=St.findGuardPattern(r,g,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&g<d;S++){let v=St.decodeDigit(r,f,g,St.L_PATTERNS);o+=String.fromCharCode(48+v);for(let B of f)g+=B}return{rowOffset:g,resultString:o}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new H}}ai.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fd extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),g=s[1];for(let A=0;A<4&&g<d;A++){let S=St.decodeDigit(r,f,g,St.L_PATTERNS);o+=String.fromCharCode(48+S);for(let v of f)g+=v}g=St.findGuardPattern(r,g,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&g<d;A++){let S=St.decodeDigit(r,f,g,St.L_PATTERNS);o+=String.fromCharCode(48+S);for(let v of f)g+=v}return{rowOffset:g,resultString:o}}getBarcodeFormat(){return ve.EAN_8}}class Hu extends St{constructor(){super(...arguments),this.ean13Reader=new ai}getBarcodeFormat(){return ve.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new ke(s.substring(1),null,null,r.getResultPoints(),ve.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new H}reset(){this.ean13Reader.reset()}}class Qr extends St{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const f=this.decodeMiddleCounters.map(S=>S);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const d=r.getSize();let g=s[1],m=0;for(let S=0;S<6&&g<d;S++){const v=Qr.decodeDigit(r,f,g,Qr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let B of f)g+=B;v>=10&&(m|=1<<5-S)}let A=Qr.determineNumSysAndCheckDigit(o,m);return{rowOffset:g,resultString:A}}decodeEnd(r,s){return Qr.findGuardPatternWithoutCounters(r,s,!0,Qr.MIDDLE_END_PATTERN)}checkChecksum(r){return St.checkChecksum(Qr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let f=0;f<10;f++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][f]){let d=String.fromCharCode(48+o),g=String.fromCharCode(48+f);return d+r+g}throw H.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(d=>d.charCodeAt(0)),o=new Ge;o.append(r.charAt(0));let f=s[5];switch(f){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(f),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(f);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}Qr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class io extends cn{constructor(r){super();let s=r==null?null:r.get(ae.POSSIBLE_FORMATS),o=[];a(s)?(o.push(new ai),o.push(new Hu),o.push(new Fd),o.push(new Qr)):(s.indexOf(ve.EAN_13)>-1&&o.push(new ai),s.indexOf(ve.UPC_A)>-1&&o.push(new Hu),s.indexOf(ve.EAN_8)>-1&&o.push(new Fd),s.indexOf(ve.UPC_E)>-1&&o.push(new Qr)),this.readers=o}decodeRow(r,s,o){for(let f of this.readers)try{const d=f.decodeRow(r,s,o),g=d.getBarcodeFormat()===ve.EAN_13&&d.getText().charAt(0)==="0",m=o==null?null:o.get(ae.POSSIBLE_FORMATS),A=m==null||m.includes(ve.UPC_A);if(g&&A){const S=d.getRawBytes(),v=new ke(d.getText().substring(1),S,S?S.length:null,d.getResultPoints(),ve.UPC_A);return v.putAllMetadata(d.getResultMetadata()),v}return d}catch{}throw new H}reset(){for(let r of this.readers)r.reset()}}class Hn extends cn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(cn.patternMatchVariance(r,s[o],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return o;throw new H}static count(r){return Et.sum(new Int32Array(r))}static increment(r,s){let o=0,f=s[0];for(let d=1;d<r.length;d++)s[d]>f&&(f=s[d],o=d);r[o]++}static decrement(r,s){let o=0,f=s[0];for(let d=1;d<r.length;d++)s[d]<f&&(f=s[d],o=d);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],f=s/o;if(f>=Hn.MIN_FINDER_PATTERN_RATIO&&f<=Hn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let m of r)m>g&&(g=m),m<d&&(d=m);return g<10*d}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ea{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof ea))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Sc{constructor(r,s,o,f,d){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Ye(o,d)),this.resultPoints.push(new Ye(f,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Sc))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class jn{constructor(){}static getRSSvalue(r,s,o){let f=0;for(let A of r)f+=A;let d=0,g=0,m=r.length;for(let A=0;A<m-1;A++){let S;for(S=1,g|=1<<A;S<r[A];S++,g&=~(1<<A)){let v=jn.combins(f-S-1,m-A-2);if(o&&g===0&&f-S-(m-A-1)>=m-A-1&&(v-=jn.combins(f-S-(m-A),m-A-2)),m-A-1>1){let B=0;for(let M=f-S-(m-A-2);M>s;M--)B+=jn.combins(f-S-M-1,m-A-3);v-=B*(m-1-A)}else f-S>s&&v--;d+=v}f-=S}return d}static combins(r,s){let o,f;r-s>s?(f=s,o=r-s):(f=r-s,o=s);let d=1,g=1;for(let m=r;m>o;m--)d*=m,g<=f&&(d/=g,g++);for(;g<=f;)d/=g,g++;return d}}class $n{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,f=new ie(o),d=0,m=r[0].getRightChar().getValue();for(let A=11;A>=0;--A)(m&1<<A)!=0&&f.set(d),d++;for(let A=1;A<r.length;++A){let S=r[A],v=S.getLeftChar().getValue();for(let B=11;B>=0;--B)(v&1<<B)!=0&&f.set(d),d++;if(S.getRightChar()!=null){let B=S.getRightChar().getValue();for(let M=11;M>=0;--M)(B&1<<M)!=0&&f.set(d),d++}}return f}}class Cn{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ps{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class er extends ps{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===er.FNC1}}er.FNC1="$";class ta extends ps{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Kr extends ps{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new $;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Kr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Kr.FNC1}isAnyFNC1(){return this.firstDigit===Kr.FNC1||this.secondDigit===Kr.FNC1}}Kr.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new H;let s=r.substring(0,2);for(let d of Ve.TWO_DIGIT_DATA_LENGTH)if(d[0]===s)return d[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,d[2],r):Ve.processFixedAI(2,d[1],r);if(r.length<3)throw new H;let o=r.substring(0,3);for(let d of Ve.THREE_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,d[2],r):Ve.processFixedAI(3,d[1],r);for(let d of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,d[2],r):Ve.processFixedAI(4,d[1],r);if(r.length<4)throw new H;let f=r.substring(0,4);for(let d of Ve.FOUR_DIGIT_DATA_LENGTH)if(d[0]===f)return d[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,d[2],r):Ve.processFixedAI(4,d[1],r);throw new H}static processFixedAI(r,s,o){if(o.length<r)throw new H;let f=o.substring(0,r);if(o.length<r+s)throw new H;let d=o.substring(r,r+s),g=o.substring(r+s),m="("+f+")"+d,A=Ve.parseFieldsInGeneralPurpose(g);return A==null?m:m+A}static processVariableAI(r,s,o){let f=o.substring(0,r),d;o.length<r+s?d=o.length:d=r+s;let g=o.substring(r,d),m=o.substring(d),A="("+f+")"+g,S=Ve.parseFieldsInGeneralPurpose(m);return S==null?A:A+S}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class Si{constructor(r){this.buffer=new Ge,this.information=r}decodeAllCodes(r,s){let o=s,f=null;do{let d=this.decodeGeneralPurposeField(o,f),g=Ve.parseFieldsInGeneralPurpose(d.getNewString());if(g!=null&&r.append(g),d.isRemaining()?f=""+d.getRemainingValue():f=null,o===d.getNewPosition())break;o=d.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(r,4);return d===0?new Kr(this.information.getSize(),Kr.FNC1,Kr.FNC1):new Kr(this.information.getSize(),d-1,Kr.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,f=(s-8)%11;return new Kr(r+7,o,f)}extractNumericValueFromBitArray(r,s){return Si.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let f=0;for(let d=0;d<o;++d)r.get(s+d)&&(f|=1<<o-d-1);return f}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ta(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ta(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new ta(this.current.getPosition(),this.buffer.toString()):s=new ta(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Cn(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new ta(this.current.getPosition(),this.buffer.toString());return new Cn(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Cn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new ta(this.current.getPosition(),this.buffer.toString());return new Cn(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Cn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new ta(this.current.getPosition(),this.buffer.toString());return new Cn(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Cn(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(r,8);return f>=232&&f<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new er(r+5,er.FNC1);if(s>=5&&s<15)return new er(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new er(r+7,""+(o+1));if(o>=90&&o<116)return new er(r+7,""+(o+7));let f=this.extractNumericValueFromBitArray(r,8),d;switch(f){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new $}return new er(r+8,d)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new er(r+5,er.FNC1);if(s>=5&&s<15)return new er(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new er(r+6,""+(o+33));let f;switch(o){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new Pr("Decoding invalid alphanumeric value: "+o)}return new er(r+6,f)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class so{constructor(r){this.information=r,this.generalDecoder=new Si(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Bn extends so{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let f=0;f<4;++f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*f,10);d/100===0&&r.append("0"),d/10===0&&r.append("0"),r.append(d)}Bn.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let f=0;f<13;f++){let d=r.charAt(f+s).charCodeAt(0)-48;o+=(f&1)===0?3*d:d}o=10-o%10,o===10&&(o=0),r.append(o)}}Bn.GTIN_SIZE=40;class li extends Bn{constructor(r){super(r)}parseInformation(){let r=new Ge;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(li.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,li.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,li.HEADER_SIZE+44)}}li.HEADER_SIZE=4;class bs extends so{constructor(r){super(r)}parseInformation(){let r=new Ge;return this.getGeneralDecoder().decodeAllCodes(r,bs.HEADER_SIZE)}}bs.HEADER_SIZE=5;class Ki extends Bn{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,f);let d=this.checkWeight(f),g=1e5;for(let m=0;m<5;++m)d/g===0&&r.append("0"),g/=10;r.append(d)}}class Gt extends Ki{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Gt.HEADER_SIZE+Ki.GTIN_SIZE+Gt.WEIGHT_SIZE)throw new H;let r=new Ge;return this.encodeCompressedGtin(r,Gt.HEADER_SIZE),this.encodeCompressedWeight(r,Gt.HEADER_SIZE+Ki.GTIN_SIZE,Gt.WEIGHT_SIZE),r.toString()}}Gt.HEADER_SIZE=5,Gt.WEIGHT_SIZE=15;class Hd extends Gt{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class Gd extends Gt{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class tr extends Bn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<tr.HEADER_SIZE+Bn.GTIN_SIZE)throw new H;let r=new Ge;this.encodeCompressedGtin(r,tr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+Bn.GTIN_SIZE,tr.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(tr.HEADER_SIZE+Bn.GTIN_SIZE+tr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}tr.HEADER_SIZE=8,tr.LAST_DIGIT_SIZE=2;class Sn extends Bn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+Bn.GTIN_SIZE)throw new H;let r=new Ge;this.encodeCompressedGtin(r,Sn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Bn.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Bn.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,Sn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+Bn.GTIN_SIZE+Sn.LAST_DIGIT_SIZE+Sn.FIRST_THREE_DIGITS_SIZE,null);return r.append(f.getNewString()),r.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2,Sn.FIRST_THREE_DIGITS_SIZE=10;class an extends Ki{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=an.HEADER_SIZE+an.GTIN_SIZE+an.WEIGHT_SIZE+an.DATE_SIZE)throw new H;let r=new Ge;return this.encodeCompressedGtin(r,an.HEADER_SIZE),this.encodeCompressedWeight(r,an.HEADER_SIZE+an.GTIN_SIZE,an.WEIGHT_SIZE),this.encodeCompressedDate(r,an.HEADER_SIZE+an.GTIN_SIZE+an.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,an.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let f=o%32;o/=32;let d=o%12+1;o/=12;let g=o;g/10==0&&r.append("0"),r.append(g),d/10==0&&r.append("0"),r.append(d),f/10==0&&r.append("0"),r.append(f)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}an.HEADER_SIZE=8,an.WEIGHT_SIZE=20,an.DATE_SIZE=16;function Gu(O){try{if(O.get(1))return new li(O);if(!O.get(2))return new bs(O);switch(Si.extractNumericValueFromBitArray(O,1,4)){case 4:return new Hd(O);case 5:return new Gd(O)}switch(Si.extractNumericValueFromBitArray(O,1,5)){case 12:return new tr(O);case 13:return new Sn(O)}switch(Si.extractNumericValueFromBitArray(O,1,7)){case 56:return new an(O,"310","11");case 57:return new an(O,"320","11");case 58:return new an(O,"310","13");case 59:return new an(O,"320","13");case 60:return new an(O,"310","15");case 61:return new an(O,"320","15");case 62:return new an(O,"310","17");case 63:return new an(O,"320","17")}}catch(r){throw console.log(r),new Pr("unknown decoder: "+O)}}class Zi{constructor(r,s,o,f){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof Zi?Zi.equalsOrNull(r.leftchar,s.leftchar)&&Zi.equalsOrNull(r.rightchar,s.rightchar)&&Zi.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:Zi.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class zu{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof zu?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((f,d)=>{s.forEach(g=>{f.getLeftChar().getValue()===g.getLeftChar().getValue()&&f.getRightChar().getValue()===g.getRightChar().getValue()&&f.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(o=!0)})}),o}}class Se extends Hn{constructor(r){super(...arguments),this.pairs=new Array(Se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return Se.constructResult(this.decodeRow2pairs(r,s))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Se.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(d){if(d instanceof H){if(!this.pairs.length)throw new H;o=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(r,!1),f){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new H}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let f=this.rows[o];this.pairs.length=0;for(let g of r)this.pairs.push(g.getPairs());if(this.pairs.push(f.getPairs()),!Se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(r);d.push(f);try{return this.checkRows(d,o+1)}catch(g){this.verbose&&console.log(g)}}throw new H}static isValidSequence(r){for(let s of Se.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!=s[f]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,f=!1,d=!1;for(;o<this.rows.length;){let g=this.rows[o];if(g.getRowNumber()>r){d=g.isEquivalent(this.pairs);break}f=g.isEquivalent(this.pairs),o++}d||f||Se.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new zu(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let f of o.getPairs())for(let d of r)if(Zi.equals(f,d))break}}static isPartialRow(r,s){for(let o of s){let f=!0;for(let d of r){let g=!1;for(let m of o.getPairs())if(d.equals(m)){g=!0;break}if(!g){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=$n.buildBitArray(r),f=Gu(s).parseInformation(),d=r[0].getFinderPattern().getResultPoints(),g=r[r.length-1].getFinderPattern().getResultPoints(),m=[d[0],d[1],g[0],g[1]];return new ke(f,null,null,m,ve.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let f=o.getChecksumPortion(),d=2;for(let m=1;m<this.pairs.size();++m){let A=this.pairs.get(m);f+=A.getLeftChar().getChecksumPortion(),d++;let S=A.getRightChar();S!=null&&(f+=S.getChecksumPortion(),d++)}return f%=211,211*(d-4)+f==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let f=s.length%2==0;this.startFromEven&&(f=!f);let d,g=!0,m=-1;do this.findNextPair(r,s,m),d=this.parseFoundFinderPattern(r,o,f),d==null?m=Se.getNextSecondBar(r,this.startEnd[0]):g=!1;while(g);let A=this.decodeDataCharacter(r,d,f,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new H;let S;try{S=this.decodeDataCharacter(r,d,f,!1)}catch(v){S=null,this.verbose&&console.log(v)}return new Zi(A,S,d,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=r.getSize(),g;o>=0?g=o:this.isEmptyPair(s)?g=0:g=s[s.length-1].getFinderPattern().getStartEnd()[1];let m=s.length%2!=0;this.startFromEven&&(m=!m);let A=!1;for(;g<d&&(A=!r.get(g),!!A);)g++;let S=0,v=g;for(let B=g;B<d;B++)if(r.get(B)!=A)f[S]++;else{if(S==3){if(m&&Se.reverseCounters(f),Se.isFinderPattern(f)){this.startEnd[0]=v,this.startEnd[1]=B;return}m&&Se.reverseCounters(f),v+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,S--}else S++;f[S]=1,A=!A}throw new H}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let f=r[o];r[o]=r[s-o-1],r[s-o-1]=f}}parseFoundFinderPattern(r,s,o){let f,d,g;if(o){let S=this.startEnd[0]-1;for(;S>=0&&!r.get(S);)S--;S++,f=this.startEnd[0]-S,d=S,g=this.startEnd[1]}else d=this.startEnd[0],g=r.getNextUnset(this.startEnd[1]+1),f=g-this.startEnd[1];let m=this.getDecodeFinderCounters();k.arraycopy(m,0,m,1,m.length-1),m[0]=f;let A;try{A=this.parseFinderValue(m,Se.FINDER_PATTERNS)}catch{return null}return new Sc(A,[d,g],d,g,s)}decodeDataCharacter(r,s,o,f){let d=this.getDataCharacterCounters();for(let Vt=0;Vt<d.length;Vt++)d[Vt]=0;if(f)Se.recordPatternInReverse(r,s.getStartEnd()[0],d);else{Se.recordPattern(r,s.getStartEnd()[1],d);for(let Vt=0,Zn=d.length-1;Vt<Zn;Vt++,Zn--){let Or=d[Vt];d[Vt]=d[Zn],d[Zn]=Or}}let g=17,m=Et.sum(new Int32Array(d))/g,A=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(m-A)/A>.3)throw new H;let S=this.getOddCounts(),v=this.getEvenCounts(),B=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Vt=0;Vt<d.length;Vt++){let Zn=1*d[Vt]/m,Or=Zn+.5;if(Or<1){if(Zn<.3)throw new H;Or=1}else if(Or>8){if(Zn>8.7)throw new H;Or=8}let aa=Vt/2;(Vt&1)==0?(S[aa]=Or,B[aa]=Zn-Or):(v[aa]=Or,M[aa]=Zn-Or)}this.adjustOddEvenCounts(g);let G=4*s.getValue()+(o?0:2)+(f?0:1)-1,K=0,W=0;for(let Vt=S.length-1;Vt>=0;Vt--){if(Se.isNotA1left(s,o,f)){let Zn=Se.WEIGHTS[G][2*Vt];W+=S[Vt]*Zn}K+=S[Vt]}let se=0;for(let Vt=v.length-1;Vt>=0;Vt--)if(Se.isNotA1left(s,o,f)){let Zn=Se.WEIGHTS[G][2*Vt+1];se+=v[Vt]*Zn}let ge=W+se;if((K&1)!=0||K>13||K<4)throw new H;let Ie=(13-K)/2,Me=Se.SYMBOL_WIDEST[Ie],Re=9-Me,ot=jn.getRSSvalue(S,Me,!0),at=jn.getRSSvalue(v,Re,!1),hr=Se.EVEN_TOTAL_SUBSET[Ie],Wr=Se.GSUM[Ie],Rr=ot*hr+at+Wr;return new ea(Rr,ge)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=Et.sum(new Int32Array(this.getOddCounts())),o=Et.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1;s>13?d=!0:s<4&&(f=!0);let g=!1,m=!1;o>13?m=!0:o<4&&(g=!0);let A=s+o-r,S=(s&1)==1,v=(o&1)==0;if(A==1)if(S){if(v)throw new H;d=!0}else{if(!v)throw new H;m=!0}else if(A==-1)if(S){if(v)throw new H;f=!0}else{if(!v)throw new H;g=!0}else if(A==0){if(S){if(!v)throw new H;s<o?(f=!0,m=!0):(d=!0,g=!0)}else if(v)throw new H}else throw new H;if(f){if(d)throw new H;Se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(m)throw new H;Se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Se.SYMBOL_WIDEST=[7,5,4,3,1],Se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Se.GSUM=[0,348,1388,2948,3988],Se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Se.FINDER_PAT_A=0,Se.FINDER_PAT_B=1,Se.FINDER_PAT_C=2,Se.FINDER_PAT_D=3,Se.FINDER_PAT_E=4,Se.FINDER_PAT_F=5,Se.FINDER_PATTERN_SEQUENCES=[[Se.FINDER_PAT_A,Se.FINDER_PAT_A],[Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B],[Se.FINDER_PAT_A,Se.FINDER_PAT_C,Se.FINDER_PAT_B,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_C],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F]],Se.MAX_PAIRS=11;class Tc extends ea{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bt extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const f=this.decodePair(s,!1,r,o);Bt.addOrTally(this.possibleLeftPairs,f),s.reverse();let d=this.decodePair(s,!0,r,o);Bt.addOrTally(this.possibleRightPairs,d),s.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Bt.checkChecksum(g,m))return Bt.constructResult(g,m)}throw new H}static addOrTally(r,s){if(s==null)return;let o=!1;for(let f of r)if(f.getValue()===s.getValue()){f.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),f=new String(o).toString(),d=new Ge;for(let S=13-f.length;S>0;S--)d.append("0");d.append(f);let g=0;for(let S=0;S<13;S++){let v=d.charAt(S).charCodeAt(0)-48;g+=(S&1)===0?3*v:v}g=10-g%10,g===10&&(g=0),d.append(g.toString());let m=r.getFinderPattern().getResultPoints(),A=s.getFinderPattern().getResultPoints();return new ke(d.toString(),null,0,[m[0],m[1],A[0],A[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,f=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,o===f}decodePair(r,s,o,f){try{let d=this.findFinderPattern(r,s),g=this.parseFoundFinderPattern(r,o,s,d),m=f==null?null:f.get(ae.NEED_RESULT_POINT_CALLBACK);if(m!=null){let v=(d[0]+d[1])/2;s&&(v=r.getSize()-1-v),m.foundPossibleResultPoint(new Ye(v,o))}let A=this.decodeDataCharacter(r,g,!0),S=this.decodeDataCharacter(r,g,!1);return new Tc(1597*A.getValue()+S.getValue(),A.getChecksumPortion()+4*S.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(r,s,o){let f=this.getDataCharacterCounters();for(let se=0;se<f.length;se++)f[se]=0;if(o)cn.recordPatternInReverse(r,s.getStartEnd()[0],f);else{cn.recordPattern(r,s.getStartEnd()[1]+1,f);for(let se=0,ge=f.length-1;se<ge;se++,ge--){let Ie=f[se];f[se]=f[ge],f[ge]=Ie}}let d=o?16:15,g=Et.sum(new Int32Array(f))/d,m=this.getOddCounts(),A=this.getEvenCounts(),S=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let se=0;se<f.length;se++){let ge=f[se]/g,Ie=Math.floor(ge+.5);Ie<1?Ie=1:Ie>8&&(Ie=8);let Me=Math.floor(se/2);(se&1)===0?(m[Me]=Ie,S[Me]=ge-Ie):(A[Me]=Ie,v[Me]=ge-Ie)}this.adjustOddEvenCounts(o,d);let B=0,M=0;for(let se=m.length-1;se>=0;se--)M*=9,M+=m[se],B+=m[se];let G=0,K=0;for(let se=A.length-1;se>=0;se--)G*=9,G+=A[se],K+=A[se];let W=M+3*G;if(o){if((B&1)!==0||B>12||B<4)throw new H;let se=(12-B)/2,ge=Bt.OUTSIDE_ODD_WIDEST[se],Ie=9-ge,Me=jn.getRSSvalue(m,ge,!1),Re=jn.getRSSvalue(A,Ie,!0),ot=Bt.OUTSIDE_EVEN_TOTAL_SUBSET[se],at=Bt.OUTSIDE_GSUM[se];return new ea(Me*ot+Re+at,W)}else{if((K&1)!==0||K>10||K<4)throw new H;let se=(10-K)/2,ge=Bt.INSIDE_ODD_WIDEST[se],Ie=9-ge,Me=jn.getRSSvalue(m,ge,!0),Re=jn.getRSSvalue(A,Ie,!1),ot=Bt.INSIDE_ODD_TOTAL_SUBSET[se],at=Bt.INSIDE_GSUM[se];return new ea(Re*ot+Me+at,W)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let f=r.getSize(),d=!1,g=0;for(;g<f&&(d=!r.get(g),s!==d);)g++;let m=0,A=g;for(let S=g;S<f;S++)if(r.get(S)!==d)o[m]++;else{if(m===3){if(Hn.isFinderPattern(o))return[A,S];A+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,d=!d}throw new H}parseFoundFinderPattern(r,s,o,f){let d=r.get(f[0]),g=f[0]-1;for(;g>=0&&d!==r.get(g);)g--;g++;const m=f[0]-g,A=this.getDecodeFinderCounters(),S=new Int32Array(A.length);k.arraycopy(A,0,S,1,A.length-1),S[0]=m;const v=this.parseFinderValue(S,Bt.FINDER_PATTERNS);let B=g,M=f[1];return o&&(B=r.getSize()-1-B,M=r.getSize()-1-M),new Sc(v,[g,f[1]],B,M,s)}adjustOddEvenCounts(r,s){let o=Et.sum(new Int32Array(this.getOddCounts())),f=Et.sum(new Int32Array(this.getEvenCounts())),d=!1,g=!1,m=!1,A=!1;r?(o>12?g=!0:o<4&&(d=!0),f>12?A=!0:f<4&&(m=!0)):(o>11?g=!0:o<5&&(d=!0),f>10?A=!0:f<4&&(m=!0));let S=o+f-s,v=(o&1)===(r?1:0),B=(f&1)===1;if(S===1)if(v){if(B)throw new H;g=!0}else{if(!B)throw new H;A=!0}else if(S===-1)if(v){if(B)throw new H;d=!0}else{if(!B)throw new H;m=!0}else if(S===0){if(v){if(!B)throw new H;o<f?(d=!0,A=!0):(g=!0,m=!0)}else if(B)throw new H}else throw new H;if(d){if(g)throw new H;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(A)throw new H;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bt.OUTSIDE_GSUM=[0,161,961,2015,2715],Bt.INSIDE_GSUM=[0,336,1036,1516],Bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bt.INSIDE_ODD_WIDEST=[2,4,6,8],Bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ys extends cn{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(ae.POSSIBLE_FORMATS):null,f=r&&r.get(ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ve.EAN_13)||o.includes(ve.UPC_A)||o.includes(ve.EAN_8)||o.includes(ve.UPC_E))&&this.readers.push(new io(r)),o.includes(ve.CODE_39)&&this.readers.push(new en(f)),o.includes(ve.CODE_128)&&this.readers.push(new Ue),o.includes(ve.ITF)&&this.readers.push(new It),o.includes(ve.RSS_14)&&this.readers.push(new Bt),o.includes(ve.RSS_EXPANDED)&&this.readers.push(new Se(this.verbose))):(this.readers.push(new io(r)),this.readers.push(new en),this.readers.push(new io(r)),this.readers.push(new Ue),this.readers.push(new It),this.readers.push(new Bt),this.readers.push(new Se(this.verbose)))}decodeRow(r,s,o){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(r,s,o)}catch{}throw new H}reset(){this.readers.forEach(r=>r.reset())}}class zd extends _e{constructor(r=500,s){super(new ys(s),r,s)}}class bt{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Tt{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xt{constructor(r,s,o,f,d,g){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=d,this.ecBlocks=g;let m=0;const A=g.getECCodewords(),S=g.getECBlocks();for(let v of S)m+=v.getCount()*(v.getDataCodewords()+A);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if((r&1)!==0||(s&1)!==0)throw new $;for(let o of xt.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new xt(1,10,10,8,8,new bt(5,new Tt(1,3))),new xt(2,12,12,10,10,new bt(7,new Tt(1,5))),new xt(3,14,14,12,12,new bt(10,new Tt(1,8))),new xt(4,16,16,14,14,new bt(12,new Tt(1,12))),new xt(5,18,18,16,16,new bt(14,new Tt(1,18))),new xt(6,20,20,18,18,new bt(18,new Tt(1,22))),new xt(7,22,22,20,20,new bt(20,new Tt(1,30))),new xt(8,24,24,22,22,new bt(24,new Tt(1,36))),new xt(9,26,26,24,24,new bt(28,new Tt(1,44))),new xt(10,32,32,14,14,new bt(36,new Tt(1,62))),new xt(11,36,36,16,16,new bt(42,new Tt(1,86))),new xt(12,40,40,18,18,new bt(48,new Tt(1,114))),new xt(13,44,44,20,20,new bt(56,new Tt(1,144))),new xt(14,48,48,22,22,new bt(68,new Tt(1,174))),new xt(15,52,52,24,24,new bt(42,new Tt(2,102))),new xt(16,64,64,14,14,new bt(56,new Tt(2,140))),new xt(17,72,72,16,16,new bt(36,new Tt(4,92))),new xt(18,80,80,18,18,new bt(48,new Tt(4,114))),new xt(19,88,88,20,20,new bt(56,new Tt(4,144))),new xt(20,96,96,22,22,new bt(68,new Tt(4,174))),new xt(21,104,104,24,24,new bt(56,new Tt(6,136))),new xt(22,120,120,18,18,new bt(68,new Tt(6,175))),new xt(23,132,132,20,20,new bt(62,new Tt(8,163))),new xt(24,144,144,22,22,new bt(62,new Tt(8,156),new Tt(2,155))),new xt(25,8,18,6,16,new bt(7,new Tt(1,5))),new xt(26,8,32,6,14,new bt(11,new Tt(1,10))),new xt(27,12,26,10,24,new bt(14,new Tt(1,16))),new xt(28,12,36,10,16,new bt(18,new Tt(1,22))),new xt(29,16,36,14,16,new bt(24,new Tt(1,32))),new xt(30,16,48,14,22,new bt(28,new Tt(1,49)))]}}xt.VERSIONS=xt.buildVersions();class Vu{constructor(r){const s=r.getHeight();if(s<8||s>144||(s&1)!==0)throw new $;this.version=Vu.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new De(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return xt.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,f=0;const d=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let m=!1,A=!1,S=!1,v=!1;do if(o===d&&f===0&&!m)r[s++]=this.readCorner1(d,g)&255,o-=2,f+=2,m=!0;else if(o===d-2&&f===0&&(g&3)!==0&&!A)r[s++]=this.readCorner2(d,g)&255,o-=2,f+=2,A=!0;else if(o===d+4&&f===2&&(g&7)===0&&!S)r[s++]=this.readCorner3(d,g)&255,o-=2,f+=2,S=!0;else if(o===d-2&&f===0&&(g&7)===4&&!v)r[s++]=this.readCorner4(d,g)&255,o-=2,f+=2,v=!0;else{do o<d&&f>=0&&!this.readMappingMatrix.get(f,o)&&(r[s++]=this.readUtah(o,f,d,g)&255),o-=2,f+=2;while(o>=0&&f<g);o+=1,f+=3;do o>=0&&f<g&&!this.readMappingMatrix.get(f,o)&&(r[s++]=this.readUtah(o,f,d,g)&255),o+=2,f-=2;while(o<d&&f>=0);o+=3,f+=1}while(o<d||f<g);if(s!==this.version.getTotalCodewords())throw new $;return r}readModule(r,s,o,f){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=f,r+=4-(f+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,f){let d=0;return this.readModule(r-2,s-2,o,f)&&(d|=1),d<<=1,this.readModule(r-2,s-1,o,f)&&(d|=1),d<<=1,this.readModule(r-1,s-2,o,f)&&(d|=1),d<<=1,this.readModule(r-1,s-1,o,f)&&(d|=1),d<<=1,this.readModule(r-1,s,o,f)&&(d|=1),d<<=1,this.readModule(r,s-2,o,f)&&(d|=1),d<<=1,this.readModule(r,s-1,o,f)&&(d|=1),d<<=1,this.readModule(r,s,o,f)&&(d|=1),d}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new N("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),g=s/f|0,m=o/d|0,A=g*f,S=m*d,v=new De(S,A);for(let B=0;B<g;++B){const M=B*f;for(let G=0;G<m;++G){const K=G*d;for(let W=0;W<f;++W){const se=B*(f+2)+1+W,ge=M+W;for(let Ie=0;Ie<d;++Ie){const Me=G*(d+2)+1+Ie;if(r.get(Me,se)){const Re=K+Ie;v.set(Re,ge)}}}}}return v}}class Nc{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let f=0;const d=o.getECBlocks();for(let W of d)f+=W.getCount();const g=new Array(f);let m=0;for(let W of d)for(let se=0;se<W.getCount();se++){const ge=W.getDataCodewords(),Ie=o.getECCodewords()+ge;g[m++]=new Nc(ge,new Uint8Array(Ie))}const S=g[0].codewords.length-o.getECCodewords(),v=S-1;let B=0;for(let W=0;W<v;W++)for(let se=0;se<m;se++)g[se].codewords[W]=r[B++];const M=s.getVersionNumber()===24,G=M?8:m;for(let W=0;W<G;W++)g[W].codewords[S-1]=r[B++];const K=g[0].codewords.length;for(let W=S;W<K;W++)for(let se=0;se<m;se++){const ge=M?(se+8)%m:se,Ie=M&&ge>7?W-1:W;g[ge].codewords[Ie]=r[B++]}if(B!==r.length)throw new N;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Tr{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new N(""+r);let s=0,o=this.bitOffset,f=this.byteOffset;const d=this.bytes;if(o>0){const g=8-o,m=r<g?r:g,A=g-m,S=255>>8-m<<A;s=(d[f]&S)>>A,r-=m,o+=m,o===8&&(o=0,f++)}if(r>0){for(;r>=8;)s=s<<8|d[f]&255,f++,r-=8;if(r>0){const g=8-r,m=255>>g<<g;s=s<<r|(d[f]&m)>>g,o+=r}}return this.bitOffset=o,this.byteOffset=f,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tn;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tn||(Tn={}));class ws{static decode(r){const s=new Tr(r),o=new Ge,f=new Ge,d=new Array;let g=Tn.ASCII_ENCODE;do if(g===Tn.ASCII_ENCODE)g=this.decodeAsciiSegment(s,o,f);else{switch(g){case Tn.C40_ENCODE:this.decodeC40Segment(s,o);break;case Tn.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case Tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case Tn.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case Tn.BASE256_ENCODE:this.decodeBase256Segment(s,o,d);break;default:throw new $}g=Tn.ASCII_ENCODE}while(g!==Tn.PAD_ENCODE&&s.available()>0);return f.length()>0&&o.append(f.toString()),new An(r,o.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(r,s,o){let f=!1;do{let d=r.readBits(8);if(d===0)throw new $;if(d<=128)return f&&(d+=128),s.append(String.fromCharCode(d-1)),Tn.ASCII_ENCODE;if(d===129)return Tn.PAD_ENCODE;if(d<=229){const g=d-130;g<10&&s.append("0"),s.append(""+g)}else switch(d){case 230:return Tn.C40_ENCODE;case 231:return Tn.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return Tn.ANSIX12_ENCODE;case 239:return Tn.TEXT_ENCODE;case 240:return Tn.EDIFACT_ENCODE;case 241:break;default:if(d!==254||r.available()!==0)throw new $;break}}while(r.available()>0);return Tn.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const f=[];let d=0;do{if(r.available()===8)return;const g=r.readBits(8);if(g===254)return;this.parseTwoBytes(g,r.readBits(8),f);for(let m=0;m<3;m++){const A=f[m];switch(d){case 0:if(A<3)d=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[A];o?(s.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):s.append(S)}else throw new $;break;case 1:o?(s.append(String.fromCharCode(A+128)),o=!1):s.append(String.fromCharCode(A)),d=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[A];o?(s.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):s.append(S)}else switch(A){case 27:s.append("");break;case 30:o=!0;break;default:throw new $}d=0;break;case 3:o?(s.append(String.fromCharCode(A+224)),o=!1):s.append(String.fromCharCode(A+96)),d=0;break;default:throw new $}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,f=[],d=0;do{if(r.available()===8)return;const g=r.readBits(8);if(g===254)return;this.parseTwoBytes(g,r.readBits(8),f);for(let m=0;m<3;m++){const A=f[m];switch(d){case 0:if(A<3)d=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[A];o?(s.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):s.append(S)}else throw new $;break;case 1:o?(s.append(String.fromCharCode(A+128)),o=!1):s.append(String.fromCharCode(A)),d=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[A];o?(s.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):s.append(S)}else switch(A){case 27:s.append("");break;case 30:o=!0;break;default:throw new $}d=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[A];o?(s.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):s.append(S),d=0}else throw new $;break;default:throw new $}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),o);for(let d=0;d<3;d++){const g=o[d];switch(g){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(g<14)s.append(String.fromCharCode(g+44));else if(g<40)s.append(String.fromCharCode(g+51));else throw new $;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let f=(r<<8)+s-1,d=Math.floor(f/1600);o[0]=d,f-=d*1600,d=Math.floor(f/40),o[1]=d,o[2]=f-d*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let f=r.readBits(6);if(f===31){const d=8-r.getBitOffset();d!==8&&r.readBits(d);return}(f&32)===0&&(f|=64),s.append(String.fromCharCode(f))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let f=1+r.getByteOffset();const d=this.unrandomize255State(r.readBits(8),f++);let g;if(d===0?g=r.available()/8|0:d<250?g=d:g=250*(d-249)+this.unrandomize255State(r.readBits(8),f++),g<0)throw new $;const m=new Uint8Array(g);for(let A=0;A<g;A++){if(r.available()<8)throw new $;m[A]=this.unrandomize255State(r.readBits(8),f++)}o.push(m);try{s.append(Le.decode(m,Oe.ISO88591))}catch(A){throw new Pr("Platform does not support required encoding: "+A.message)}}static unrandomize255State(r,s){const o=149*s%255+1,f=r-o;return f>=0?f:f+256}}ws.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ws.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ws.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ws.TEXT_SHIFT2_SET_CHARS=ws.C40_SHIFT2_SET_CHARS,ws.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class vc{constructor(){this.rsDecoder=new ms(st.DATA_MATRIX_FIELD_256)}decode(r){const s=new Vu(r),o=s.getVersion(),f=s.readCodewords(),d=Nc.getDataBlocks(f,o);let g=0;for(let S of d)g+=S.getNumDataCodewords();const m=new Uint8Array(g),A=d.length;for(let S=0;S<A;S++){const v=d[S],B=v.getCodewords(),M=v.getNumDataCodewords();this.correctErrors(B,M);for(let G=0;G<M;G++)m[G*A+S]=B[G]}return ws.decode(m)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new L}for(let f=0;f<s;f++)r[f]=o[f]}}class hn{constructor(r){this.image=r,this.rectangleDetector=new Qi(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new H;s=this.shiftToModuleCenter(s);const o=s[0],f=s[1],d=s[2],g=s[3];let m=this.transitionsBetween(o,g)+1,A=this.transitionsBetween(d,g)+1;(m&1)===1&&(m+=1),(A&1)===1&&(A+=1),4*m<7*A&&4*A<7*m&&(m=A=Math.max(m,A));let S=hn.sampleGrid(this.image,o,f,d,g,m,A);return new Ac(S,[o,f,d,g])}static shiftPoint(r,s,o){let f=(s.getX()-r.getX())/(o+1),d=(s.getY()-r.getY())/(o+1);return new Ye(r.getX()+f,r.getY()+d)}static moveAway(r,s,o){let f=r.getX(),d=r.getY();return f<s?f-=1:f+=1,d<o?d-=1:d+=1,new Ye(f,d)}detectSolid1(r){let s=r[0],o=r[1],f=r[3],d=r[2],g=this.transitionsBetween(s,o),m=this.transitionsBetween(o,f),A=this.transitionsBetween(f,d),S=this.transitionsBetween(d,s),v=g,B=[d,s,o,f];return v>m&&(v=m,B[0]=s,B[1]=o,B[2]=f,B[3]=d),v>A&&(v=A,B[0]=o,B[1]=f,B[2]=d,B[3]=s),v>S&&(B[0]=f,B[1]=d,B[2]=s,B[3]=o),B}detectSolid2(r){let s=r[0],o=r[1],f=r[2],d=r[3],g=this.transitionsBetween(s,d),m=hn.shiftPoint(o,f,(g+1)*4),A=hn.shiftPoint(f,o,(g+1)*4),S=this.transitionsBetween(m,s),v=this.transitionsBetween(A,d);return S<v?(r[0]=s,r[1]=o,r[2]=f,r[3]=d):(r[0]=o,r[1]=f,r[2]=d,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],f=r[2],d=r[3],g=this.transitionsBetween(s,d),m=this.transitionsBetween(o,d),A=hn.shiftPoint(s,o,(m+1)*4),S=hn.shiftPoint(f,o,(g+1)*4);g=this.transitionsBetween(A,d),m=this.transitionsBetween(S,d);let v=new Ye(d.getX()+(f.getX()-o.getX())/(g+1),d.getY()+(f.getY()-o.getY())/(g+1)),B=new Ye(d.getX()+(s.getX()-o.getX())/(m+1),d.getY()+(s.getY()-o.getY())/(m+1));if(!this.isValid(v))return this.isValid(B)?B:null;if(!this.isValid(B))return v;let M=this.transitionsBetween(A,v)+this.transitionsBetween(S,v),G=this.transitionsBetween(A,B)+this.transitionsBetween(S,B);return M>G?v:B}shiftToModuleCenter(r){let s=r[0],o=r[1],f=r[2],d=r[3],g=this.transitionsBetween(s,d)+1,m=this.transitionsBetween(f,d)+1,A=hn.shiftPoint(s,o,m*4),S=hn.shiftPoint(f,o,g*4);g=this.transitionsBetween(A,d)+1,m=this.transitionsBetween(S,d)+1,(g&1)===1&&(g+=1),(m&1)===1&&(m+=1);let v=(s.getX()+o.getX()+f.getX()+d.getX())/4,B=(s.getY()+o.getY()+f.getY()+d.getY())/4;s=hn.moveAway(s,v,B),o=hn.moveAway(o,v,B),f=hn.moveAway(f,v,B),d=hn.moveAway(d,v,B);let M,G;return A=hn.shiftPoint(s,o,m*4),A=hn.shiftPoint(A,d,g*4),M=hn.shiftPoint(o,s,m*4),M=hn.shiftPoint(M,f,g*4),S=hn.shiftPoint(f,d,m*4),S=hn.shiftPoint(S,o,g*4),G=hn.shiftPoint(d,f,m*4),G=hn.shiftPoint(G,s,g*4),[A,M,S,G]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,f,d,g,m){return dr.getInstance().sampleGrid(r,g,m,.5,.5,g-.5,.5,g-.5,m-.5,.5,m-.5,s.getX(),s.getY(),d.getX(),d.getY(),f.getX(),f.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),f=Math.trunc(r.getY()),d=Math.trunc(s.getX()),g=Math.trunc(s.getY()),m=Math.abs(g-f)>Math.abs(d-o);if(m){let W=o;o=f,f=W,W=d,d=g,g=W}let A=Math.abs(d-o),S=Math.abs(g-f),v=-A/2,B=f<g?1:-1,M=o<d?1:-1,G=0,K=this.image.get(m?f:o,m?o:f);for(let W=o,se=f;W!==d;W+=M){let ge=this.image.get(m?se:W,m?W:se);if(ge!==K&&(G++,K=ge),v+=S,v>0){if(se===g)break;se+=B,v-=A}}return G}}class oi{constructor(){this.decoder=new vc}decode(r,s=null){let o,f;if(s!=null&&s.has(ae.PURE_BARCODE)){const S=oi.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(S),f=oi.NO_POINTS}else{const S=new hn(r.getBlackMatrix()).detect();o=this.decoder.decode(S.getBits()),f=S.getPoints()}const d=o.getRawBytes(),g=new ke(o.getText(),d,8*d.length,f,ve.DATA_MATRIX,k.currentTimeMillis()),m=o.getByteSegments();m!=null&&g.putMetadata(it.BYTE_SEGMENTS,m);const A=o.getECLevel();return A!=null&&g.putMetadata(it.ERROR_CORRECTION_LEVEL,A),g}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new H;const f=this.moduleSize(s,r);let d=s[1];const g=o[1];let m=s[0];const S=(o[0]-m+1)/f,v=(g-d+1)/f;if(S<=0||v<=0)throw new H;const B=f/2;d+=B,m+=B;const M=new De(S,v);for(let G=0;G<v;G++){const K=d+G*f;for(let W=0;W<S;W++)r.get(m+W*f,K)&&M.set(W,G)}return M}static moduleSize(r,s){const o=s.getWidth();let f=r[0];const d=r[1];for(;f<o&&s.get(f,d);)f++;if(f===o)throw new H;const g=f-r[0];if(g===0)throw new H;return g}}oi.NO_POINTS=[];class xx extends _e{constructor(r=500){super(new oi,r)}}var Xn;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(Xn||(Xn={}));class Ut{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,Ut.FOR_BITS.set(o,this),Ut.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new T(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Ut))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=Ut.FOR_BITS.size)throw new N;return Ut.FOR_BITS.get(r)}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.L=new Ut(Xn.L,"L",1),Ut.M=new Ut(Xn.M,"M",0),Ut.Q=new Ut(Xn.Q,"Q",3),Ut.H=new Ut(Xn.H,"H",2);class Yn{constructor(r){this.errorCorrectionLevel=Ut.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return Z.bitCount(r^s)}static decodeFormatInformation(r,s){const o=Yn.doDecodeFormatInformation(r,s);return o!==null?o:Yn.doDecodeFormatInformation(r^Yn.FORMAT_INFO_MASK_QR,s^Yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,f=0;for(const d of Yn.FORMAT_INFO_DECODE_LOOKUP){const g=d[0];if(g===r||g===s)return new Yn(d[1]);let m=Yn.numBitsDiffering(r,g);m<o&&(f=d[1],o=m),r!==s&&(m=Yn.numBitsDiffering(s,g),m<o&&(f=d[1],o=m))}return o<=3?new Yn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Yn))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Yn.FORMAT_INFO_MASK_QR=21522,Yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let f=0;const d=o[0].getECCodewordsPerBlock(),g=o[0].getECBlocks();for(const m of g)f+=m.getCount()*(m.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new $;try{return this.getVersionForNumber((r-17)/4)}catch{throw new $}}static getVersionForNumber(r){if(r<1||r>40)throw new N;return We.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let f=0;f<We.VERSION_DECODE_INFO.length;f++){const d=We.VERSION_DECODE_INFO[f];if(d===r)return We.getVersionForNumber(f+7);const g=Yn.numBitsDiffering(r,d);g<s&&(o=f+7,s=g)}return s<=3?We.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new De(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let f=0;f<o;f++){const d=this.alignmentPatternCenters[f]-2;for(let g=0;g<o;g++)f===0&&(g===0||g===o-1)||f===o-1&&g===0||s.setRegion(this.alignmentPatternCenters[g]-2,d,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}We.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),We.VERSIONS=[new We(1,new Int32Array(0),new le(7,new F(1,19)),new le(10,new F(1,16)),new le(13,new F(1,13)),new le(17,new F(1,9))),new We(2,Int32Array.from([6,18]),new le(10,new F(1,34)),new le(16,new F(1,28)),new le(22,new F(1,22)),new le(28,new F(1,16))),new We(3,Int32Array.from([6,22]),new le(15,new F(1,55)),new le(26,new F(1,44)),new le(18,new F(2,17)),new le(22,new F(2,13))),new We(4,Int32Array.from([6,26]),new le(20,new F(1,80)),new le(18,new F(2,32)),new le(26,new F(2,24)),new le(16,new F(4,9))),new We(5,Int32Array.from([6,30]),new le(26,new F(1,108)),new le(24,new F(2,43)),new le(18,new F(2,15),new F(2,16)),new le(22,new F(2,11),new F(2,12))),new We(6,Int32Array.from([6,34]),new le(18,new F(2,68)),new le(16,new F(4,27)),new le(24,new F(4,19)),new le(28,new F(4,15))),new We(7,Int32Array.from([6,22,38]),new le(20,new F(2,78)),new le(18,new F(4,31)),new le(18,new F(2,14),new F(4,15)),new le(26,new F(4,13),new F(1,14))),new We(8,Int32Array.from([6,24,42]),new le(24,new F(2,97)),new le(22,new F(2,38),new F(2,39)),new le(22,new F(4,18),new F(2,19)),new le(26,new F(4,14),new F(2,15))),new We(9,Int32Array.from([6,26,46]),new le(30,new F(2,116)),new le(22,new F(3,36),new F(2,37)),new le(20,new F(4,16),new F(4,17)),new le(24,new F(4,12),new F(4,13))),new We(10,Int32Array.from([6,28,50]),new le(18,new F(2,68),new F(2,69)),new le(26,new F(4,43),new F(1,44)),new le(24,new F(6,19),new F(2,20)),new le(28,new F(6,15),new F(2,16))),new We(11,Int32Array.from([6,30,54]),new le(20,new F(4,81)),new le(30,new F(1,50),new F(4,51)),new le(28,new F(4,22),new F(4,23)),new le(24,new F(3,12),new F(8,13))),new We(12,Int32Array.from([6,32,58]),new le(24,new F(2,92),new F(2,93)),new le(22,new F(6,36),new F(2,37)),new le(26,new F(4,20),new F(6,21)),new le(28,new F(7,14),new F(4,15))),new We(13,Int32Array.from([6,34,62]),new le(26,new F(4,107)),new le(22,new F(8,37),new F(1,38)),new le(24,new F(8,20),new F(4,21)),new le(22,new F(12,11),new F(4,12))),new We(14,Int32Array.from([6,26,46,66]),new le(30,new F(3,115),new F(1,116)),new le(24,new F(4,40),new F(5,41)),new le(20,new F(11,16),new F(5,17)),new le(24,new F(11,12),new F(5,13))),new We(15,Int32Array.from([6,26,48,70]),new le(22,new F(5,87),new F(1,88)),new le(24,new F(5,41),new F(5,42)),new le(30,new F(5,24),new F(7,25)),new le(24,new F(11,12),new F(7,13))),new We(16,Int32Array.from([6,26,50,74]),new le(24,new F(5,98),new F(1,99)),new le(28,new F(7,45),new F(3,46)),new le(24,new F(15,19),new F(2,20)),new le(30,new F(3,15),new F(13,16))),new We(17,Int32Array.from([6,30,54,78]),new le(28,new F(1,107),new F(5,108)),new le(28,new F(10,46),new F(1,47)),new le(28,new F(1,22),new F(15,23)),new le(28,new F(2,14),new F(17,15))),new We(18,Int32Array.from([6,30,56,82]),new le(30,new F(5,120),new F(1,121)),new le(26,new F(9,43),new F(4,44)),new le(28,new F(17,22),new F(1,23)),new le(28,new F(2,14),new F(19,15))),new We(19,Int32Array.from([6,30,58,86]),new le(28,new F(3,113),new F(4,114)),new le(26,new F(3,44),new F(11,45)),new le(26,new F(17,21),new F(4,22)),new le(26,new F(9,13),new F(16,14))),new We(20,Int32Array.from([6,34,62,90]),new le(28,new F(3,107),new F(5,108)),new le(26,new F(3,41),new F(13,42)),new le(30,new F(15,24),new F(5,25)),new le(28,new F(15,15),new F(10,16))),new We(21,Int32Array.from([6,28,50,72,94]),new le(28,new F(4,116),new F(4,117)),new le(26,new F(17,42)),new le(28,new F(17,22),new F(6,23)),new le(30,new F(19,16),new F(6,17))),new We(22,Int32Array.from([6,26,50,74,98]),new le(28,new F(2,111),new F(7,112)),new le(28,new F(17,46)),new le(30,new F(7,24),new F(16,25)),new le(24,new F(34,13))),new We(23,Int32Array.from([6,30,54,78,102]),new le(30,new F(4,121),new F(5,122)),new le(28,new F(4,47),new F(14,48)),new le(30,new F(11,24),new F(14,25)),new le(30,new F(16,15),new F(14,16))),new We(24,Int32Array.from([6,28,54,80,106]),new le(30,new F(6,117),new F(4,118)),new le(28,new F(6,45),new F(14,46)),new le(30,new F(11,24),new F(16,25)),new le(30,new F(30,16),new F(2,17))),new We(25,Int32Array.from([6,32,58,84,110]),new le(26,new F(8,106),new F(4,107)),new le(28,new F(8,47),new F(13,48)),new le(30,new F(7,24),new F(22,25)),new le(30,new F(22,15),new F(13,16))),new We(26,Int32Array.from([6,30,58,86,114]),new le(28,new F(10,114),new F(2,115)),new le(28,new F(19,46),new F(4,47)),new le(28,new F(28,22),new F(6,23)),new le(30,new F(33,16),new F(4,17))),new We(27,Int32Array.from([6,34,62,90,118]),new le(30,new F(8,122),new F(4,123)),new le(28,new F(22,45),new F(3,46)),new le(30,new F(8,23),new F(26,24)),new le(30,new F(12,15),new F(28,16))),new We(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new F(3,117),new F(10,118)),new le(28,new F(3,45),new F(23,46)),new le(30,new F(4,24),new F(31,25)),new le(30,new F(11,15),new F(31,16))),new We(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new F(7,116),new F(7,117)),new le(28,new F(21,45),new F(7,46)),new le(30,new F(1,23),new F(37,24)),new le(30,new F(19,15),new F(26,16))),new We(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new F(5,115),new F(10,116)),new le(28,new F(19,47),new F(10,48)),new le(30,new F(15,24),new F(25,25)),new le(30,new F(23,15),new F(25,16))),new We(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new F(13,115),new F(3,116)),new le(28,new F(2,46),new F(29,47)),new le(30,new F(42,24),new F(1,25)),new le(30,new F(23,15),new F(28,16))),new We(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new F(17,115)),new le(28,new F(10,46),new F(23,47)),new le(30,new F(10,24),new F(35,25)),new le(30,new F(19,15),new F(35,16))),new We(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new F(17,115),new F(1,116)),new le(28,new F(14,46),new F(21,47)),new le(30,new F(29,24),new F(19,25)),new le(30,new F(11,15),new F(46,16))),new We(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new F(13,115),new F(6,116)),new le(28,new F(14,46),new F(23,47)),new le(30,new F(44,24),new F(7,25)),new le(30,new F(59,16),new F(1,17))),new We(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new F(12,121),new F(7,122)),new le(28,new F(12,47),new F(26,48)),new le(30,new F(39,24),new F(14,25)),new le(30,new F(22,15),new F(41,16))),new We(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new F(6,121),new F(14,122)),new le(28,new F(6,47),new F(34,48)),new le(30,new F(46,24),new F(10,25)),new le(30,new F(2,15),new F(64,16))),new We(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new F(17,122),new F(4,123)),new le(28,new F(29,46),new F(14,47)),new le(30,new F(49,24),new F(10,25)),new le(30,new F(24,15),new F(46,16))),new We(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new F(4,122),new F(18,123)),new le(28,new F(13,46),new F(32,47)),new le(30,new F(48,24),new F(14,25)),new le(30,new F(42,15),new F(32,16))),new We(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new F(20,117),new F(4,118)),new le(28,new F(40,47),new F(7,48)),new le(30,new F(43,24),new F(22,25)),new le(30,new F(10,15),new F(67,16))),new We(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new F(19,118),new F(6,119)),new le(28,new F(18,47),new F(31,48)),new le(30,new F(34,24),new F(34,25)),new le(30,new F(20,15),new F(61,16)))];var Dn;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(Dn||(Dn={}));class Qn{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let f=0;f<s;f++)this.isMasked(o,f)&&r.flip(f,o)}}Qn.values=new Map([[Dn.DATA_MASK_000,new Qn(Dn.DATA_MASK_000,(O,r)=>(O+r&1)===0)],[Dn.DATA_MASK_001,new Qn(Dn.DATA_MASK_001,(O,r)=>(O&1)===0)],[Dn.DATA_MASK_010,new Qn(Dn.DATA_MASK_010,(O,r)=>r%3===0)],[Dn.DATA_MASK_011,new Qn(Dn.DATA_MASK_011,(O,r)=>(O+r)%3===0)],[Dn.DATA_MASK_100,new Qn(Dn.DATA_MASK_100,(O,r)=>(Math.floor(O/2)+Math.floor(r/3)&1)===0)],[Dn.DATA_MASK_101,new Qn(Dn.DATA_MASK_101,(O,r)=>O*r%6===0)],[Dn.DATA_MASK_110,new Qn(Dn.DATA_MASK_110,(O,r)=>O*r%6<3)],[Dn.DATA_MASK_111,new Qn(Dn.DATA_MASK_111,(O,r)=>(O+r+O*r%3&1)===0)]]);class gx{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new $;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let d=0;d<6;d++)r=this.copyBit(d,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let d=5;d>=0;d--)r=this.copyBit(8,d,r);const s=this.bitMatrix.getHeight();let o=0;const f=s-7;for(let d=s-1;d>=f;d--)o=this.copyBit(8,d,o);for(let d=s-8;d<s;d++)o=this.copyBit(d,8,o);if(this.parsedFormatInfo=Yn.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return We.getVersionForNumber(s);let o=0;const f=r-11;for(let g=5;g>=0;g--)for(let m=r-9;m>=f;m--)o=this.copyBit(m,g,o);let d=We.decodeVersionInformation(o);if(d!==null&&d.getDimensionForVersion()===r)return this.parsedVersion=d,d;o=0;for(let g=5;g>=0;g--)for(let m=r-9;m>=f;m--)o=this.copyBit(g,m,o);if(d=We.decodeVersionInformation(o),d!==null&&d.getDimensionForVersion()===r)return this.parsedVersion=d,d;throw new $}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=Qn.values.get(r.getDataMask()),f=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,f);const d=s.buildFunctionPattern();let g=!0;const m=new Uint8Array(s.getTotalCodewords());let A=0,S=0,v=0;for(let B=f-1;B>0;B-=2){B===6&&B--;for(let M=0;M<f;M++){const G=g?f-1-M:M;for(let K=0;K<2;K++)d.get(B-K,G)||(v++,S<<=1,this.bitMatrix.get(B-K,G)&&(S|=1),v===8&&(m[A++]=S,v=0,S=0))}g=!g}if(A!==s.getTotalCodewords())throw new $;return m}remask(){if(this.parsedFormatInfo===null)return;const r=Qn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let f=s+1,d=r.getHeight();f<d;f++)r.get(s,f)!==r.get(f,s)&&(r.flip(f,s),r.flip(s,f))}}class Rc{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new N;const f=s.getECBlocksForLevel(o);let d=0;const g=f.getECBlocks();for(const K of g)d+=K.getCount();const m=new Array(d);let A=0;for(const K of g)for(let W=0;W<K.getCount();W++){const se=K.getDataCodewords(),ge=f.getECCodewordsPerBlock()+se;m[A++]=new Rc(se,new Uint8Array(ge))}const S=m[0].codewords.length;let v=m.length-1;for(;v>=0&&m[v].codewords.length!==S;)v--;v++;const B=S-f.getECCodewordsPerBlock();let M=0;for(let K=0;K<B;K++)for(let W=0;W<A;W++)m[W].codewords[K]=r[M++];for(let K=v;K<A;K++)m[K].codewords[B]=r[M++];const G=m[0].codewords.length;for(let K=B;K<G;K++)for(let W=0;W<A;W++){const se=W<v?K:K+1;m[W].codewords[se]=r[M++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Fr;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(Fr||(Fr={}));class qe{constructor(r,s,o,f){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=f,qe.FOR_BITS.set(f,this),qe.FOR_VALUE.set(r,this)}static forBits(r){const s=qe.FOR_BITS.get(r);if(s===void 0)throw new N;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof qe))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}qe.FOR_BITS=new Map,qe.FOR_VALUE=new Map,qe.TERMINATOR=new qe(Fr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),qe.NUMERIC=new qe(Fr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),qe.ALPHANUMERIC=new qe(Fr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),qe.STRUCTURED_APPEND=new qe(Fr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),qe.BYTE=new qe(Fr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),qe.ECI=new qe(Fr.ECI,"ECI",Int32Array.from([0,0,0]),7),qe.KANJI=new qe(Fr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),qe.FNC1_FIRST_POSITION=new qe(Fr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),qe.FNC1_SECOND_POSITION=new qe(Fr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),qe.HANZI=new qe(Fr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class un{static decode(r,s,o,f){const d=new Tr(r);let g=new Ge;const m=new Array;let A=-1,S=-1;try{let v=null,B=!1,M;do{if(d.available()<4)M=qe.TERMINATOR;else{const G=d.readBits(4);M=qe.forBits(G)}switch(M){case qe.TERMINATOR:break;case qe.FNC1_FIRST_POSITION:case qe.FNC1_SECOND_POSITION:B=!0;break;case qe.STRUCTURED_APPEND:if(d.available()<16)throw new $;A=d.readBits(8),S=d.readBits(8);break;case qe.ECI:const G=un.parseECIValue(d);if(v=ce.getCharacterSetECIByValue(G),v===null)throw new $;break;case qe.HANZI:const K=d.readBits(4),W=d.readBits(M.getCharacterCountBits(s));K===un.GB2312_SUBSET&&un.decodeHanziSegment(d,g,W);break;default:const se=d.readBits(M.getCharacterCountBits(s));switch(M){case qe.NUMERIC:un.decodeNumericSegment(d,g,se);break;case qe.ALPHANUMERIC:un.decodeAlphanumericSegment(d,g,se,B);break;case qe.BYTE:un.decodeByteSegment(d,g,se,v,m,f);break;case qe.KANJI:un.decodeKanjiSegment(d,g,se);break;default:throw new $}break}}while(M!==qe.TERMINATOR)}catch{throw new $}return new An(r,g.toString(),m.length===0?null:m,o===null?null:o.toString(),A,S)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new $;const f=new Uint8Array(2*o);let d=0;for(;o>0;){const g=r.readBits(13);let m=g/96<<8&4294967295|g%96;m<959?m+=41377:m+=42657,f[d]=m>>8&255,f[d+1]=m&255,d+=2,o--}try{s.append(Le.decode(f,Oe.GB2312))}catch(g){throw new $(g)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new $;const f=new Uint8Array(2*o);let d=0;for(;o>0;){const g=r.readBits(13);let m=g/192<<8&4294967295|g%192;m<7936?m+=33088:m+=49472,f[d]=m>>8,f[d+1]=m,d+=2,o--}try{s.append(Le.decode(f,Oe.SHIFT_JIS))}catch(g){throw new $(g)}}static decodeByteSegment(r,s,o,f,d,g){if(8*o>r.available())throw new $;const m=new Uint8Array(o);for(let S=0;S<o;S++)m[S]=r.readBits(8);let A;f===null?A=Oe.guessEncoding(m,g):A=f.getName();try{s.append(Le.decode(m,A))}catch(S){throw new $(S)}d.push(m)}static toAlphaNumericChar(r){if(r>=un.ALPHANUMERIC_CHARS.length)throw new $;return un.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,f){const d=s.length();for(;o>1;){if(r.available()<11)throw new $;const g=r.readBits(11);s.append(un.toAlphaNumericChar(Math.floor(g/45))),s.append(un.toAlphaNumericChar(g%45)),o-=2}if(o===1){if(r.available()<6)throw new $;s.append(un.toAlphaNumericChar(r.readBits(6)))}if(f)for(let g=d;g<s.length();g++)s.charAt(g)==="%"&&(g<s.length()-1&&s.charAt(g+1)==="%"?s.deleteCharAt(g+1):s.setCharAt(g,""))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new $;const f=r.readBits(10);if(f>=1e3)throw new $;s.append(un.toAlphaNumericChar(Math.floor(f/100))),s.append(un.toAlphaNumericChar(Math.floor(f/10)%10)),s.append(un.toAlphaNumericChar(f%10)),o-=3}if(o===2){if(r.available()<7)throw new $;const f=r.readBits(7);if(f>=100)throw new $;s.append(un.toAlphaNumericChar(Math.floor(f/10))),s.append(un.toAlphaNumericChar(f%10))}else if(o===1){if(r.available()<4)throw new $;const f=r.readBits(4);if(f>=10)throw new $;s.append(un.toAlphaNumericChar(f))}}static parseECIValue(r){const s=r.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new $}}un.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",un.GB2312_SUBSET=1;class Vd{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class Oc{constructor(){this.rsDecoder=new ms(st.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(De.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new gx(r);let f=null;try{return this.decodeBitMatrixParser(o,s)}catch(d){f=d}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const d=this.decodeBitMatrixParser(o,s);return d.setOther(new Vd(!0)),d}catch(d){throw f!==null?f:d}}decodeBitMatrixParser(r,s){const o=r.readVersion(),f=r.readFormatInformation().getErrorCorrectionLevel(),d=r.readCodewords(),g=Rc.getDataBlocks(d,o,f);let m=0;for(const v of g)m+=v.getNumDataCodewords();const A=new Uint8Array(m);let S=0;for(const v of g){const B=v.getCodewords(),M=v.getNumDataCodewords();this.correctErrors(B,M);for(let G=0;G<M;G++)A[S++]=B[G]}return un.decode(A,o,f,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new L}for(let f=0;f<s;f++)r[f]=o[f]}}class ao extends Ye{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const f=Math.abs(r-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const f=(this.getX()+s)/2,d=(this.getY()+r)/2,g=(this.estimatedModuleSize+o)/2;return new ao(f,d,g)}}class Za{constructor(r,s,o,f,d,g,m){this.image=r,this.startX=s,this.startY=o,this.width=f,this.height=d,this.moduleSize=g,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,f=r+o,d=this.startY+s/2,g=new Int32Array(3),m=this.image;for(let A=0;A<s;A++){const S=d+((A&1)===0?Math.floor((A+1)/2):-Math.floor((A+1)/2));g[0]=0,g[1]=0,g[2]=0;let v=r;for(;v<f&&!m.get(v,S);)v++;let B=0;for(;v<f;){if(m.get(v,S))if(B===1)g[1]++;else if(B===2){if(this.foundPatternCross(g)){const M=this.handlePossibleCenter(g,S,v);if(M!==null)return M}g[0]=g[2],g[1]=1,g[2]=0,B=1}else g[++B]++;else B===1&&B++,g[B]++;v++}if(this.foundPatternCross(g)){const M=this.handlePossibleCenter(g,S,f);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let f=0;f<3;f++)if(Math.abs(s-r[f])>=o)return!1;return!0}crossCheckVertical(r,s,o,f){const d=this.image,g=d.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let A=r;for(;A>=0&&d.get(s,A)&&m[1]<=o;)m[1]++,A--;if(A<0||m[1]>o)return NaN;for(;A>=0&&!d.get(s,A)&&m[0]<=o;)m[0]++,A--;if(m[0]>o)return NaN;for(A=r+1;A<g&&d.get(s,A)&&m[1]<=o;)m[1]++,A++;if(A===g||m[1]>o)return NaN;for(;A<g&&!d.get(s,A)&&m[2]<=o;)m[2]++,A++;if(m[2]>o)return NaN;const S=m[0]+m[1]+m[2];return 5*Math.abs(S-f)>=2*f?NaN:this.foundPatternCross(m)?Za.centerFromEnd(m,A):NaN}handlePossibleCenter(r,s,o){const f=r[0]+r[1]+r[2],d=Za.centerFromEnd(r,o),g=this.crossCheckVertical(s,d,2*r[1],f);if(!isNaN(g)){const m=(r[0]+r[1]+r[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(m,g,d))return S.combineEstimate(g,d,m);const A=new ao(d,g,m);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class As extends Ye{constructor(r,s,o,f){super(r,s),this.estimatedModuleSize=o,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const f=Math.abs(r-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const f=this.count+1,d=(this.count*this.getX()+s)/f,g=(this.count*this.getY()+r)/f,m=(this.count*this.estimatedModuleSize+o)/f;return new As(d,g,m,f)}}class Wa{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mn{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(ae.TRY_HARDER)!==void 0,o=r!=null&&r.get(ae.PURE_BARCODE)!==void 0,f=this.image,d=f.getHeight(),g=f.getWidth();let m=Math.floor(3*d/(4*Mn.MAX_MODULES));(m<Mn.MIN_SKIP||s)&&(m=Mn.MIN_SKIP);let A=!1;const S=new Int32Array(5);for(let B=m-1;B<d&&!A;B+=m){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let M=0;for(let G=0;G<g;G++)if(f.get(G,B))(M&1)===1&&M++,S[M]++;else if((M&1)===0)if(M===4)if(Mn.foundPatternCross(S)){if(this.handlePossibleCenter(S,B,G,o)===!0)if(m=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>S[2]&&(B+=W-S[2]-m,G=g-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,M=3;continue}M=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,M=3;else S[++M]++;else S[M]++;Mn.foundPatternCross(S)&&this.handlePossibleCenter(S,B,g,o)===!0&&(m=S[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return Ye.orderBestPatterns(v),new Wa(v)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let d=0;d<5;d++){const g=r[d];if(g===0)return!1;s+=g}if(s<7)return!1;const o=s/7,f=o/2;return Math.abs(o-r[0])<f&&Math.abs(o-r[1])<f&&Math.abs(3*o-r[2])<3*f&&Math.abs(o-r[3])<f&&Math.abs(o-r[4])<f}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,f){const d=this.getCrossCheckStateCount();let g=0;const m=this.image;for(;r>=g&&s>=g&&m.get(s-g,r-g);)d[2]++,g++;if(r<g||s<g)return!1;for(;r>=g&&s>=g&&!m.get(s-g,r-g)&&d[1]<=o;)d[1]++,g++;if(r<g||s<g||d[1]>o)return!1;for(;r>=g&&s>=g&&m.get(s-g,r-g)&&d[0]<=o;)d[0]++,g++;if(d[0]>o)return!1;const A=m.getHeight(),S=m.getWidth();for(g=1;r+g<A&&s+g<S&&m.get(s+g,r+g);)d[2]++,g++;if(r+g>=A||s+g>=S)return!1;for(;r+g<A&&s+g<S&&!m.get(s+g,r+g)&&d[3]<o;)d[3]++,g++;if(r+g>=A||s+g>=S||d[3]>=o)return!1;for(;r+g<A&&s+g<S&&m.get(s+g,r+g)&&d[4]<o;)d[4]++,g++;if(d[4]>=o)return!1;const v=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(v-f)<2*f&&Mn.foundPatternCross(d)}crossCheckVertical(r,s,o,f){const d=this.image,g=d.getHeight(),m=this.getCrossCheckStateCount();let A=r;for(;A>=0&&d.get(s,A);)m[2]++,A--;if(A<0)return NaN;for(;A>=0&&!d.get(s,A)&&m[1]<=o;)m[1]++,A--;if(A<0||m[1]>o)return NaN;for(;A>=0&&d.get(s,A)&&m[0]<=o;)m[0]++,A--;if(m[0]>o)return NaN;for(A=r+1;A<g&&d.get(s,A);)m[2]++,A++;if(A===g)return NaN;for(;A<g&&!d.get(s,A)&&m[3]<o;)m[3]++,A++;if(A===g||m[3]>=o)return NaN;for(;A<g&&d.get(s,A)&&m[4]<o;)m[4]++,A++;if(m[4]>=o)return NaN;const S=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(S-f)>=2*f?NaN:Mn.foundPatternCross(m)?Mn.centerFromEnd(m,A):NaN}crossCheckHorizontal(r,s,o,f){const d=this.image,g=d.getWidth(),m=this.getCrossCheckStateCount();let A=r;for(;A>=0&&d.get(A,s);)m[2]++,A--;if(A<0)return NaN;for(;A>=0&&!d.get(A,s)&&m[1]<=o;)m[1]++,A--;if(A<0||m[1]>o)return NaN;for(;A>=0&&d.get(A,s)&&m[0]<=o;)m[0]++,A--;if(m[0]>o)return NaN;for(A=r+1;A<g&&d.get(A,s);)m[2]++,A++;if(A===g)return NaN;for(;A<g&&!d.get(A,s)&&m[3]<o;)m[3]++,A++;if(A===g||m[3]>=o)return NaN;for(;A<g&&d.get(A,s)&&m[4]<o;)m[4]++,A++;if(m[4]>=o)return NaN;const S=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(S-f)>=f?NaN:Mn.foundPatternCross(m)?Mn.centerFromEnd(m,A):NaN}handlePossibleCenter(r,s,o,f){const d=r[0]+r[1]+r[2]+r[3]+r[4];let g=Mn.centerFromEnd(r,o),m=this.crossCheckVertical(s,Math.floor(g),r[2],d);if(!isNaN(m)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(m),r[2],d),!isNaN(g)&&(!f||this.crossCheckDiagonal(Math.floor(m),Math.floor(g),r[2],d)))){const A=d/7;let S=!1;const v=this.possibleCenters;for(let B=0,M=v.length;B<M;B++){const G=v[B];if(G.aboutEquals(A,m,g)){v[B]=G.combineEstimate(m,g,A),S=!0;break}}if(!S){const B=new As(g,m,A);v.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=Mn.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Mn.CENTER_QUORUM&&(r++,s+=g.getEstimatedModuleSize());if(r<3)return!1;const f=s/o;let d=0;for(const g of this.possibleCenters)d+=Math.abs(g.getEstimatedModuleSize()-f);return d<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new H;const s=this.possibleCenters;let o;if(r>3){let f=0,d=0;for(const A of this.possibleCenters){const S=A.getEstimatedModuleSize();f+=S,d+=S*S}o=f/r;let g=Math.sqrt(d/r-o*o);s.sort((A,S)=>{const v=Math.abs(S.getEstimatedModuleSize()-o),B=Math.abs(A.getEstimatedModuleSize()-o);return v<B?-1:v>B?1:0});const m=Math.max(.2*o,g);for(let A=0;A<s.length&&s.length>3;A++){const S=s[A];Math.abs(S.getEstimatedModuleSize()-o)>m&&(s.splice(A,1),A--)}}if(s.length>3){let f=0;for(const d of s)f+=d.getEstimatedModuleSize();o=f/s.length,s.sort((d,g)=>{if(g.getCount()===d.getCount()){const m=Math.abs(g.getEstimatedModuleSize()-o),A=Math.abs(d.getEstimatedModuleSize()-o);return m<A?1:m>A?-1:0}else return g.getCount()-d.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Mn.CENTER_QUORUM=2,Mn.MIN_SKIP=3,Mn.MAX_MODULES=57;class na{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(ae.NEED_RESULT_POINT_CALLBACK);const o=new Mn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),f=r.getBottomLeft(),d=this.calculateModuleSize(s,o,f);if(d<1)throw new H("No pattern found in proccess finder.");const g=na.computeDimension(s,o,f,d),m=We.getProvisionalVersionForDimension(g),A=m.getDimensionForVersion()-7;let S=null;if(m.getAlignmentPatternCenters().length>0){const G=o.getX()-s.getX()+f.getX(),K=o.getY()-s.getY()+f.getY(),W=1-3/A,se=Math.floor(s.getX()+W*(G-s.getX())),ge=Math.floor(s.getY()+W*(K-s.getY()));for(let Ie=4;Ie<=16;Ie<<=1)try{S=this.findAlignmentInRegion(d,se,ge,Ie);break}catch(Me){if(!(Me instanceof H))throw Me}}const v=na.createTransform(s,o,f,S,g),B=na.sampleGrid(this.image,v,g);let M;return S===null?M=[f,s,o]:M=[f,s,o,S],new Ac(B,M)}static createTransform(r,s,o,f,d){const g=d-3.5;let m,A,S,v;return f!==null?(m=f.getX(),A=f.getY(),S=g-3,v=S):(m=s.getX()-r.getX()+o.getX(),A=s.getY()-r.getY()+o.getY(),S=g,v=g),fr.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,S,v,3.5,g,r.getX(),r.getY(),s.getX(),s.getY(),m,A,o.getX(),o.getY())}static sampleGrid(r,s,o){return dr.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,f){const d=Et.round(Ye.distance(r,s)/f),g=Et.round(Ye.distance(r,o)/f);let m=Math.floor((d+g)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new H("Dimensions could be not found.")}return m}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?f/7:isNaN(f)?o/7:(o+f)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,f){let d=this.sizeOfBlackWhiteBlackRun(r,s,o,f),g=1,m=r-(o-r);m<0?(g=r/(r-m),m=0):m>=this.image.getWidth()&&(g=(this.image.getWidth()-1-r)/(m-r),m=this.image.getWidth()-1);let A=Math.floor(s-(f-s)*g);return g=1,A<0?(g=s/(s-A),A=0):A>=this.image.getHeight()&&(g=(this.image.getHeight()-1-s)/(A-s),A=this.image.getHeight()-1),m=Math.floor(r+(m-r)*g),d+=this.sizeOfBlackWhiteBlackRun(r,s,m,A),d-1}sizeOfBlackWhiteBlackRun(r,s,o,f){const d=Math.abs(f-s)>Math.abs(o-r);if(d){let G=r;r=s,s=G,G=o,o=f,f=G}const g=Math.abs(o-r),m=Math.abs(f-s);let A=-g/2;const S=r<o?1:-1,v=s<f?1:-1;let B=0;const M=o+S;for(let G=r,K=s;G!==M;G+=S){const W=d?K:G,se=d?G:K;if(B===1===this.image.get(W,se)){if(B===2)return Et.distance(G,K,r,s);B++}if(A+=m,A>0){if(K===f)break;K+=v,A-=g}}return B===2?Et.distance(o+S,f,r,s):NaN}findAlignmentInRegion(r,s,o,f){const d=Math.floor(f*r),g=Math.max(0,s-d),m=Math.min(this.image.getWidth()-1,s+d);if(m-g<r*3)throw new H("Alignment top exceeds estimated module size.");const A=Math.max(0,o-d),S=Math.min(this.image.getHeight()-1,o+d);if(S-A<r*3)throw new H("Alignment bottom exceeds estimated module size.");return new Za(this.image,g,A,m-g,S-A,r,this.resultPointCallback).find()}}class Wi{constructor(){this.decoder=new Oc}getDecoder(){return this.decoder}decode(r,s){let o,f;if(s!=null&&s.get(ae.PURE_BARCODE)!==void 0){const A=Wi.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(A,s),f=Wi.NO_POINTS}else{const A=new na(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(A.getBits(),s),f=A.getPoints()}o.getOther()instanceof Vd&&o.getOther().applyMirroredCorrection(f);const d=new ke(o.getText(),o.getRawBytes(),void 0,f,ve.QR_CODE,void 0),g=o.getByteSegments();g!==null&&d.putMetadata(it.BYTE_SEGMENTS,g);const m=o.getECLevel();return m!==null&&d.putMetadata(it.ERROR_CORRECTION_LEVEL,m),o.hasStructuredAppend()&&(d.putMetadata(it.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),d.putMetadata(it.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),d}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new H;const f=this.moduleSize(s,r);let d=s[1],g=o[1],m=s[0],A=o[0];if(m>=A||d>=g)throw new H;if(g-d!==A-m&&(A=m+(g-d),A>=r.getWidth()))throw new H;const S=Math.round((A-m+1)/f),v=Math.round((g-d+1)/f);if(S<=0||v<=0)throw new H;if(v!==S)throw new H;const B=Math.floor(f/2);d+=B,m+=B;const M=m+Math.floor((S-1)*f)-A;if(M>0){if(M>B)throw new H;m-=M}const G=d+Math.floor((v-1)*f)-g;if(G>0){if(G>B)throw new H;d-=G}const K=new De(S,v);for(let W=0;W<v;W++){const se=d+Math.floor(W*f);for(let ge=0;ge<S;ge++)r.get(m+Math.floor(ge*f),se)&&K.set(ge,W)}return K}static moduleSize(r,s){const o=s.getHeight(),f=s.getWidth();let d=r[0],g=r[1],m=!0,A=0;for(;d<f&&g<o;){if(m!==s.get(d,g)){if(++A===5)break;m=!m}d++,g++}if(d===f||g===o)throw new H;return(d-r[0])/7}}Wi.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(r){return Et.sum(r)}static toIntArray(r){if(r==null||!r.length)return $e.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const f of r)s[o++]=f;return s}static getCodeword(r){const s=re.binarySearch($e.SYMBOL_TABLE,r&262143);return s<0?-1:($e.CODEWORD_TABLE[s]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class qi{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class lt{static detectMultiple(r,s,o){let f=r.getBlackMatrix(),d=lt.detect(o,f);return d.length||(f=f.clone(),f.rotate180(),d=lt.detect(o,f)),new qi(f,d)}static detect(r,s){const o=new Array;let f=0,d=0,g=!1;for(;f<s.getHeight();){const m=lt.findVertices(s,f,d);if(m[0]==null&&m[3]==null){if(!g)break;g=!1,d=0;for(const A of o)A[1]!=null&&(f=Math.trunc(Math.max(f,A[1].getY()))),A[3]!=null&&(f=Math.max(f,Math.trunc(A[3].getY())));f+=lt.ROW_STEP;continue}if(g=!0,o.push(m),!r)break;m[2]!=null?(d=Math.trunc(m[2].getX()),f=Math.trunc(m[2].getY())):(d=Math.trunc(m[4].getX()),f=Math.trunc(m[4].getY()))}return o}static findVertices(r,s,o){const f=r.getHeight(),d=r.getWidth(),g=new Array(8);return lt.copyToResult(g,lt.findRowsWithPattern(r,f,d,s,o,lt.START_PATTERN),lt.INDEXES_START_PATTERN),g[4]!=null&&(o=Math.trunc(g[4].getX()),s=Math.trunc(g[4].getY())),lt.copyToResult(g,lt.findRowsWithPattern(r,f,d,s,o,lt.STOP_PATTERN),lt.INDEXES_STOP_PATTERN),g}static copyToResult(r,s,o){for(let f=0;f<o.length;f++)r[o[f]]=s[f]}static findRowsWithPattern(r,s,o,f,d,g){const m=new Array(4);let A=!1;const S=new Int32Array(g.length);for(;f<s;f+=lt.ROW_STEP){let B=lt.findGuardPattern(r,d,f,o,!1,g,S);if(B!=null){for(;f>0;){const M=lt.findGuardPattern(r,d,--f,o,!1,g,S);if(M!=null)B=M;else{f++;break}}m[0]=new Ye(B[0],f),m[1]=new Ye(B[1],f),A=!0;break}}let v=f+1;if(A){let B=0,M=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;v<s;v++){const G=lt.findGuardPattern(r,M[0],v,o,!1,g,S);if(G!=null&&Math.abs(M[0]-G[0])<lt.MAX_PATTERN_DRIFT&&Math.abs(M[1]-G[1])<lt.MAX_PATTERN_DRIFT)M=G,B=0;else{if(B>lt.SKIPPED_ROW_COUNT_MAX)break;B++}}v-=B+1,m[2]=new Ye(M[0],v),m[3]=new Ye(M[1],v)}return v-f<lt.BARCODE_MIN_HEIGHT&&re.fill(m,null),m}static findGuardPattern(r,s,o,f,d,g,m){re.fillWithin(m,0,m.length,0);let A=s,S=0;for(;r.get(A,o)&&A>0&&S++<lt.MAX_PIXEL_DRIFT;)A--;let v=A,B=0,M=g.length;for(let G=d;v<f;v++)if(r.get(v,o)!==G)m[B]++;else{if(B===M-1){if(lt.patternMatchVariance(m,g,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return new Int32Array([A,v]);A+=m[0]+m[1],k.arraycopy(m,2,m,0,B-1),m[B-1]=0,m[B]=0,B--}else B++;m[B]=1,G=!G}return B===M-1&&lt.patternMatchVariance(m,g,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE?new Int32Array([A,v-1]):null}static patternMatchVariance(r,s,o){let f=r.length,d=0,g=0;for(let S=0;S<f;S++)d+=r[S],g+=s[S];if(d<g)return 1/0;let m=d/g;o*=m;let A=0;for(let S=0;S<f;S++){let v=r[S],B=s[S]*m,M=v>B?v-B:B-v;if(M>o)return 1/0;A+=M}return A/d}}lt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),lt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),lt.MAX_AVG_VARIANCE=.42,lt.MAX_INDIVIDUAL_VARIANCE=.8,lt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),lt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),lt.MAX_PIXEL_DRIFT=3,lt.MAX_PATTERN_DRIFT=5,lt.SKIPPED_ROW_COUNT_MAX=25,lt.ROW_STEP=5,lt.BARCODE_MIN_HEIGHT=10;class pn{constructor(r,s){if(s.length===0)throw new N;this.field=r;let o=s.length;if(o>1&&s[0]===0){let f=1;for(;f<o&&s[f]===0;)f++;f===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-f),k.arraycopy(s,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let f=0;for(let d of this.coefficients)f=this.field.add(f,d);return f}let s=this.coefficients[0],o=this.coefficients.length;for(let f=1;f<o;f++)s=this.field.add(this.field.multiply(r,s),this.coefficients[f]);return s}add(r){if(!this.field.equals(r.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let g=s;s=o,o=g}let f=new Int32Array(o.length),d=o.length-s.length;k.arraycopy(o,0,f,0,d);for(let g=d;g<o.length;g++)f[g]=this.field.add(s[g-d],o[g]);return new pn(this.field,f)}subtract(r){if(!this.field.equals(r.field))throw new N("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof pn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new pn(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,f=r.coefficients,d=f.length,g=new Int32Array(o+d-1);for(let m=0;m<o;m++){let A=s[m];for(let S=0;S<d;S++)g[m+S]=this.field.add(g[m+S],this.field.multiply(A,f[S]))}return new pn(this.field,g)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new pn(this.field,s)}multiplyScalar(r){if(r===0)return new pn(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=this.field.multiply(this.coefficients[f],r);return new pn(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new N;if(s===0)return new pn(this.field,new Int32Array([0]));let o=this.coefficients.length,f=new Int32Array(o+r);for(let d=0;d<o;d++)f[d]=this.field.multiply(this.coefficients[d],s);return new pn(this.field,f)}toString(){let r=new Ge;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class Es{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new N;return this.logTable[r]}inverse(r){if(r===0)throw new kr;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class lo extends Es{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let f=0;f<r;f++)this.expTable[f]=o,o=o*s%r;for(let f=0;f<r-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new pn(this,new Int32Array([0])),this.one=new pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new N;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new pn(this,o)}}lo.PDF417_GF=new lo($e.NUMBER_OF_CODEWORDS,3);class oo{constructor(){this.field=lo.PDF417_GF}decode(r,s,o){let f=new pn(this.field,r),d=new Int32Array(s),g=!1;for(let K=s;K>0;K--){let W=f.evaluateAt(this.field.exp(K));d[s-K]=W,W!==0&&(g=!0)}if(!g)return 0;let m=this.field.getOne();if(o!=null)for(const K of o){let W=this.field.exp(r.length-1-K),se=new pn(this.field,new Int32Array([this.field.subtract(0,W),1]));m=m.multiply(se)}let A=new pn(this.field,d),S=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),A,s),v=S[0],B=S[1],M=this.findErrorLocations(v),G=this.findErrorMagnitudes(B,v,M);for(let K=0;K<M.length;K++){let W=r.length-1-this.field.log(M[K]);if(W<0)throw L.getChecksumInstance();r[W]=this.field.subtract(r[W],G[K])}return M.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let M=r;r=s,s=M}let f=r,d=s,g=this.field.getZero(),m=this.field.getOne();for(;d.getDegree()>=Math.round(o/2);){let M=f,G=g;if(f=d,g=m,f.isZero())throw L.getChecksumInstance();d=M;let K=this.field.getZero(),W=f.getCoefficient(f.getDegree()),se=this.field.inverse(W);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){let ge=d.getDegree()-f.getDegree(),Ie=this.field.multiply(d.getCoefficient(d.getDegree()),se);K=K.add(this.field.buildMonomial(ge,Ie)),d=d.subtract(f.multiplyByMonomial(ge,Ie))}m=K.multiply(g).subtract(G).negative()}let A=m.getCoefficient(0);if(A===0)throw L.getChecksumInstance();let S=this.field.inverse(A),v=m.multiply(S),B=d.multiply(S);return[v,B]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),f=0;for(let d=1;d<this.field.getSize()&&f<s;d++)r.evaluateAt(d)===0&&(o[f]=this.field.inverse(d),f++);if(f!==s)throw L.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let f=s.getDegree(),d=new Int32Array(f);for(let S=1;S<=f;S++)d[f-S]=this.field.multiply(S,s.getCoefficient(S));let g=new pn(this.field,d),m=o.length,A=new Int32Array(m);for(let S=0;S<m;S++){let v=this.field.inverse(o[S]),B=this.field.subtract(0,r.evaluateAt(v)),M=this.field.inverse(g.evaluateAt(v));A[S]=this.field.multiply(B,M)}return A}}class Cs{constructor(r,s,o,f,d){r instanceof Cs?this.constructor_2(r):this.constructor_1(r,s,o,f,d)}constructor_1(r,s,o,f,d){const g=s==null||o==null,m=f==null||d==null;if(g&&m)throw new H;g?(s=new Ye(0,f.getY()),o=new Ye(0,d.getY())):m&&(f=new Ye(r.getWidth()-1,s.getY()),d=new Ye(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=f,this.bottomRight=d,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(f.getX(),d.getX())),this.minY=Math.trunc(Math.min(s.getY(),f.getY())),this.maxY=Math.trunc(Math.max(o.getY(),d.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new Cs(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let f=this.topLeft,d=this.bottomLeft,g=this.topRight,m=this.bottomRight;if(r>0){let A=o?this.topLeft:this.topRight,S=Math.trunc(A.getY()-r);S<0&&(S=0);let v=new Ye(A.getX(),S);o?f=v:g=v}if(s>0){let A=o?this.bottomLeft:this.bottomRight,S=Math.trunc(A.getY()+s);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let v=new Ye(A.getX(),S);o?d=v:m=v}return new Cs(this.image,f,d,g,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ic{constructor(r,s,o,f){this.columnCount=r,this.errorCorrectionLevel=f,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ss{constructor(){this.buffer=""}static form(r,s){let o=-1;function f(g,m,A,S,v,B){if(g==="%%")return"%";if(s[++o]===void 0)return;g=S?parseInt(S.substr(1)):void 0;let M=v?parseInt(v.substr(1)):void 0,G;switch(B){case"s":G=s[o];break;case"c":G=s[o][0];break;case"f":G=parseFloat(s[o]).toFixed(g);break;case"p":G=parseFloat(s[o]).toPrecision(g);break;case"e":G=parseFloat(s[o]).toExponential(g);break;case"x":G=parseInt(s[o]).toString(M||16);break;case"d":G=parseFloat(parseInt(s[o],M||10).toPrecision(g)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(M);let K=parseInt(A),W=A&&A[0]+""=="0"?"0":" ";for(;G.length<K;)G=m!==void 0?G+W:W+G;return G}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(d,f)}format(r,...s){this.buffer+=Ss.form(r,s)}toString(){return this.buffer}}class qa{constructor(r){this.boundingBox=new Cs(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<qa.MAX_NEARBY_DISTANCE;o++){let f=this.imageRowToCodewordIndex(r)-o;if(f>=0&&(s=this.codewords[f],s!=null)||(f=this.imageRowToCodewordIndex(r)+o,f<this.codewords.length&&(s=this.codewords[f],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ss;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}qa.MAX_NEARBY_DISTANCE=5;class Gn{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,f]of this.values.entries()){const d={getKey:()=>o,getValue:()=>f};d.getValue()>r?(r=d.getValue(),s=[],s.push(d.getKey())):d.getValue()===r&&s.push(d.getKey())}return $e.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class Ts extends qa{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),f=this._isLeft?o.getTopLeft():o.getTopRight(),d=this._isLeft?o.getBottomLeft():o.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),m=this.imageRowToCodewordIndex(Math.trunc(d.getY())),A=-1,S=1,v=0;for(let B=g;B<m;B++){if(s[B]==null)continue;let M=s[B],G=M.getRowNumber()-A;if(G===0)v++;else if(G===1)S=Math.max(S,v),v=1,A=M.getRowNumber();else if(G<0||M.getRowNumber()>=r.getRowCount()||G>B)s[B]=null;else{let K;S>2?K=(S-2)*G:K=G;let W=K>=B;for(let se=1;se<=K&&!W;se++)W=s[B-se]!=null;W?s[B]=null:(A=M.getRowNumber(),v=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let f=o.getRowNumber();if(f>=s.length)continue;s[f]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),f=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),m=this.getCodewords(),A=-1;for(let S=d;S<g;S++){if(m[S]==null)continue;let v=m[S];v.setRowNumberAsRowIndicatorColumn();let B=v.getRowNumber()-A;B===0||(B===1?A=v.getRowNumber():v.getRowNumber()>=r.getRowCount()?m[S]=null:A=v.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new Gn,o=new Gn,f=new Gn,d=new Gn;for(let m of r){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let A=m.getValue()%30,S=m.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:o.setValue(A*3+1);break;case 1:d.setValue(A/3),f.setValue(A%3);break;case 2:s.setValue(A+1);break}}if(s.getValue().length===0||o.getValue().length===0||f.getValue().length===0||d.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+f.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||o.getValue()[0]+f.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let g=new Ic(s.getValue()[0],o.getValue()[0],f.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(r,g),g}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let f=r[o];if(r[o]==null)continue;let d=f.getValue()%30,g=f.getRowNumber();if(g>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:d*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(d/3)!==s.getErrorCorrectionLevel()||d%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:d+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ns{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=$e.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let f=0;f<o.length;f++)o[f]!=null&&(o[f].hasValidRowNumber()||this.adjustRowNumbers(s,f,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(d.setRowNumber(r[o].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let f=s[o].getRowNumber(),d=0;for(let g=this.barcodeColumnCount+1;g>0&&d<this.ADJUST_ROW_NUMBER_SKIP;g--){let m=this.detectionResultColumns[g].getCodewords()[o];m!=null&&(d=Ns.adjustRowNumberIfValid(f,d,m),m.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let f=s[o].getRowNumber(),d=0;for(let g=1;g<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;g++){let m=this.detectionResultColumns[g].getCodewords()[o];m!=null&&(d=Ns.adjustRowNumberIfValid(f,d,m),m.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let f=o[s],d=this.detectionResultColumns[r-1].getCodewords(),g=d;this.detectionResultColumns[r+1]!=null&&(g=this.detectionResultColumns[r+1].getCodewords());let m=new Array(14);m[2]=d[s],m[3]=g[s],s>0&&(m[0]=o[s-1],m[4]=d[s-1],m[5]=g[s-1]),s>1&&(m[8]=o[s-2],m[10]=d[s-2],m[11]=g[s-2]),s<o.length-1&&(m[1]=o[s+1],m[6]=d[s+1],m[7]=g[s+1]),s<o.length-2&&(m[9]=o[s+2],m[12]=d[s+2],m[13]=g[s+2]);for(let A of m)if(Ns.adjustRowNumber(f,A))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Ss;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){s.format("    |   ");continue}let d=this.detectionResultColumns[f].getCodewords()[o];if(d==null){s.format("    |   ");continue}s.format(" %3d|%3d",d.getRowNumber(),d.getValue())}s.format("%n")}return s.toString()}}class Ji{constructor(r,s,o,f){this.rowNumber=Ji.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Ji.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Ji.BARCODE_ROW_UNKNOWN=-1;class Nr{static initialize(){for(let r=0;r<$e.SYMBOL_TABLE.length;r++){let s=$e.SYMBOL_TABLE[r],o=s&1;for(let f=0;f<$e.BARS_IN_MODULE;f++){let d=0;for(;(s&1)===o;)d+=1,s>>=1;o=s&1,Nr.RATIOS_TABLE[r]||(Nr.RATIOS_TABLE[r]=new Array($e.BARS_IN_MODULE)),Nr.RATIOS_TABLE[r][$e.BARS_IN_MODULE-f-1]=Math.fround(d/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=Nr.getDecodedCodewordValue(Nr.sampleBitCounts(r));return s!==-1?s:Nr.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=Et.sum(r),o=new Int32Array($e.BARS_IN_MODULE),f=0,d=0;for(let g=0;g<$e.MODULES_IN_CODEWORD;g++){let m=s/(2*$e.MODULES_IN_CODEWORD)+g*s/$e.MODULES_IN_CODEWORD;d+r[f]<=m&&(d+=r[f],f++),o[f]++}return o}static getDecodedCodewordValue(r){let s=Nr.getBitValue(r);return $e.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let f=0;f<r[o];f++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=Et.sum(r),o=new Array($e.BARS_IN_MODULE);if(s>1)for(let g=0;g<o.length;g++)o[g]=Math.fround(r[g]/s);let f=no.MAX_VALUE,d=-1;this.bSymbolTableReady||Nr.initialize();for(let g=0;g<Nr.RATIOS_TABLE.length;g++){let m=0,A=Nr.RATIOS_TABLE[g];for(let S=0;S<$e.BARS_IN_MODULE;S++){let v=Math.fround(A[S]-o[S]);if(m+=Math.fround(v*v),m>=f)break}m<f&&(f=m,d=$e.SYMBOL_TABLE[g])}return d}}Nr.bSymbolTableReady=!1,Nr.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(O=>new Array($e.BARS_IN_MODULE));class Bc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Dc{static parseLong(r,s=void 0){return parseInt(r,s)}}class Ja extends y{}Ja.kind="NullPointerException";class Mc{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new Ja;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new j;if(o===0)return;for(let f=0;f<o;f++)this.write(r[s+f])}flush(){}close(){}}class jd extends y{}class mx extends Mc{constructor(r=32){if(super(),this.count=0,r<0)throw new N("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new jd;o=Z.MAX_VALUE}this.buf=re.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new j;this.ensureCapacity(this.count+o),k.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return re.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var kt;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(kt||(kt={}));function Xd(){if(typeof window<"u")return window.BigInt||null;if(typeof Z1<"u")return Z1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $a;function vs(O){if(typeof $a>"u"&&($a=Xd()),$a===null)throw new Error("BigInt is not supported!");return $a(O)}function px(){let O=[];O[0]=vs(1);let r=vs(900);O[1]=r;for(let s=2;s<16;s++)O[s]=O[s-1]*r;return O}class pe{static decode(r,s){let o=new Ge(""),f=ce.ISO8859_1;o.enableDecoding(f);let d=1,g=r[d++],m=new Bc;for(;d<r[0];){switch(g){case pe.TEXT_COMPACTION_MODE_LATCH:d=pe.textCompaction(r,d,o);break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:d=pe.byteCompaction(g,r,f,d,o);break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d++]);break;case pe.NUMERIC_COMPACTION_MODE_LATCH:d=pe.numericCompaction(r,d,o);break;case pe.ECI_CHARSET:ce.getCharacterSetECIByValue(r[d++]);break;case pe.ECI_GENERAL_PURPOSE:d+=2;break;case pe.ECI_USER_DEFINED:d++;break;case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=pe.decodeMacroBlock(r,d,m);break;case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:throw new $;default:d--,d=pe.textCompaction(r,d,o);break}if(d<r.length)g=r[d++];else throw $.getFormatInstance()}if(o.length()===0)throw $.getFormatInstance();let A=new An(null,o.toString(),null,s);return A.setOther(m),A}static decodeMacroBlock(r,s,o){if(s+pe.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw $.getFormatInstance();let f=new Int32Array(pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<pe.NUMBER_OF_SEQUENCE_CODEWORDS;m++,s++)f[m]=r[s];o.setSegmentIndex(Z.parseInt(pe.decodeBase900toBase10(f,pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new Ge;s=pe.textCompaction(r,s,d),o.setFileId(d.toString());let g=-1;for(r[s]===pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=s+1);s<r[0];)switch(r[s]){case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Ge;s=pe.textCompaction(r,s+1,m),o.setFileName(m.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new Ge;s=pe.textCompaction(r,s+1,A),o.setSender(A.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new Ge;s=pe.textCompaction(r,s+1,S),o.setAddressee(S.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new Ge;s=pe.numericCompaction(r,s+1,v),o.setSegmentCount(Z.parseInt(v.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new Ge;s=pe.numericCompaction(r,s+1,B),o.setTimestamp(Dc.parseLong(B.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new Ge;s=pe.numericCompaction(r,s+1,M),o.setChecksum(Z.parseInt(M.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Ge;s=pe.numericCompaction(r,s+1,G),o.setFileSize(Dc.parseLong(G.toString()));break;default:throw $.getFormatInstance()}break;case pe.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(g!==-1){let m=s-g;o.isLastSegment()&&m--,o.setOptionalData(re.copyOfRange(r,g,g+m))}return s}static textCompaction(r,s,o){let f=new Int32Array((r[0]-s)*2),d=new Int32Array((r[0]-s)*2),g=0,m=!1;for(;s<r[0]&&!m;){let A=r[s++];if(A<pe.TEXT_COMPACTION_MODE_LATCH)f[g]=A/30,f[g+1]=A%30,g+=2;else switch(A){case pe.TEXT_COMPACTION_MODE_LATCH:f[g++]=pe.TEXT_COMPACTION_MODE_LATCH;break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:s--,m=!0;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[g]=pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=r[s++],d[g]=A,g++;break}}return pe.decodeTextCompaction(f,d,g,o),s}static decodeTextCompaction(r,s,o,f){let d=kt.ALPHA,g=kt.ALPHA,m=0;for(;m<o;){let A=r[m],S="";switch(d){case kt.ALPHA:if(A<26)S=String.fromCharCode(65+A);else switch(A){case 26:S=" ";break;case pe.LL:d=kt.LOWER;break;case pe.ML:d=kt.MIXED;break;case pe.PS:g=d,d=kt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[m]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=kt.ALPHA;break}break;case kt.LOWER:if(A<26)S=String.fromCharCode(97+A);else switch(A){case 26:S=" ";break;case pe.AS:g=d,d=kt.ALPHA_SHIFT;break;case pe.ML:d=kt.MIXED;break;case pe.PS:g=d,d=kt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[m]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=kt.ALPHA;break}break;case kt.MIXED:if(A<pe.PL)S=pe.MIXED_CHARS[A];else switch(A){case pe.PL:d=kt.PUNCT;break;case 26:S=" ";break;case pe.LL:d=kt.LOWER;break;case pe.AL:d=kt.ALPHA;break;case pe.PS:g=d,d=kt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[m]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=kt.ALPHA;break}break;case kt.PUNCT:if(A<pe.PAL)S=pe.PUNCT_CHARS[A];else switch(A){case pe.PAL:d=kt.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[m]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=kt.ALPHA;break}break;case kt.ALPHA_SHIFT:if(d=g,A<26)S=String.fromCharCode(65+A);else switch(A){case 26:S=" ";break;case pe.TEXT_COMPACTION_MODE_LATCH:d=kt.ALPHA;break}break;case kt.PUNCT_SHIFT:if(d=g,A<pe.PAL)S=pe.PUNCT_CHARS[A];else switch(A){case pe.PAL:d=kt.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(s[m]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=kt.ALPHA;break}break}S!==""&&f.append(S),m++}}static byteCompaction(r,s,o,f,d){let g=new mx,m=0,A=0,S=!1;switch(r){case pe.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),B=s[f++];for(;f<s[0]&&!S;)switch(v[m++]=B,A=900*A+B,B=s[f++],B){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:f--,S=!0;break;default:if(m%5===0&&m>0){for(let M=0;M<6;++M)g.write(Number(vs(A)>>vs(8*(5-M))));A=0,m=0}break}f===s[0]&&B<pe.TEXT_COMPACTION_MODE_LATCH&&(v[m++]=B);for(let M=0;M<m;M++)g.write(v[M]);break;case pe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<s[0]&&!S;){let M=s[f++];if(M<pe.TEXT_COMPACTION_MODE_LATCH)m++,A=900*A+M;else switch(M){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:f--,S=!0;break}if(m%5===0&&m>0){for(let G=0;G<6;++G)g.write(Number(vs(A)>>vs(8*(5-G))));A=0,m=0}}break}return d.append(Le.decode(g.toByteArray(),o)),f}static numericCompaction(r,s,o){let f=0,d=!1,g=new Int32Array(pe.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!d;){let m=r[s++];if(s===r[0]&&(d=!0),m<pe.TEXT_COMPACTION_MODE_LATCH)g[f]=m,f++;else switch(m){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:s--,d=!0;break}(f%pe.MAX_NUMERIC_CODEWORDS===0||m===pe.NUMERIC_COMPACTION_MODE_LATCH||d)&&f>0&&(o.append(pe.decodeBase900toBase10(g,f)),f=0)}return s}static decodeBase900toBase10(r,s){let o=vs(0);for(let d=0;d<s;d++)o+=pe.EXP900[s-d-1]*vs(r[d]);let f=o.toString();if(f.charAt(0)!=="1")throw new $;return f.substring(1)}}pe.TEXT_COMPACTION_MODE_LATCH=900,pe.BYTE_COMPACTION_MODE_LATCH=901,pe.NUMERIC_COMPACTION_MODE_LATCH=902,pe.BYTE_COMPACTION_MODE_LATCH_6=924,pe.ECI_USER_DEFINED=925,pe.ECI_GENERAL_PURPOSE=926,pe.ECI_CHARSET=927,pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,pe.MACRO_PDF417_TERMINATOR=922,pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,pe.MAX_NUMERIC_CODEWORDS=15,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,pe.PL=25,pe.LL=27,pe.AS=27,pe.ML=28,pe.AL=28,pe.PS=29,pe.PAL=29,pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",pe.EXP900=Xd()?px():[],pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ft{constructor(){}static decode(r,s,o,f,d,g,m){let A=new Cs(r,s,o,f,d),S=null,v=null,B;for(let K=!0;;K=!1){if(s!=null&&(S=ft.getRowIndicatorColumn(r,A,s,!0,g,m)),f!=null&&(v=ft.getRowIndicatorColumn(r,A,f,!1,g,m)),B=ft.merge(S,v),B==null)throw H.getNotFoundInstance();let W=B.getBoundingBox();if(K&&W!=null&&(W.getMinY()<A.getMinY()||W.getMaxY()>A.getMaxY()))A=W;else break}B.setBoundingBox(A);let M=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,S),B.setDetectionResultColumn(M,v);let G=S!=null;for(let K=1;K<=M;K++){let W=G?K:M-K;if(B.getDetectionResultColumn(W)!==void 0)continue;let se;W===0||W===M?se=new Ts(A,W===0):se=new qa(A),B.setDetectionResultColumn(W,se);let ge=-1,Ie=ge;for(let Me=A.getMinY();Me<=A.getMaxY();Me++){if(ge=ft.getStartColumn(B,W,Me,G),ge<0||ge>A.getMaxX()){if(Ie===-1)continue;ge=Ie}let Re=ft.detectCodeword(r,A.getMinX(),A.getMaxX(),G,ge,Me,g,m);Re!=null&&(se.setCodeword(Me,Re),Ie=ge,g=Math.min(g,Re.getWidth()),m=Math.max(m,Re.getWidth()))}}return ft.createDecoderResult(B)}static merge(r,s){if(r==null&&s==null)return null;let o=ft.getBarcodeMetadata(r,s);if(o==null)return null;let f=Cs.merge(ft.adjustBoundingBox(r),ft.adjustBoundingBox(s));return new Ns(o,f)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=ft.getMax(s),f=0;for(let m of s)if(f+=o-m,m>0)break;let d=r.getCodewords();for(let m=0;f>0&&d[m]==null;m++)f--;let g=0;for(let m=s.length-1;m>=0&&(g+=o-s[m],!(s[m]>0));m--);for(let m=d.length-1;g>0&&d[m]==null;m--)g--;return r.getBoundingBox().addMissingRows(f,g,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let f;return s==null||(f=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==f.getColumnCount()&&o.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&o.getRowCount()!==f.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,f,d,g){let m=new Ts(s,f);for(let A=0;A<2;A++){let S=A===0?1:-1,v=Math.trunc(Math.trunc(o.getX()));for(let B=Math.trunc(Math.trunc(o.getY()));B<=s.getMaxY()&&B>=s.getMinY();B+=S){let M=ft.detectCodeword(r,0,r.getWidth(),f,v,B,d,g);M!=null&&(m.setCodeword(B,M),f?v=M.getStartX():v=M.getEndX())}}return m}static adjustCodewordCount(r,s){let o=s[0][1],f=o.getValue(),d=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-ft.getNumberOfECCodeWords(r.getBarcodeECLevel());if(f.length===0){if(d<1||d>$e.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();o.setValue(d)}else f[0]!==d&&o.setValue(d)}static createDecoderResult(r){let s=ft.createBarcodeMatrix(r);ft.adjustCodewordCount(r,s);let o=new Array,f=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),d=[],g=new Array;for(let A=0;A<r.getBarcodeRowCount();A++)for(let S=0;S<r.getBarcodeColumnCount();S++){let v=s[A][S+1].getValue(),B=A*r.getBarcodeColumnCount()+S;v.length===0?o.push(B):v.length===1?f[B]=v[0]:(g.push(B),d.push(v))}let m=new Array(d.length);for(let A=0;A<m.length;A++)m[A]=d[A];return ft.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),f,$e.toIntArray(o),$e.toIntArray(g),m)}static createDecoderResultFromAmbiguousValues(r,s,o,f,d){let g=new Int32Array(f.length),m=100;for(;m-- >0;){for(let A=0;A<g.length;A++)s[f[A]]=d[A][g[A]];try{return ft.decodeCodewords(s,r,o)}catch(A){if(!(A instanceof L))throw A}if(g.length===0)throw L.getChecksumInstance();for(let A=0;A<g.length;A++)if(g[A]<d[A].length-1){g[A]++;break}else if(g[A]=0,A===g.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let f=0;f<s.length;f++)for(let d=0;d<s[f].length;d++)s[f][d]=new Gn;let o=0;for(let f of r.getDetectionResultColumns()){if(f!=null){for(let d of f.getCodewords())if(d!=null){let g=d.getRowNumber();if(g>=0){if(g>=s.length)continue;s[g][o].setValue(d.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,f){let d=f?1:-1,g=null;if(ft.isValidBarcodeColumn(r,s-d)&&(g=r.getDetectionResultColumn(s-d).getCodeword(o)),g!=null)return f?g.getEndX():g.getStartX();if(g=r.getDetectionResultColumn(s).getCodewordNearby(o),g!=null)return f?g.getStartX():g.getEndX();if(ft.isValidBarcodeColumn(r,s-d)&&(g=r.getDetectionResultColumn(s-d).getCodewordNearby(o)),g!=null)return f?g.getEndX():g.getStartX();let m=0;for(;ft.isValidBarcodeColumn(r,s-d);){s-=d;for(let A of r.getDetectionResultColumn(s).getCodewords())if(A!=null)return(f?A.getEndX():A.getStartX())+d*m*(A.getEndX()-A.getStartX());m++}return f?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,f,d,g,m,A){d=ft.adjustCodewordStartColumn(r,s,o,f,d,g);let S=ft.getModuleBitCount(r,s,o,f,d,g);if(S==null)return null;let v,B=Et.sum(S);if(f)v=d+B;else{for(let K=0;K<S.length/2;K++){let W=S[K];S[K]=S[S.length-1-K],S[S.length-1-K]=W}v=d,d=v-B}if(!ft.checkCodewordSkew(B,m,A))return null;let M=Nr.getDecodedValue(S),G=$e.getCodeword(M);return G===-1?null:new Ji(d,v,ft.getCodewordBucketNumber(M),G)}static getModuleBitCount(r,s,o,f,d,g){let m=d,A=new Int32Array(8),S=0,v=f?1:-1,B=f;for(;(f?m<o:m>=s)&&S<A.length;)r.get(m,g)===B?(A[S]++,m+=v):(S++,B=!B);return S===A.length||m===(f?o:s)&&S===A.length-1?A:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,f,d,g){let m=d,A=f?-1:1;for(let S=0;S<2;S++){for(;(f?m>=s:m<o)&&f===r.get(m,g);){if(Math.abs(d-m)>ft.CODEWORD_SKEW_SIZE)return d;m+=A}A=-A,f=!f}return m}static checkCodewordSkew(r,s,o){return s-ft.CODEWORD_SKEW_SIZE<=r&&r<=o+ft.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw $.getFormatInstance();let f=1<<s+1,d=ft.correctErrors(r,o,f);ft.verifyCodewordCount(r,f);let g=pe.decode(r,""+s);return g.setErrorsCorrected(d),g.setErasures(o.length),g}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+ft.MAX_ERRORS||o<0||o>ft.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return ft.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw $.getFormatInstance();let o=r[0];if(o>r.length)throw $.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw $.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,f=s.length-1;for(;!((r&1)!==o&&(o=r&1,f--,f<0));)s[f]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return ft.getCodewordBucketNumber(ft.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new Ss;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let f=0;f<r[o].length;f++){let d=r[o][f];d.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}s.format("%n")}return s.toString()}}ft.CODEWORD_SKEW_SIZE=2,ft.MAX_ERRORS=3,ft.MAX_EC_CODEWORDS=512,ft.errorCorrection=new oo;class Kn{decode(r,s=null){let o=Kn.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw H.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return Kn.decode(r,s,!0)}catch(o){throw o instanceof $||o instanceof L?H.getNotFoundInstance():o}}static decode(r,s,o){const f=new Array,d=lt.detectMultiple(r,s,o);for(const g of d.getPoints()){const m=ft.decode(d.getBits(),g[4],g[5],g[6],g[7],Kn.getMinCodewordWidth(g),Kn.getMaxCodewordWidth(g)),A=new ke(m.getText(),m.getRawBytes(),void 0,g,ve.PDF_417);A.putMetadata(it.ERROR_CORRECTION_LEVEL,m.getECLevel());const S=m.getOther();S!=null&&A.putMetadata(it.PDF417_EXTRA_METADATA,S),f.push(A)}return f.map(g=>g)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?Z.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Kn.getMaxWidth(r[0],r[4]),Kn.getMaxWidth(r[6],r[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(Kn.getMaxWidth(r[1],r[5]),Kn.getMaxWidth(r[7],r[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Kn.getMinWidth(r[0],r[4]),Kn.getMinWidth(r[6],r[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(Kn.getMinWidth(r[1],r[5]),Kn.getMinWidth(r[7],r[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class co extends y{}co.kind="ReaderException";class Yd{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!a(r)&&r.get(ae.TRY_HARDER)===!0,o=a(r)?null:r.get(ae.POSSIBLE_FORMATS),f=new Array;if(!a(o)){const d=o.some(g=>g===ve.UPC_A||g===ve.UPC_E||g===ve.EAN_13||g===ve.EAN_8||g===ve.CODABAR||g===ve.CODE_39||g===ve.CODE_93||g===ve.CODE_128||g===ve.ITF||g===ve.RSS_14||g===ve.RSS_EXPANDED);d&&!s&&f.push(new ys(r,this.verbose)),o.includes(ve.QR_CODE)&&f.push(new Wi),o.includes(ve.DATA_MATRIX)&&f.push(new oi),o.includes(ve.AZTEC)&&f.push(new Ec),o.includes(ve.PDF_417)&&f.push(new Kn),d&&s&&f.push(new ys(r,this.verbose))}f.length===0&&(s||f.push(new ys(r,this.verbose)),f.push(new Wi),f.push(new oi),f.push(new Ec),f.push(new Kn),s&&f.push(new ys(r,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new co("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof co)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class bx extends _e{constructor(r=null,s=500){const o=new Yd;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class yx extends _e{constructor(r=500){super(new Kn,r)}}class wx extends _e{constructor(r=500){super(new Wi,r)}}var uo;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(uo||(uo={}));var _n=uo;class ju{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new En(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const f=this.field;for(let d=s.length;d<=r;d++){const g=o.multiply(new En(f,Int32Array.from([1,f.exp(d-1+f.getGeneratorBase())])));s.push(g),o=g}}return s[r]}encode(r,s){if(s===0)throw new N("No error correction bytes");const o=r.length-s;if(o<=0)throw new N("No data bytes provided");const f=this.buildGenerator(s),d=new Int32Array(o);k.arraycopy(r,0,d,0,o);let g=new En(this.field,d);g=g.multiplyByMonomial(s,1);const A=g.divide(f)[1].getCoefficients(),S=s-A.length;for(let v=0;v<S;v++)r[o+v]=0;k.arraycopy(A,0,r,o+S,A.length)}}class xn{constructor(){}static applyMaskPenaltyRule1(r){return xn.applyMaskPenaltyRule1Internal(r,!0)+xn.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),f=r.getWidth(),d=r.getHeight();for(let g=0;g<d-1;g++){const m=o[g];for(let A=0;A<f-1;A++){const S=m[A];S===m[A+1]&&S===o[g+1][A]&&S===o[g+1][A+1]&&s++}}return xn.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),f=r.getWidth(),d=r.getHeight();for(let g=0;g<d;g++)for(let m=0;m<f;m++){const A=o[g];m+6<f&&A[m]===1&&A[m+1]===0&&A[m+2]===1&&A[m+3]===1&&A[m+4]===1&&A[m+5]===0&&A[m+6]===1&&(xn.isWhiteHorizontal(A,m-4,m)||xn.isWhiteHorizontal(A,m+7,m+11))&&s++,g+6<d&&o[g][m]===1&&o[g+1][m]===0&&o[g+2][m]===1&&o[g+3][m]===1&&o[g+4][m]===1&&o[g+5][m]===0&&o[g+6][m]===1&&(xn.isWhiteVertical(o,m,g-4,g)||xn.isWhiteVertical(o,m,g+7,g+11))&&s++}return s*xn.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let f=s;f<o;f++)if(r[f]===1)return!1;return!0}static isWhiteVertical(r,s,o,f){o=Math.max(o,0),f=Math.min(f,r.length);for(let d=o;d<f;d++)if(r[d][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),f=r.getWidth(),d=r.getHeight();for(let A=0;A<d;A++){const S=o[A];for(let v=0;v<f;v++)S[v]===1&&s++}const g=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-g)*10/g)*xn.N4}static getDataMaskBit(r,s,o){let f,d;switch(r){case 0:f=o+s&1;break;case 1:f=o&1;break;case 2:f=s%3;break;case 3:f=(o+s)%3;break;case 4:f=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:d=o*s,f=(d&1)+d%3;break;case 6:d=o*s,f=(d&1)+d%3&1;break;case 7:d=o*s,f=d%3+(o+s&1)&1;break;default:throw new N("Invalid mask pattern: "+r)}return f===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const f=s?r.getHeight():r.getWidth(),d=s?r.getWidth():r.getHeight(),g=r.getArray();for(let m=0;m<f;m++){let A=0,S=-1;for(let v=0;v<d;v++){const B=s?g[m][v]:g[v][m];B===S?A++:(A>=5&&(o+=xn.N1+(A-5)),A=1,S=B)}A>=5&&(o+=xn.N1+(A-5))}return o}}xn.N1=3,xn.N2=3,xn.N3=40,xn.N4=10;class fo{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let f=0;f!==s;f++)o[f]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)re.fill(s,r)}equals(r){if(!(r instanceof fo))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,f=this.height;o<f;++o){const d=this.bytes[o],g=s.bytes[o];for(let m=0,A=this.width;m<A;++m)if(d[m]!==g[m])return!1}return!0}toString(){const r=new Ge;for(let s=0,o=this.height;s<o;++s){const f=this.bytes[s];for(let d=0,g=this.width;d<g;++d)switch(f[d]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ra{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new Ge;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ra.NUM_MASK_PATTERNS}}ra.NUM_MASK_PATTERNS=8;class zt extends y{}zt.kind="WriterException";class et{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,f,d){et.clearMatrix(d),et.embedBasicPatterns(o,d),et.embedTypeInfo(s,f,d),et.maybeEmbedVersionInfo(o,d),et.embedDataBits(r,f,d)}static embedBasicPatterns(r,s){et.embedPositionDetectionPatternsAndSeparators(s),et.embedDarkDotAtLeftBottomCorner(s),et.maybeEmbedPositionAdjustmentPatterns(r,s),et.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const f=new ie;et.makeTypeInfoBits(r,s,f);for(let d=0,g=f.getSize();d<g;++d){const m=f.get(f.getSize()-1-d),A=et.TYPE_INFO_COORDINATES[d],S=A[0],v=A[1];if(o.setBoolean(S,v,m),d<8){const B=o.getWidth()-d-1;o.setBoolean(B,8,m)}else{const M=o.getHeight()-7+(d-8);o.setBoolean(8,M,m)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new ie;et.makeVersionInfoBits(r,o);let f=6*3-1;for(let d=0;d<6;++d)for(let g=0;g<3;++g){const m=o.get(f);f--,s.setBoolean(d,s.getHeight()-11+g,m),s.setBoolean(s.getHeight()-11+g,d,m)}}static embedDataBits(r,s,o){let f=0,d=-1,g=o.getWidth()-1,m=o.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);m>=0&&m<o.getHeight();){for(let A=0;A<2;++A){const S=g-A;if(!et.isEmpty(o.get(S,m)))continue;let v;f<r.getSize()?(v=r.get(f),++f):v=!1,s!==255&&xn.getDataMaskBit(s,S,m)&&(v=!v),o.setBoolean(S,m,v)}m+=d}d=-d,m+=d,g-=2}if(f!==r.getSize())throw new zt("Not all bits consumed: "+f+"/"+r.getSize())}static findMSBSet(r){return 32-Z.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new N("0 polynomial");const o=et.findMSBSet(s);for(r<<=o-1;et.findMSBSet(r)>=o;)r^=s<<et.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!ra.isValidMaskPattern(s))throw new zt("Invalid mask pattern");const f=r.getBits()<<3|s;o.appendBits(f,5);const d=et.calculateBCHCode(f,et.TYPE_INFO_POLY);o.appendBits(d,10);const g=new ie;if(g.appendBits(et.TYPE_INFO_MASK_PATTERN,15),o.xor(g),o.getSize()!==15)throw new zt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=et.calculateBCHCode(r.getVersionNumber(),et.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new zt("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;et.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),et.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new zt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let f=0;f<8;++f){if(!et.isEmpty(o.get(r+f,s)))throw new zt;o.setNumber(r+f,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let f=0;f<7;++f){if(!et.isEmpty(o.get(r,s+f)))throw new zt;o.setNumber(r,s+f,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let f=0;f<5;++f){const d=et.POSITION_ADJUSTMENT_PATTERN[f];for(let g=0;g<5;++g)o.setNumber(r+g,s+f,d[g])}}static embedPositionDetectionPattern(r,s,o){for(let f=0;f<7;++f){const d=et.POSITION_DETECTION_PATTERN[f];for(let g=0;g<7;++g)o.setNumber(r+g,s+f,d[g])}}static embedPositionDetectionPatternsAndSeparators(r){const s=et.POSITION_DETECTION_PATTERN[0].length;et.embedPositionDetectionPattern(0,0,r),et.embedPositionDetectionPattern(r.getWidth()-s,0,r),et.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;et.embedHorizontalSeparationPattern(0,o-1,r),et.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),et.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const f=7;et.embedVerticalSeparationPattern(f,0,r),et.embedVerticalSeparationPattern(r.getHeight()-f-1,0,r),et.embedVerticalSeparationPattern(f,r.getHeight()-f,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,f=et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let d=0,g=f.length;d!==g;d++){const m=f[d];if(m>=0)for(let A=0;A!==g;A++){const S=f[A];S>=0&&et.isEmpty(s.get(S,m))&&et.embedPositionAdjustmentPattern(S-2,m-2,s)}}}}et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),et.VERSION_INFO_POLY=7973,et.TYPE_INFO_POLY=1335,et.TYPE_INFO_MASK_PATTERN=21522;class Ax{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class tn{constructor(){}static calculateMaskPenalty(r){return xn.applyMaskPenaltyRule1(r)+xn.applyMaskPenaltyRule2(r)+xn.applyMaskPenaltyRule3(r)+xn.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let f=tn.DEFAULT_BYTE_MODE_ENCODING;const d=o!==null&&o.get(_n.CHARACTER_SET)!==void 0;d&&(f=o.get(_n.CHARACTER_SET).toString());const g=this.chooseMode(r,f),m=new ie;if(g===qe.BYTE&&(d||tn.DEFAULT_BYTE_MODE_ENCODING!==f)){const Me=ce.getCharacterSetECIByName(f);Me!==void 0&&this.appendECI(Me,m)}this.appendModeInfo(g,m);const A=new ie;this.appendBytes(r,g,A,f);let S;if(o!==null&&o.get(_n.QR_VERSION)!==void 0){const Me=Number.parseInt(o.get(_n.QR_VERSION).toString(),10);S=We.getVersionForNumber(Me);const Re=this.calculateBitsNeeded(g,m,A,S);if(!this.willFit(Re,S,s))throw new zt("Data too big for requested version")}else S=this.recommendVersion(s,g,m,A);const v=new ie;v.appendBitArray(m);const B=g===qe.BYTE?A.getSizeInBytes():r.length;this.appendLengthInfo(B,S,g,v),v.appendBitArray(A);const M=S.getECBlocksForLevel(s),G=S.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(G,v);const K=this.interleaveWithECBytes(v,S.getTotalCodewords(),G,M.getNumBlocks()),W=new ra;W.setECLevel(s),W.setMode(g),W.setVersion(S);const se=S.getDimensionForVersion(),ge=new fo(se,se),Ie=this.chooseMaskPattern(K,s,S,ge);return W.setMaskPattern(Ie),et.buildMatrix(K,s,S,Ie,ge),W.setMatrix(ge),W}static recommendVersion(r,s,o,f){const d=this.calculateBitsNeeded(s,o,f,We.getVersionForNumber(1)),g=this.chooseVersion(d,r),m=this.calculateBitsNeeded(s,o,f,g);return this.chooseVersion(m,r)}static calculateBitsNeeded(r,s,o,f){return s.getSize()+r.getCharacterCountBits(f)+o.getSize()}static getAlphanumericCode(r){return r<tn.ALPHANUMERIC_TABLE.length?tn.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(ce.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return qe.KANJI;let o=!1,f=!1;for(let d=0,g=r.length;d<g;++d){const m=r.charAt(d);if(tn.isDigit(m))o=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)f=!0;else return qe.BYTE}return f?qe.ALPHANUMERIC:o?qe.NUMERIC:qe.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=Le.encode(r,ce.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let f=0;f<o;f+=2){const d=s[f]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(r,s,o,f){let d=Number.MAX_SAFE_INTEGER,g=-1;for(let m=0;m<ra.NUM_MASK_PATTERNS;m++){et.buildMatrix(r,s,o,m,f);let A=this.calculateMaskPenalty(f);A<d&&(d=A,g=m)}return g}static chooseVersion(r,s){for(let o=1;o<=40;o++){const f=We.getVersionForNumber(o);if(tn.willFit(r,f,s))return f}throw new zt("Data too big")}static willFit(r,s,o){const f=s.getTotalCodewords(),g=s.getECBlocksForLevel(o).getTotalECCodewords(),m=f-g,A=(r+7)/8;return m>=A}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new zt("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let g=0;g<4&&s.getSize()<o;++g)s.appendBit(!1);const f=s.getSize()&7;if(f>0)for(let g=f;g<8;g++)s.appendBit(!1);const d=r-s.getSizeInBytes();for(let g=0;g<d;++g)s.appendBits((g&1)===0?236:17,8);if(s.getSize()!==o)throw new zt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,f,d,g){if(f>=o)throw new zt("Block ID too large");const m=r%o,A=o-m,S=Math.floor(r/o),v=S+1,B=Math.floor(s/o),M=B+1,G=S-B,K=v-M;if(G!==K)throw new zt("EC bytes mismatch");if(o!==A+m)throw new zt("RS blocks mismatch");if(r!==(B+G)*A+(M+K)*m)throw new zt("Total bytes mismatch");f<A?(d[0]=B,g[0]=G):(d[0]=M,g[0]=K)}static interleaveWithECBytes(r,s,o,f){if(r.getSizeInBytes()!==o)throw new zt("Number of bits and data bytes does not match");let d=0,g=0,m=0;const A=new Array;for(let v=0;v<f;++v){const B=new Int32Array(1),M=new Int32Array(1);tn.getNumDataBytesAndNumECBytesForBlockID(s,o,f,v,B,M);const G=B[0],K=new Uint8Array(G);r.toBytes(8*d,K,0,G);const W=tn.generateECBytes(K,M[0]);A.push(new Ax(K,W)),g=Math.max(g,G),m=Math.max(m,W.length),d+=B[0]}if(o!==d)throw new zt("Data bytes does not match offset");const S=new ie;for(let v=0;v<g;++v)for(const B of A){const M=B.getDataBytes();v<M.length&&S.appendBits(M[v],8)}for(let v=0;v<m;++v)for(const B of A){const M=B.getErrorCorrectionBytes();v<M.length&&S.appendBits(M[v],8)}if(s!==S.getSizeInBytes())throw new zt("Interleaving error: "+s+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(r,s){const o=r.length,f=new Int32Array(o+s);for(let g=0;g<o;g++)f[g]=r[g]&255;new ju(st.QR_CODE_FIELD_256).encode(f,s);const d=new Uint8Array(s);for(let g=0;g<s;g++)d[g]=f[o+g];return d}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,f){const d=o.getCharacterCountBits(s);if(r>=1<<d)throw new zt(r+" is bigger than "+((1<<d)-1));f.appendBits(r,d)}static appendBytes(r,s,o,f){switch(s){case qe.NUMERIC:tn.appendNumericBytes(r,o);break;case qe.ALPHANUMERIC:tn.appendAlphanumericBytes(r,o);break;case qe.BYTE:tn.append8BitBytes(r,o,f);break;case qe.KANJI:tn.appendKanjiBytes(r,o);break;default:throw new zt("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=tn.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let f=0;for(;f<o;){const d=tn.getDigit(r.charAt(f));if(f+2<o){const g=tn.getDigit(r.charAt(f+1)),m=tn.getDigit(r.charAt(f+2));s.appendBits(d*100+g*10+m,10),f+=3}else if(f+1<o){const g=tn.getDigit(r.charAt(f+1));s.appendBits(d*10+g,7),f+=2}else s.appendBits(d,4),f++}}static appendAlphanumericBytes(r,s){const o=r.length;let f=0;for(;f<o;){const d=tn.getAlphanumericCode(r.charCodeAt(f));if(d===-1)throw new zt;if(f+1<o){const g=tn.getAlphanumericCode(r.charCodeAt(f+1));if(g===-1)throw new zt;s.appendBits(d*45+g,11),f+=2}else s.appendBits(d,6),f++}}static append8BitBytes(r,s,o){let f;try{f=Le.encode(r,o)}catch(d){throw new zt(d)}for(let d=0,g=f.length;d!==g;d++){const m=f[d];s.appendBits(m,8)}}static appendKanjiBytes(r,s){let o;try{o=Le.encode(r,ce.SJIS)}catch(d){throw new zt(d)}const f=o.length;for(let d=0;d<f;d+=2){const g=o[d]&255,m=o[d+1]&255,A=g<<8&4294967295|m;let S=-1;if(A>=33088&&A<=40956?S=A-33088:A>=57408&&A<=60351&&(S=A-49472),S===-1)throw new zt("Invalid byte sequence");const v=(S>>8)*192+(S&255);s.appendBits(v,13)}}static appendECI(r,s){s.appendBits(qe.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}tn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),tn.DEFAULT_BYTE_MODE_ENCODING=ce.UTF8.getName();class ia{write(r,s,o,f=null){if(r.length===0)throw new N("Found empty contents");if(s<0||o<0)throw new N("Requested dimensions are too small: "+s+"x"+o);let d=Ut.L,g=ia.QUIET_ZONE_SIZE;f!==null&&(f.get(_n.ERROR_CORRECTION)!==void 0&&(d=Ut.fromString(f.get(_n.ERROR_CORRECTION).toString())),f.get(_n.MARGIN)!==void 0&&(g=Number.parseInt(f.get(_n.MARGIN).toString(),10)));const m=tn.encode(r,d,f);return this.renderResult(m,s,o,g)}writeToDom(r,s,o,f,d=null){typeof r=="string"&&(r=document.querySelector(r));const g=this.write(s,o,f,d);r&&r.appendChild(g)}renderResult(r,s,o,f){const d=r.getMatrix();if(d===null)throw new Pr;const g=d.getWidth(),m=d.getHeight(),A=g+f*2,S=m+f*2,v=Math.max(s,A),B=Math.max(o,S),M=Math.min(Math.floor(v/A),Math.floor(B/S)),G=Math.floor((v-g*M)/2),K=Math.floor((B-m*M)/2),W=this.createSVGElement(v,B);for(let se=0,ge=K;se<m;se++,ge+=M)for(let Ie=0,Me=G;Ie<g;Ie++,Me+=M)if(d.get(Ie,se)===1){const Re=this.createSvgRectElement(Me,ge,M,M);W.appendChild(Re)}return W}createSVGElement(r,s){const o=document.createElementNS(ia.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,f){const d=document.createElementNS(ia.SVG_NS,"rect");return d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",s.toString()),d.setAttributeNS(null,"height",o.toString()),d.setAttributeNS(null,"width",f.toString()),d.setAttributeNS(null,"fill","#000000"),d}}ia.QUIET_ZONE_SIZE=4,ia.SVG_NS="http://www.w3.org/2000/svg";class el{encode(r,s,o,f,d){if(r.length===0)throw new N("Found empty contents");if(s!==ve.QR_CODE)throw new N("Can only encode QR_CODE, but got "+s);if(o<0||f<0)throw new N(`Requested dimensions are too small: ${o}x${f}`);let g=Ut.L,m=el.QUIET_ZONE_SIZE;d!==null&&(d.get(_n.ERROR_CORRECTION)!==void 0&&(g=Ut.fromString(d.get(_n.ERROR_CORRECTION).toString())),d.get(_n.MARGIN)!==void 0&&(m=Number.parseInt(d.get(_n.MARGIN).toString(),10)));const A=tn.encode(r,g,d);return el.renderResult(A,o,f,m)}static renderResult(r,s,o,f){const d=r.getMatrix();if(d===null)throw new Pr;const g=d.getWidth(),m=d.getHeight(),A=g+f*2,S=m+f*2,v=Math.max(s,A),B=Math.max(o,S),M=Math.min(Math.floor(v/A),Math.floor(B/S)),G=Math.floor((v-g*M)/2),K=Math.floor((B-m*M)/2),W=new De(v,B);for(let se=0,ge=K;se<m;se++,ge+=M)for(let Ie=0,Me=G;Ie<g;Ie++,Me+=M)d.get(Ie,se)===1&&W.setRegion(Me,ge,M,M);return W}}el.QUIET_ZONE_SIZE=4;class Ex{encode(r,s,o,f,d){let g;switch(s){case ve.QR_CODE:g=new el;break;default:throw new N("No encoder available for format "+s)}return g.encode(r,s,o,f,d)}}class Ti extends Ae{constructor(r,s,o,f,d,g,m,A){if(super(g,m),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=f,this.top=d,f+g>s||d+m>o)throw new N("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(g,m)}getRow(r,s){if(r<0||r>=this.getHeight())throw new N("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const f=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,f,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,f=new Uint8ClampedArray(o);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.yuvData,d,f,0,o),f;for(let g=0;g<s;g++){const m=g*r;k.arraycopy(this.yuvData,d,f,m,r),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(r,s,o,f){return new Ti(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,f,!1)}renderThumbnail(){const r=this.getWidth()/Ti.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Ti.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),f=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let g=0;g<s;g++){const m=g*r;for(let A=0;A<r;A++){const S=f[d+A*Ti.THUMBNAIL_SCALE_FACTOR]&255;o[m+A]=4278190080|S*65793}d+=this.dataWidth*Ti.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Ti.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ti.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let f=0,d=this.top*this.dataWidth+this.left;f<s;f++,d+=this.dataWidth){const g=d+r/2;for(let m=d,A=d+r-1;m<g;m++,A--){const S=o[m];o[m]=o[A],o[A]=S}}}invert(){return new He(this)}}Ti.THUMBNAIL_SCALE_FACTOR=2;class ho extends Ae{constructor(r,s,o,f,d,g,m){if(super(s,o),this.dataWidth=f,this.dataHeight=d,this.left=g,this.top=m,r.BYTES_PER_ELEMENT===4){const A=s*o,S=new Uint8ClampedArray(A);for(let v=0;v<A;v++){const B=r[v],M=B>>16&255,G=B>>7&510,K=B&255;S[v]=(M+G+K)/4&255}this.luminances=S}else this.luminances=r;if(f===void 0&&(this.dataWidth=s),d===void 0&&(this.dataHeight=o),g===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new N("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const f=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,f,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,f=new Uint8ClampedArray(o);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.luminances,d,f,0,o),f;for(let g=0;g<s;g++){const m=g*r;k.arraycopy(this.luminances,d,f,m,r),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(r,s,o,f){return new ho(this.luminances,o,f,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new He(this)}}class tl extends ce{static forName(r){return this.getCharacterSetECIByName(r)}}class Xu{}Xu.ISO_8859_1=ce.ISO8859_1;class Yu{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Qu{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class Qd{constructor(r){this.previous=r}getPrevious(){return this.previous}}class sa extends Qd{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new sa(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new sa(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Z.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class _c extends sa{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new _c(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function nl(O,r,s){return new _c(O,r,s)}function xo(O,r,s){return new sa(O,r,s)}const Cx=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Rs=0,go=1,Hr=2,rl=3,vr=4,Sx=new sa(null,0,0),il=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Kd(O){for(let r of O)re.fill(r,-1);return O[Rs][vr]=0,O[go][vr]=0,O[go][Rs]=28,O[rl][vr]=0,O[Hr][vr]=0,O[Hr][Rs]=15,O}const Ku=Kd(re.createInt32Array(6,6));class Zr{constructor(r,s,o,f){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,f=this.token;if(r!==this.mode){let g=il[this.mode][r];f=xo(f,g&65535,g>>16),o+=g>>16}let d=r===Hr?4:5;return f=xo(f,s,d),new Zr(f,r,0,o+d)}shiftAndAppend(r,s){let o=this.token,f=this.mode===Hr?4:5;return o=xo(o,Ku[this.mode][r],f),o=xo(o,s,5),new Zr(o,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,f=this.bitCount;if(this.mode===vr||this.mode===Hr){let m=il[o][Rs];s=xo(s,m&65535,m>>16),f+=m>>16,o=Rs}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Zr(s,o,this.binaryShiftByteCount+1,f+d);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(r+1)),g}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=nl(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(il[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=Zr.calculateBinaryShiftCost(r)-Zr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let f=this.endBinaryShift(r.length).token;f!==null;f=f.getPrevious())s.unshift(f);let o=new ie;for(const f of s)f.appendTo(o,r);return o}toString(){return Oe.format("%s bits=%d bytes=%d",Cx[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Zr.INITIAL_STATE=new Zr(Sx,Rs,0,0);function Zu(O){const r=Oe.getCharCode(" "),s=Oe.getCharCode("."),o=Oe.getCharCode(",");O[Rs][r]=1;const f=Oe.getCharCode("Z"),d=Oe.getCharCode("A");for(let M=d;M<=f;M++)O[Rs][M]=M-d+2;O[go][r]=1;const g=Oe.getCharCode("z"),m=Oe.getCharCode("a");for(let M=m;M<=g;M++)O[go][M]=M-m+2;O[Hr][r]=1;const A=Oe.getCharCode("9"),S=Oe.getCharCode("0");for(let M=S;M<=A;M++)O[Hr][M]=M-S+2;O[Hr][o]=12,O[Hr][s]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<v.length;M++)O[rl][Oe.getCharCode(v[M])]=M;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<B.length;M++)Oe.getCharCode(B[M])>0&&(O[vr][Oe.getCharCode(B[M])]=M);return O}const Lc=Zu(re.createInt32Array(5,256));class sl{constructor(r){this.text=r}encode(){const r=Oe.getCharCode(" "),s=Oe.getCharCode(`
`);let o=Qu.singletonList(Zr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let g,m=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Oe.getCharCode("\r"):g=m===s?2:0;break;case Oe.getCharCode("."):g=m===r?3:0;break;case Oe.getCharCode(","):g=m===r?4:0;break;case Oe.getCharCode(":"):g=m===r?5:0;break;default:g=0}g>0?(o=sl.updateStateListForPair(o,d,g),d++):o=this.updateStateListForChar(o,d)}return Qu.min(o,(d,g)=>d.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let f of r)this.updateStateForChar(f,s,o);return sl.simplifyStates(o)}updateStateForChar(r,s,o){let f=this.text[s]&255,d=Lc[r.getMode()][f]>0,g=null;for(let m=0;m<=vr;m++){let A=Lc[m][f];if(A>0){if(g==null&&(g=r.endBinaryShift(s)),!d||m===r.getMode()||m===Hr){const S=g.latchAndAppend(m,A);o.push(S)}if(!d&&Ku[r.getMode()][m]>=0){const S=g.shiftAndAppend(m,A);o.push(S)}}}if(r.getBinaryShiftByteCount()>0||Lc[r.getMode()][f]===0){let m=r.addBinaryShiftChar(s);o.push(m)}}static updateStateListForPair(r,s,o){const f=[];for(let d of r)this.updateStateForPair(d,s,o,f);return this.simplifyStates(f)}static updateStateForPair(r,s,o,f){let d=r.endBinaryShift(s);if(f.push(d.latchAndAppend(vr,o)),r.getMode()!==vr&&f.push(d.shiftAndAppend(vr,o)),o===3||o===4){let g=d.latchAndAppend(Hr,16-o).latchAndAppend(Hr,1);f.push(g)}if(r.getBinaryShiftByteCount()>0){let g=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);f.push(g)}}static simplifyStates(r){let s=[];for(const o of r){let f=!0;for(const d of s){if(d.isBetterThanOrEqualTo(o)){f=!1;break}o.isBetterThanOrEqualTo(d)&&(s=s.filter(g=>g!==d))}f&&s.push(o)}return s}}class Ct{constructor(){}static encodeBytes(r){return Ct.encode(r,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let f=new sl(r).encode(),d=Z.truncDivision(f.getSize()*s,100)+11,g=f.getSize()+d,m,A,S,v,B;if(o!==Ct.DEFAULT_AZTEC_LAYERS){if(m=o<0,A=Math.abs(o),A>(m?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new N(Oe.format("Illegal value %s for layers",o));S=Ct.totalBitsInLayer(A,m),v=Ct.WORD_SIZE[A];let Re=S-S%v;if(B=Ct.stuffBits(f,v),B.getSize()+d>Re)throw new N("Data to large for user specified layer");if(m&&B.getSize()>v*64)throw new N("Data to large for user specified layer")}else{v=0,B=null;for(let Re=0;;Re++){if(Re>Ct.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(m=Re<=3,A=m?Re+1:Re,S=Ct.totalBitsInLayer(A,m),g>S)continue;(B==null||v!==Ct.WORD_SIZE[A])&&(v=Ct.WORD_SIZE[A],B=Ct.stuffBits(f,v));let ot=S-S%v;if(!(m&&B.getSize()>v*64)&&B.getSize()+d<=ot)break}}let M=Ct.generateCheckWords(B,S,v),G=B.getSize()/v,K=Ct.generateModeMessage(m,A,G),W=(m?11:14)+A*4,se=new Int32Array(W),ge;if(m){ge=W;for(let Re=0;Re<se.length;Re++)se[Re]=Re}else{ge=W+1+2*Z.truncDivision(Z.truncDivision(W,2)-1,15);let Re=Z.truncDivision(W,2),ot=Z.truncDivision(ge,2);for(let at=0;at<Re;at++){let hr=at+Z.truncDivision(at,15);se[Re-at-1]=ot-hr-1,se[Re+at]=ot+hr+1}}let Ie=new De(ge);for(let Re=0,ot=0;Re<A;Re++){let at=(A-Re)*4+(m?9:12);for(let hr=0;hr<at;hr++){let Wr=hr*2;for(let Rr=0;Rr<2;Rr++)M.get(ot+Wr+Rr)&&Ie.set(se[Re*2+Rr],se[Re*2+hr]),M.get(ot+at*2+Wr+Rr)&&Ie.set(se[Re*2+hr],se[W-1-Re*2-Rr]),M.get(ot+at*4+Wr+Rr)&&Ie.set(se[W-1-Re*2-Rr],se[W-1-Re*2-hr]),M.get(ot+at*6+Wr+Rr)&&Ie.set(se[W-1-Re*2-hr],se[Re*2+Rr])}ot+=at*8}if(Ct.drawModeMessage(Ie,m,ge,K),m)Ct.drawBullsEye(Ie,Z.truncDivision(ge,2),5);else{Ct.drawBullsEye(Ie,Z.truncDivision(ge,2),7);for(let Re=0,ot=0;Re<Z.truncDivision(W,2)-1;Re+=15,ot+=16)for(let at=Z.truncDivision(ge,2)&1;at<ge;at+=2)Ie.set(Z.truncDivision(ge,2)-ot,at),Ie.set(Z.truncDivision(ge,2)+ot,at),Ie.set(at,Z.truncDivision(ge,2)-ot),Ie.set(at,Z.truncDivision(ge,2)+ot)}let Me=new Yu;return Me.setCompact(m),Me.setSize(ge),Me.setLayers(A),Me.setCodeWords(G),Me.setMatrix(Ie),Me}static drawBullsEye(r,s,o){for(let f=0;f<o;f+=2)for(let d=s-f;d<=s+f;d++)r.set(d,s-f),r.set(d,s+f),r.set(s-f,d),r.set(s+f,d);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let f=new ie;return r?(f.appendBits(s-1,2),f.appendBits(o-1,6),f=Ct.generateCheckWords(f,28,4)):(f.appendBits(s-1,5),f.appendBits(o-1,11),f=Ct.generateCheckWords(f,40,4)),f}static drawModeMessage(r,s,o,f){let d=Z.truncDivision(o,2);if(s)for(let g=0;g<7;g++){let m=d-3+g;f.get(g)&&r.set(m,d-5),f.get(g+7)&&r.set(d+5,m),f.get(20-g)&&r.set(m,d+5),f.get(27-g)&&r.set(d-5,m)}else for(let g=0;g<10;g++){let m=d-5+g+Z.truncDivision(g,5);f.get(g)&&r.set(m,d-7),f.get(g+10)&&r.set(d+7,m),f.get(29-g)&&r.set(m,d+7),f.get(39-g)&&r.set(d-7,m)}}static generateCheckWords(r,s,o){let f=r.getSize()/o,d=new ju(Ct.getGF(o)),g=Z.truncDivision(s,o),m=Ct.bitsToWords(r,o,g);d.encode(m,g-f);let A=s%o,S=new ie;S.appendBits(0,A);for(const v of Array.from(m))S.appendBits(v,o);return S}static bitsToWords(r,s,o){let f=new Int32Array(o),d,g;for(d=0,g=r.getSize()/s;d<g;d++){let m=0;for(let A=0;A<s;A++)m|=r.get(d*s+A)?1<<s-A-1:0;f[d]=m}return f}static getGF(r){switch(r){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new N("Unsupported word size "+r)}}static stuffBits(r,s){let o=new ie,f=r.getSize(),d=(1<<s)-2;for(let g=0;g<f;g+=s){let m=0;for(let A=0;A<s;A++)(g+A>=f||r.get(g+A))&&(m|=1<<s-1-A);(m&d)===d?(o.appendBits(m&d,s),g--):(m&d)===0?(o.appendBits(m|1,s),g--):o.appendBits(m,s)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Uc{encode(r,s,o,f){return this.encodeWithHints(r,s,o,f,null)}encodeWithHints(r,s,o,f,d){let g=Xu.ISO_8859_1,m=Ct.DEFAULT_EC_PERCENT,A=Ct.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(_n.CHARACTER_SET)&&(g=tl.forName(d.get(_n.CHARACTER_SET).toString())),d.has(_n.ERROR_CORRECTION)&&(m=Z.parseInt(d.get(_n.ERROR_CORRECTION).toString())),d.has(_n.AZTEC_LAYERS)&&(A=Z.parseInt(d.get(_n.AZTEC_LAYERS).toString()))),Uc.encodeLayers(r,s,o,f,g,m,A)}static encodeLayers(r,s,o,f,d,g,m){if(s!==ve.AZTEC)throw new N("Can only encode AZTEC, but got "+s);let A=Ct.encode(Oe.getBytes(r,d),g,m);return Uc.renderResult(A,o,f)}static renderResult(r,s,o){let f=r.getMatrix();if(f==null)throw new Pr;let d=f.getWidth(),g=f.getHeight(),m=Math.max(s,d),A=Math.max(o,g),S=Math.min(m/d,A/g),v=(m-d*S)/2,B=(A-g*S)/2,M=new De(m,A);for(let G=0,K=B;G<g;G++,K+=S)for(let W=0,se=v;W<d;W++,se+=S)f.get(W,G)&&M.setRegion(se,K,S,S);return M}}t.AbstractExpandedDecoder=so,t.ArgumentException=T,t.ArithmeticException=kr,t.AztecCode=Yu,t.AztecCodeReader=Ec,t.AztecCodeWriter=Uc,t.AztecDecoder=Qt,t.AztecDetector=Pd,t.AztecDetectorResult=ku,t.AztecEncoder=Ct,t.AztecHighLevelEncoder=sl,t.AztecPoint=Ht,t.BarcodeFormat=ve,t.Binarizer=P,t.BinaryBitmap=D,t.BitArray=ie,t.BitMatrix=De,t.BitSource=Tr,t.BrowserAztecCodeReader=hx,t.BrowserBarcodeReader=zd,t.BrowserCodeReader=_e,t.BrowserDatamatrixCodeReader=xx,t.BrowserMultiFormatReader=bx,t.BrowserPDF417Reader=yx,t.BrowserQRCodeReader=wx,t.BrowserQRCodeSvgWriter=ia,t.CharacterSetECI=ce,t.ChecksumException=L,t.Code128Reader=Ue,t.Code39Reader=en,t.DataMatrixDecodedBitStreamParser=ws,t.DataMatrixReader=oi,t.DecodeHintType=ae,t.DecoderResult=An,t.DefaultGridSampler=Sr,t.DetectorResult=Ac,t.EAN13Reader=ai,t.EncodeHintType=_n,t.Exception=y,t.FormatException=$,t.GenericGF=st,t.GenericGFPoly=En,t.GlobalHistogramBinarizer=V,t.GridSampler=Pu,t.GridSamplerInstance=dr,t.HTMLCanvasElementLuminanceSource=X,t.HybridBinarizer=J,t.ITFReader=It,t.IllegalArgumentException=N,t.IllegalStateException=Pr,t.InvertedLuminanceSource=He,t.LuminanceSource=Ae,t.MathUtils=Et,t.MultiFormatOneDReader=ys,t.MultiFormatReader=Yd,t.MultiFormatWriter=Ex,t.NotFoundException=H,t.OneDReader=cn,t.PDF417DecodedBitStreamParser=pe,t.PDF417DecoderErrorCorrection=oo,t.PDF417Reader=Kn,t.PDF417ResultMetadata=Bc,t.PerspectiveTransform=fr,t.PlanarYUVLuminanceSource=Ti,t.QRCodeByteMatrix=fo,t.QRCodeDataMask=Qn,t.QRCodeDecodedBitStreamParser=un,t.QRCodeDecoderErrorCorrectionLevel=Ut,t.QRCodeDecoderFormatInformation=Yn,t.QRCodeEncoder=tn,t.QRCodeEncoderQRCode=ra,t.QRCodeMaskUtil=xn,t.QRCodeMatrixUtil=et,t.QRCodeMode=qe,t.QRCodeReader=Wi,t.QRCodeVersion=We,t.QRCodeWriter=el,t.RGBLuminanceSource=ho,t.RSS14Reader=Bt,t.RSSExpandedReader=Se,t.ReaderException=co,t.ReedSolomonDecoder=ms,t.ReedSolomonEncoder=ju,t.ReedSolomonException=ur,t.Result=ke,t.ResultMetadataType=it,t.ResultPoint=Ye,t.StringUtils=Oe,t.UnsupportedOperationException=Fe,t.VideoInputDevice=be,t.WhiteRectangleDetector=Qi,t.WriterException=zt,t.ZXingArrays=re,t.ZXingCharset=tl,t.ZXingInteger=Z,t.ZXingStandardCharsets=Xu,t.ZXingStringBuilder=Ge,t.ZXingStringEncoding=Le,t.ZXingSystem=k,t.createAbstractExpandedDecoder=Gu,Object.defineProperty(t,"__esModule",{value:!0})})}(Wf,Wf.exports)),Wf.exports}var fn=yT();const wT=Z8(fn),AT=rE({__proto__:null,default:wT},[fn]);var G8=function(){function l(e,t,a){if(this.formatMap=new Map([[Xe.QR_CODE,fn.BarcodeFormat.QR_CODE],[Xe.AZTEC,fn.BarcodeFormat.AZTEC],[Xe.CODABAR,fn.BarcodeFormat.CODABAR],[Xe.CODE_39,fn.BarcodeFormat.CODE_39],[Xe.CODE_93,fn.BarcodeFormat.CODE_93],[Xe.CODE_128,fn.BarcodeFormat.CODE_128],[Xe.DATA_MATRIX,fn.BarcodeFormat.DATA_MATRIX],[Xe.MAXICODE,fn.BarcodeFormat.MAXICODE],[Xe.ITF,fn.BarcodeFormat.ITF],[Xe.EAN_13,fn.BarcodeFormat.EAN_13],[Xe.EAN_8,fn.BarcodeFormat.EAN_8],[Xe.PDF_417,fn.BarcodeFormat.PDF_417],[Xe.RSS_14,fn.BarcodeFormat.RSS_14],[Xe.RSS_EXPANDED,fn.BarcodeFormat.RSS_EXPANDED],[Xe.UPC_A,fn.BarcodeFormat.UPC_A],[Xe.UPC_E,fn.BarcodeFormat.UPC_E],[Xe.UPC_EAN_EXTENSION,fn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!AT)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=a;var u=this.createZXingFormats(e),x=new Map;x.set(fn.DecodeHintType.POSSIBLE_FORMATS,u),x.set(fn.DecodeHintType.TRY_HARDER,!1),this.hints=x}return l.prototype.decodeAsync=function(e){var t=this;return new Promise(function(a,u){try{a(t.decode(e))}catch(x){u(x)}})},l.prototype.decode=function(e){var t=new fn.MultiFormatReader(this.verbose,this.hints),a=new fn.HTMLCanvasElementLuminanceSource(e),u=new fn.BinaryBitmap(new fn.HybridBinarizer(a)),x=t.decode(u);return{text:x.text,format:k6.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}},l.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,a,u){e.set(t,a)}),e},l.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},l.prototype.createZXingFormats=function(e){for(var t=[],a=0,u=e;a<u.length;a++){var x=u[a];this.formatMap.has(x)?t.push(this.formatMap.get(x)):this.logger.logError("".concat(x," is not supported by")+"ZXingHtml5QrcodeShim")}return t},l.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},l}(),ET=function(l,e,t,a){function u(x){return x instanceof t?x:new t(function(p){p(x)})}return new(t||(t=Promise))(function(x,p){function E(T){try{y(a.next(T))}catch(N){p(N)}}function w(T){try{y(a.throw(T))}catch(N){p(N)}}function y(T){T.done?x(T.value):u(T.value).then(E,w)}y((a=a.apply(l,e||[])).next())})},CT=function(l,e){var t={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},a,u,x,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(y){return function(T){return w([y,T])}}function w(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(t=0)),t;)try{if(a=1,u&&(x=y[0]&2?u.return:y[0]?u.throw||((x=u.return)&&x.call(u),0):u.next)&&!(x=x.call(u,y[1])).done)return x;switch(u=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,u=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(x=t.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){t.label=y[1];break}if(y[0]===6&&t.label<x[1]){t.label=x[1],x=y;break}if(x&&t.label<x[2]){t.label=x[2],t.ops.push(y);break}x[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(l,t)}catch(T){y=[6,T],u=0}finally{a=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},z8=function(){function l(e,t,a){if(this.formatMap=new Map([[Xe.QR_CODE,"qr_code"],[Xe.AZTEC,"aztec"],[Xe.CODABAR,"codabar"],[Xe.CODE_39,"code_39"],[Xe.CODE_93,"code_93"],[Xe.CODE_128,"code_128"],[Xe.DATA_MATRIX,"data_matrix"],[Xe.ITF,"itf"],[Xe.EAN_13,"ean_13"],[Xe.EAN_8,"ean_8"],[Xe.PDF_417,"pdf417"],[Xe.UPC_A,"upc_a"],[Xe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!l.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=a;var u=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return l.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},l.prototype.decodeAsync=function(e){return ET(this,void 0,void 0,function(){var t,a;return CT(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=u.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(t),[2,{text:a.rawValue,format:k6.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},l.prototype.selectLargestBarcode=function(e){for(var t=null,a=0,u=0,x=e;u<x.length;u++){var p=x[u],E=p.boundingBox.width*p.boundingBox.height;E>a&&(a=E,t=p)}if(!t)throw"No largest barcode found";return t},l.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],a=0,u=e;a<u.length;a++){var x=u[a];this.formatMap.has(x)?t.push(this.formatMap.get(x)):this.logger.warn("".concat(x," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},l.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},l.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,a,u){e.set(t,a)}),e},l.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},l}(),V8=function(l,e,t,a){function u(x){return x instanceof t?x:new t(function(p){p(x)})}return new(t||(t=Promise))(function(x,p){function E(T){try{y(a.next(T))}catch(N){p(N)}}function w(T){try{y(a.throw(T))}catch(N){p(N)}}function y(T){T.done?x(T.value):u(T.value).then(E,w)}y((a=a.apply(l,e||[])).next())})},j8=function(l,e){var t={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},a,u,x,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(y){return function(T){return w([y,T])}}function w(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(t=0)),t;)try{if(a=1,u&&(x=y[0]&2?u.return:y[0]?u.throw||((x=u.return)&&x.call(u),0):u.next)&&!(x=x.call(u,y[1])).done)return x;switch(u=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,u=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(x=t.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){t.label=y[1];break}if(y[0]===6&&t.label<x[1]){t.label=x[1],x=y;break}if(x&&t.label<x[2]){t.label=x[2],t.ops.push(y);break}x[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(l,t)}catch(T){y=[6,T],u=0}finally{a=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},ST=function(){function l(e,t,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,t&&z8.isSupported()?(this.primaryDecoder=new z8(e,a,u),this.secondaryDecoder=new G8(e,a,u)):this.primaryDecoder=new G8(e,a,u)}return l.prototype.decodeAsync=function(e){return V8(this,void 0,void 0,function(){var t;return j8(this,function(a){switch(a.label){case 0:t=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},l.prototype.decodeRobustlyAsync=function(e){return V8(this,void 0,void 0,function(){var t,a;return j8(this,function(u){switch(u.label){case 0:t=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw a;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},l.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},l.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},l.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,a=this.executionResults;t<a.length;t++){var u=a[t];e+=u}var x=e/this.executionResults.length;console.log("".concat(x," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},l}(),sp=function(){var l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])},l(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),zh=function(l,e,t,a){function u(x){return x instanceof t?x:new t(function(p){p(x)})}return new(t||(t=Promise))(function(x,p){function E(T){try{y(a.next(T))}catch(N){p(N)}}function w(T){try{y(a.throw(T))}catch(N){p(N)}}function y(T){T.done?x(T.value):u(T.value).then(E,w)}y((a=a.apply(l,e||[])).next())})},Vh=function(l,e){var t={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},a,u,x,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(y){return function(T){return w([y,T])}}function w(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(t=0)),t;)try{if(a=1,u&&(x=y[0]&2?u.return:y[0]?u.throw||((x=u.return)&&x.call(u),0):u.next)&&!(x=x.call(u,y[1])).done)return x;switch(u=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,u=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(x=t.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){t.label=y[1];break}if(y[0]===6&&t.label<x[1]){t.label=x[1],x=y;break}if(x&&t.label<x[2]){t.label=x[2],t.ops.push(y);break}x[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(l,t)}catch(T){y=[6,T],u=0}finally{a=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},F6=function(){function l(e,t){this.name=e,this.track=t}return l.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},l.prototype.apply=function(e){var t={};t[this.name]=e;var a={advanced:[t]};return this.track.applyConstraints(a)},l.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},l}(),TT=function(l){sp(e,l);function e(t,a){return l.call(this,t,a)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var a={};a[this.name]=t;var u={advanced:[a]};return this.track.applyConstraints(u)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),a=t[this.name];return{min:a.min,max:a.max,step:a.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(F6),NT=function(l){sp(e,l);function e(t){return l.call(this,"zoom",t)||this}return e}(TT),vT=function(l){sp(e,l);function e(t){return l.call(this,"torch",t)||this}return e}(F6),RT=function(){function l(e){this.track=e}return l.prototype.zoomFeature=function(){return new NT(this.track)},l.prototype.torchFeature=function(){return new vT(this.track)},l}(),OT=function(){function l(e,t,a){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return l.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},l.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var a=e.surface.clientWidth,u=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(a,u),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},l.create=function(e,t,a,u){return zh(this,void 0,void 0,function(){var x,p;return Vh(this,function(E){switch(E.label){case 0:return x=new l(e,t,u),a.aspectRatio?(p={aspectRatio:a.aspectRatio},[4,x.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:E.sent(),E.label=2;case 2:return x.setupSurface(),[2,x]}})})},l.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},l.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},l.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},l.prototype.resume=function(e){this.failIfClosed();var t=this,a=function(){setTimeout(e,200),t.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},l.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},l.prototype.getSurface=function(){return this.failIfClosed(),this.surface},l.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},l.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},l.prototype.applyVideoConstraints=function(e){return zh(this,void 0,void 0,function(){return Vh(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},l.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,a){var u=e.mediaStream.getVideoTracks(),x=u.length,p=0;e.mediaStream.getVideoTracks().forEach(function(E){e.mediaStream.removeTrack(E),E.stop(),++p,p>=x&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},l.prototype.getCapabilities=function(){return new RT(this.getFirstTrackOrFail())},l}(),IT=function(){function l(e){this.mediaStream=e}return l.prototype.render=function(e,t,a){return zh(this,void 0,void 0,function(){return Vh(this,function(u){return[2,OT.create(e,this.mediaStream,t,a)]})})},l.create=function(e){return zh(this,void 0,void 0,function(){var t,a;return Vh(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=u.sent(),[2,new l(a)]}})})},l}(),X8=function(l,e,t,a){function u(x){return x instanceof t?x:new t(function(p){p(x)})}return new(t||(t=Promise))(function(x,p){function E(T){try{y(a.next(T))}catch(N){p(N)}}function w(T){try{y(a.throw(T))}catch(N){p(N)}}function y(T){T.done?x(T.value):u(T.value).then(E,w)}y((a=a.apply(l,e||[])).next())})},Y8=function(l,e){var t={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},a,u,x,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(y){return function(T){return w([y,T])}}function w(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(t=0)),t;)try{if(a=1,u&&(x=y[0]&2?u.return:y[0]?u.throw||((x=u.return)&&x.call(u),0):u.next)&&!(x=x.call(u,y[1])).done)return x;switch(u=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,u=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(x=t.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){t.label=y[1];break}if(y[0]===6&&t.label<x[1]){t.label=x[1],x=y;break}if(x&&t.label<x[2]){t.label=x[2],t.ops.push(y);break}x[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(l,t)}catch(T){y=[6,T],u=0}finally{a=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},BT=function(){function l(){}return l.failIfNotSupported=function(){return X8(this,void 0,void 0,function(){return Y8(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new l]})})},l.prototype.create=function(e){return X8(this,void 0,void 0,function(){return Y8(this,function(t){return[2,IT.create(e)]})})},l}(),DT=function(l,e,t,a){function u(x){return x instanceof t?x:new t(function(p){p(x)})}return new(t||(t=Promise))(function(x,p){function E(T){try{y(a.next(T))}catch(N){p(N)}}function w(T){try{y(a.throw(T))}catch(N){p(N)}}function y(T){T.done?x(T.value):u(T.value).then(E,w)}y((a=a.apply(l,e||[])).next())})},MT=function(l,e){var t={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},a,u,x,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(y){return function(T){return w([y,T])}}function w(y){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(t=0)),t;)try{if(a=1,u&&(x=y[0]&2?u.return:y[0]?u.throw||((x=u.return)&&x.call(u),0):u.next)&&!(x=x.call(u,y[1])).done)return x;switch(u=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,u=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(x=t.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){t.label=y[1];break}if(y[0]===6&&t.label<x[1]){t.label=x[1],x=y;break}if(x&&t.label<x[2]){t.label=x[2],t.ops.push(y);break}x[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(l,t)}catch(T){y=[6,T],u=0}finally{a=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},_T=function(){function l(){}return l.retrieve=function(){if(navigator.mediaDevices)return l.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?l.getCamerasFromMediaStreamTrack():l.rejectWithError()},l.rejectWithError=function(){var e=A0.unableToQuerySupportedDevices();return l.isHttpsOrLocalhost()||(e=A0.insecureContextCameraQueryError()),Promise.reject(e)},l.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},l.getCamerasFromMediaDevices=function(){return DT(this,void 0,void 0,function(){var e,t,a,u,x,p,E;return MT(this,function(w){switch(w.label){case 0:return e=function(y){for(var T=y.getVideoTracks(),N=0,D=T;N<D.length;N++){var L=D[N];L.enabled=!1,L.stop(),y.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=w.sent(),u=[],x=0,p=a;x<p.length;x++)E=p[x],E.kind==="videoinput"&&u.push({id:E.deviceId,label:E.label});return e(t),[2,u]}})})},l.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var a=function(x){for(var p=[],E=0,w=x;E<w.length;E++){var y=w[E];y.kind==="video"&&p.push({id:y.id,label:y.label})}e(p)},u=MediaStreamTrack;u.getSources(a)})},l}(),On;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.NOT_STARTED=1]="NOT_STARTED",l[l.SCANNING=2]="SCANNING",l[l.PAUSED=3]="PAUSED"})(On||(On={}));var LT=function(){function l(){this.state=On.NOT_STARTED,this.onGoingTransactionNewState=On.UNKNOWN}return l.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},l.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},l.prototype.execute=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=On.UNKNOWN,this.directTransition(e)},l.prototype.cancel=function(){if(this.onGoingTransactionNewState===On.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=On.UNKNOWN},l.prototype.getState=function(){return this.state},l.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==On.UNKNOWN)throw"Cannot transition to a new state, already under transition"},l.prototype.validateTransition=function(e){switch(this.state){case On.UNKNOWN:throw"Transition from unknown is not allowed";case On.NOT_STARTED:this.failIfNewStateIs(e,[On.PAUSED]);break;case On.SCANNING:break;case On.PAUSED:break}},l.prototype.failIfNewStateIs=function(e,t){for(var a=0,u=t;a<u.length;a++){var x=u[a];if(e===x)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},l}(),UT=function(){function l(e){this.stateManager=e}return l.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},l.prototype.directTransition=function(e){this.stateManager.directTransition(e)},l.prototype.getState=function(){return this.stateManager.getState()},l.prototype.canScanFile=function(){return this.stateManager.getState()===On.NOT_STARTED},l.prototype.isScanning=function(){return this.stateManager.getState()!==On.NOT_STARTED},l.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===On.SCANNING},l.prototype.isPaused=function(){return this.stateManager.getState()===On.PAUSED},l}(),kT=function(){function l(){}return l.create=function(){return new UT(new LT)},l}(),PT=function(){var l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&(a[x]=u[x])},l(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),pi=function(l){PT(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(gT),FT=function(){function l(e,t){this.logger=t,this.fps=pi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=pi.DEFAULT_DISABLE_FLIP}return l.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?P6.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},l.prototype.isShadedBoxEnabled=function(){return!Ea(this.qrbox)},l.create=function(e,t){return new l(e,t)},l}(),HT=function(){function l(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var a;typeof t=="boolean"?this.verbose=t===!0:t&&(a=t,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new pT(this.verbose),this.qrcode=new ST(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=kT.create()}return l.prototype.start=function(e,t,a,u){var x=this;if(!e)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var E=FT.create(t,this.logger);this.clearElement();var w=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=w,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:pi.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var N=this,D=this.stateManagerProxy.startTransition(On.SCANNING);return new Promise(function(L,P){var k=y?E.videoConstraints:N.createVideoConstraints(e);if(!k){D.cancel(),P("videoConstraints should be defined");return}var j={};(!y||E.aspectRatio)&&(j.aspectRatio=E.aspectRatio);var ee={onRenderSurfaceReady:function(re,Z){N.setupUi(re,Z,E),N.isScanning=!0,N.foreverScan(E,a,p)}};BT.failIfNotSupported().then(function(re){re.create(k).then(function(Z){return Z.render(x.element,j,ee).then(function(ie){N.renderedCamera=ie,D.execute(),L(null)}).catch(function(ie){D.cancel(),P(ie)})}).catch(function(Z){D.cancel(),P(A0.errorGettingUserMedia(Z))})}).catch(function(re){D.cancel(),P(A0.cameraStreamingNotSupported())})})},l.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(On.PAUSED),this.showPausedState(),(Ea(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},l.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(On.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},l.prototype.getState=function(){return this.stateManagerProxy.getState()},l.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(On.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(e.element){var x=document.getElementById(pi.SHADED_REGION_ELEMENT_ID);x&&e.element.removeChild(x)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),t.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},l.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(a){return a.decodedText})},l.prototype.scanFileV2=function(e,t){var a=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ea(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,x){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(e);var p=new Image;p.onload=function(){var E=p.width,w=p.height,y=document.getElementById(a.elementId),T=y.clientWidth?y.clientWidth:pi.DEFAULT_WIDTH,N=Math.max(y.clientHeight?y.clientHeight:w,pi.FILE_SCAN_MIN_HEIGHT),D=a.computeCanvasDrawConfig(E,w,T,N);if(t){var L=a.createCanvasElement(T,N,"qr-canvas-visible");L.style.display="inline-block",y.appendChild(L);var P=L.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=T,P.canvas.height=N,P.drawImage(p,0,0,E,w,D.x,D.y,D.width,D.height)}var k=pi.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(p.width,D.width),ee=Math.max(p.height,D.height),re=j+2*k,Z=ee+2*k,ie=a.createCanvasElement(re,Z);y.appendChild(ie);var fe=ie.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=re,fe.canvas.height=Z,fe.drawImage(p,0,0,E,w,k,k,j,ee);try{a.qrcode.decodeRobustlyAsync(ie).then(function(ae){u(F8.createFromQrcodeResult(ae))}).catch(x)}catch(ae){x("QR code parse error, error = ".concat(ae))}},p.onerror=x,p.onabort=x,p.onstalled=x,p.onsuspend=x,p.src=URL.createObjectURL(e)})},l.prototype.clear=function(){this.clearElement()},l.getCameras=function(){return _T.retrieve()},l.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},l.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},l.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},l.prototype.applyVideoConstraints=function(e){if(e){if(!P6.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},l.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},l.prototype.getSupportedFormats=function(e){var t=[Xe.QR_CODE,Xe.AZTEC,Xe.CODABAR,Xe.CODE_39,Xe.CODE_93,Xe.CODE_128,Xe.DATA_MATRIX,Xe.MAXICODE,Xe.ITF,Xe.EAN_13,Xe.EAN_8,Xe.PDF_417,Xe.RSS_14,Xe.RSS_EXPANDED,Xe.UPC_A,Xe.UPC_E,Xe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,x=e.formatsToSupport;u<x.length;u++){var p=x[u];xT(p)?a.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},l.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ea(e))return!0;if(!Ea(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ea(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Ea(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},l.prototype.validateQrboxSize=function(e,t,a){var u=this,x=a.qrbox;this.validateQrboxConfig(x);var p=this.toQrdimensions(e,t,x),E=function(y){if(y<pi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pi.MIN_QR_BOX_SIZE,"px.")},w=function(y){return y>e&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};E(p.width),E(p.height),p.width=w(p.width)},l.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},l.prototype.toQrdimensions=function(e,t,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(e,t)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},l.prototype.setupUi=function(e,t,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,a);var u=Ea(a.qrbox)?{width:e,height:t}:a.qrbox;this.validateQrboxConfig(u);var x=this.toQrdimensions(e,t,u);x.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=a.isShadedBoxEnabled()&&x.height<=t,E={x:0,y:0,width:e,height:t},w=p?this.getShadedRegionBounds(e,t,x):E,y=this.createCanvasElement(w.width,w.height),T={willReadFrequently:!0},N=y.getContext("2d",T);N.canvas.width=w.width,N.canvas.height=w.height,this.element.append(y),p&&this.possiblyInsertShadingElement(this.element,e,t,x),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=N,this.canvasElement=y},l.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=A0.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},l.prototype.scanContext=function(e,t){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return e(u.text,F8.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var x=A0.codeParseError(u);return t(x,mT.createFrom(x)),!1})},l.prototype.foreverScan=function(e,t,a){var u=this;if(this.shouldScan&&this.renderedCamera){var x=this.renderedCamera.getSurface(),p=x.videoWidth/x.clientWidth,E=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,y=this.qrRegion.height*E,T=this.qrRegion.x*p,N=this.qrRegion.y*E;this.context.drawImage(x,T,N,w,y,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(e,t,a)},u.getTimeoutFps(e.fps))};this.scanContext(t,a).then(function(L){!L&&e.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(t,a).finally(function(){D()})):D()}).catch(function(L){u.logger.logError("Error happend while scanning context",L),D()})}},l.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",a="deviceId",u={user:!0,environment:!0},x="exact",p=function(P){if(P in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},E=Object.keys(e);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var w=Object.keys(e)[0];if(w!==t&&w!==a)throw"Only '".concat(t,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(w===t){var y=e.facingMode;if(typeof y=="string"){if(p(y))return{facingMode:y}}else if(typeof y=="object")if(x in y){if(p(y["".concat(x)]))return{facingMode:{exact:y["".concat(x)]}}}else throw"'facingMode' should be string or object with"+" ".concat(x," as key.");else{var T=typeof y;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var N=e.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(x in N)return{deviceId:{exact:N["".concat(x)]}};throw"'deviceId' should be string or object with"+" ".concat(x," as key.")}else{var D=typeof N;throw"Invalid type of 'deviceId' = ".concat(D)}}}var L=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},l.prototype.computeCanvasDrawConfig=function(e,t,a,u){if(e<=a&&t<=u){var x=(a-e)/2,p=(u-t)/2;return{x,y:p,width:e,height:t}}else{var E=e,w=t;return e>a&&(t=a/e*t,e=a),t>u&&(e=u/t*e,t=u),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(w)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,a,u)}},l.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},l.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?pi.BORDER_SHADER_MATCH_COLOR:pi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},l.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},l.prototype.createCanvasElement=function(e,t,a){var u=e,x=t,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(x,"px"),p.style.display="none",p.id=Ea(a)?"qr-canvas":a,p},l.prototype.getShadedRegionBounds=function(e,t,a){if(a.width>e||a.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-a.width)/2,y:(t-a.height)/2,width:a.width,height:a.height}},l.prototype.possiblyInsertShadingElement=function(e,t,a,u){if(!(t-u.width<1||a-u.height<1)){var x=document.createElement("div");x.style.position="absolute";var p=(t-u.width)/2,E=(a-u.height)/2;if(x.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id="".concat(pi.SHADED_REGION_ELEMENT_ID),t-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var w=5,y=40;this.insertShaderBorders(x,y,w,-w,null,0,!0),this.insertShaderBorders(x,y,w,-w,null,0,!1),this.insertShaderBorders(x,y,w,null,-w,0,!0),this.insertShaderBorders(x,y,w,null,-w,0,!1),this.insertShaderBorders(x,w,y+w,-w,null,-w,!0),this.insertShaderBorders(x,w,y+w,null,-w,-w,!0),this.insertShaderBorders(x,w,y+w,-w,null,-w,!1),this.insertShaderBorders(x,w,y+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(x)}},l.prototype.insertShaderBorders=function(e,t,a,u,x,p,E){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=pi.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(t,"px"),w.style.height="".concat(a,"px"),u!==null&&(w.style.top="".concat(u,"px")),x!==null&&(w.style.bottom="".concat(x,"px")),E?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},l.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},l.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},l.prototype.getTimeoutFps=function(e){return 1e3/e},l}(),Q8;(function(l){l[l.STATUS_DEFAULT=0]="STATUS_DEFAULT",l[l.STATUS_SUCCESS=1]="STATUS_SUCCESS",l[l.STATUS_WARNING=2]="STATUS_WARNING",l[l.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Q8||(Q8={}));const GT=()=>{const{wallet:l,isRegistered:e,isTrusted:t,sendXDai:a}=Yi(),[u,x]=Pe.useState(!1),[p,E]=Pe.useState(null),[w,y]=Pe.useState(""),[T,N]=Pe.useState(""),[D,L]=Pe.useState(!1),[P,k]=Pe.useState(""),[j,ee]=Pe.useState(""),[re,Z]=Pe.useState(!1),ie=Pe.useRef(null),fe=Pe.useRef(null);Pe.useEffect(()=>()=>{ie.current&&ie.current.isScanning&&ie.current.stop()},[]);const ae=async()=>{try{if(x(!0),y(""),E(null),!fe.current)return;const De="beer-qr-scanner";if(!document.getElementById(De)){const V=document.createElement("div");V.id=De,fe.current.appendChild(V)}ie.current=new HT(De);const H={fps:10,qrbox:{width:250,height:250}};await ie.current.start({facingMode:"environment"},H,ue,ce)}catch(De){console.error("Error starting scanner:",De),y("Failed to start camera. Please check permissions."),x(!1)}},$=async()=>{if(ie.current&&ie.current.isScanning)try{await ie.current.stop(),ie.current=null}catch(De){console.error("Error stopping scanner:",De)}x(!1)},ue=De=>{try{$();let H;try{H=JSON.parse(De)}catch{if(/^0x[a-fA-F0-9]{40}$/.test(De))H={address:De};else throw new Error("Invalid QR code format")}if(!H.address||!/^0x[a-fA-F0-9]{40}$/.test(H.address))throw new Error("Invalid address in QR code");E(H)}catch(H){console.error("Error processing QR code:",H),y(H.message||"Failed to process QR code")}},ce=De=>{console.warn("QR scan error:",De)},Fe=De=>{De.preventDefault();try{if(!P.trim()){y("Please enter an address");return}if(!/^0x[a-fA-F0-9]{40}$/.test(P)){y("Invalid Ethereum address");return}re&&j.trim()?E({type:"registration",address:P,username:j}):E({address:P}),k(""),ee(""),Z(!1)}catch(H){console.error("Error processing manual address:",H),y(H.message||"Failed to process address")}},Le=async()=>{if(!p||!p.address){y("No valid address found");return}try{L(!0),y(""),await a(p.address,Zf.gasAmount),N(`Successfully sent ${Zf.gasAmount} xDAI to ${Ge(p.address)}`),setTimeout(()=>{N(""),E(null)},3e3)}catch(De){console.error("Error sending xDAI:",De),y(De.message||"Failed to send xDAI")}finally{L(!1)}},Oe=async()=>{if(!p||!p.address||!p.username){y("Invalid registration data");return}if(!t){y("Only trusted users can approve registrations");return}try{L(!0),y(""),await a(p.address,Zf.gasAmount);const De=await rn.registerUserByTrusted(p.address,p.username);if(!De.success)throw new Error(De.error);N(`Successfully approved ${p.username}'s registration!`),setTimeout(()=>{N(""),E(null)},3e3)}catch(De){console.error("Error approving registration:",De),y(De.message||"Failed to approve registration")}finally{L(!1)}},Ge=De=>De?`${De.substring(0,6)}...${De.substring(De.length-4)}`:"";return U.jsxs("div",{className:"beer-container",children:[U.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Scan QR Code"}),U.jsx("p",{className:"text-center text-muted-foreground mb-6",children:t?"Scan a QR code to approve new users or send BEER tokens":"Scan a QR code to send BEER tokens"}),!u&&!p&&U.jsxs("div",{children:[U.jsx("button",{className:"beer-button w-full mb-4",onClick:ae,children:"Start Camera"}),U.jsxs("div",{className:"flex items-center justify-center my-4",children:[U.jsx("div",{className:"flex-1 h-px bg-border"}),U.jsx("span",{className:"px-4 text-muted-foreground text-sm",children:"OR"}),U.jsx("div",{className:"flex-1 h-px bg-border"})]}),U.jsx("button",{className:"beer-button-secondary w-full",onClick:()=>Z(!re),children:re?"Hide Manual Entry":"Enter Address Manually"}),re&&U.jsxs("form",{onSubmit:Fe,className:"mt-4",children:[U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ethereum Address"}),U.jsx("input",{type:"text",className:"beer-input w-full",placeholder:"0x...",value:P,onChange:De=>k(De.target.value),required:!0})]}),t&&U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username (for registration approval)"}),U.jsx("input",{type:"text",className:"beer-input w-full",placeholder:"Enter username",value:j,onChange:De=>ee(De.target.value)}),U.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Only needed if approving a new user registration"})]}),U.jsx("button",{type:"submit",className:"beer-button w-full",children:"Submit"})]})]}),u&&U.jsxs("div",{children:[U.jsx("div",{className:"beer-scanner-container",ref:fe}),U.jsx("button",{className:"beer-button-secondary w-full mt-4",onClick:$,children:"Cancel"})]}),p&&U.jsx("div",{className:"beer-card",children:p.type==="registration"?U.jsxs(U.Fragment,{children:[U.jsx("h3",{className:"text-lg font-medium mb-4",children:"Registration Approval"}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Username:"}),U.jsx("span",{className:"font-medium",children:p.username})]})}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Address:"}),U.jsx("span",{className:"font-mono",children:Ge(p.address)})]})}),U.jsxs("div",{className:"mt-6 space-y-4",children:[t?U.jsx("button",{className:"beer-button w-full",onClick:Oe,disabled:D,children:D?"Approving...":"Approve Registration"}):U.jsx("div",{className:"p-3 bg-destructive/10 text-destructive rounded-lg",children:U.jsx("p",{className:"font-medium",children:"Only trusted users can approve registrations"})}),U.jsx("button",{className:"beer-button-secondary w-full",onClick:()=>E(null),children:"Cancel"})]})]}):U.jsxs(U.Fragment,{children:[U.jsx("h3",{className:"text-lg font-medium mb-4",children:"Scanned Address"}),U.jsx("div",{className:"mb-3",children:U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("span",{className:"text-muted-foreground",children:"Address:"}),U.jsx("span",{className:"font-mono",children:Ge(p.address)})]})}),U.jsxs("div",{className:"mt-6 space-y-4",children:[t&&U.jsx("button",{className:"beer-button w-full",onClick:Le,disabled:D,children:D?"Sending...":`Send ${Zf.gasAmount} xDAI for Gas`}),U.jsx("button",{className:"beer-button-secondary w-full",onClick:()=>E(null),children:"Scan Another"})]})]})}),w&&U.jsx("div",{className:"mt-4 p-3 bg-destructive/10 text-destructive rounded-lg text-center",children:w}),T&&U.jsx("div",{className:"mt-4 p-3 bg-primary/10 text-primary rounded-lg text-center",children:T})]})},zT={admin:{address:"0xD63caa57701e7F4b4C54Bf29558c409c17Ed7434",privateKey:"0x2eaec2ca13050a04f3522794ef285147a378326ade3ea23ca25b31cd1b382c29"}},VT=()=>{const{wallet:l,refreshWallet:e}=Yi(),[t,a]=Pe.useState(!1),[u,x]=Pe.useState(!1),[p,E]=Pe.useState(""),[w,y]=Pe.useState(""),[T,N]=Pe.useState([]),[D,L]=Pe.useState([]),[P,k]=Pe.useState("");Pe.useEffect(()=>{const ae=localStorage.getItem("testWallets");if(ae)try{L(JSON.parse(ae))}catch($){console.error("Error loading test wallets:",$)}},[]);const j=ae=>{N($=>[...$,`[${new Date().toLocaleTimeString()}] ${ae}`])},ee=ae=>{localStorage.setItem("testWallets",JSON.stringify(ae)),L(ae)},re=async()=>{try{x(!0),E(""),y("");const ae=hs.createRandom();j(`Created new wallet: ${ae.address}`);const $=[...D,{name:`Wallet ${D.length+1}`,address:ae.address,privateKey:ae.privateKey,isTrusted:!1,isRegistered:!1}];ee($),y(`Created new wallet: ${ae.address}`)}catch(ae){console.error("Error creating wallet:",ae),E(ae.message||"Failed to create wallet")}finally{x(!1)}},Z=async ae=>{try{x(!0),E(""),y(""),localStorage.setItem("privateKey",ae.privateKey),j(`Switched to wallet: ${ae.address}`),y(`Switched to wallet: ${ae.address}`),await e()}catch($){console.error("Error switching wallet:",$),E($.message||"Failed to switch wallet")}finally{x(!1)}},ie=async ae=>{try{if(x(!0),E(""),y(""),!P){E("Please enter a username"),x(!1);return}const $=D[ae],ue=new Lh("https://rpc.gnosischain.com"),ce=new hs(zT.admin.privateKey,ue);j(`Using admin wallet: ${ce.address}`);const Fe=await ce.sendTransaction({to:$.address,value:ed("0.01")});await Fe.wait(),j(`Sent 0.01 xDAI to ${$.address}: ${Fe.hash}`);const Le=rn.distributorAddress,Oe=["function addTrustedUser(address user, string memory username) external"],De=await new Ga(Le,Oe,ce).addTrustedUser($.address,P);await De.wait(),j(`Added ${$.address} as trusted user: ${De.hash}`);const H=[...D];H[ae]={...$,isTrusted:!0,username:P,isRegistered:!0},ee(H),y(`Added ${$.address} as trusted user`),k("")}catch($){console.error("Error making wallet trusted:",$),E($.message||"Failed to make wallet trusted")}finally{x(!1)}},fe=async(ae,$)=>{try{if(x(!0),E(""),y(""),!P){E("Please enter a username"),x(!1);return}const ue=D[ae],ce=D[$];if(!ce.isTrusted){E("Selected referrer is not a trusted user"),x(!1);return}const Fe=new Lh("https://rpc.gnosischain.com"),Le=new hs(ce.privateKey,Fe);j(`Using trusted wallet: ${Le.address}`);const Oe=await Le.sendTransaction({to:ue.address,value:ed("0.005")});await Oe.wait(),j(`Sent 0.005 xDAI to ${ue.address}: ${Oe.hash}`);const Ge=new hs(ue.privateKey,Fe),De=rn.distributorAddress,H=["function registerUser(string memory username, address referrer) external"],J=await new Ga(De,H,Ge).registerUser(P,ce.address);await J.wait(),j(`Registered ${ue.address} with username ${P}: ${J.hash}`);const Ae=[...D];Ae[ae]={...ue,isRegistered:!0,username:P,referrer:ce.address},ee(Ae),y(`Registered ${ue.address} as ${P}`),k("")}catch(ue){console.error("Error registering wallet:",ue),E(ue.message||"Failed to register wallet")}finally{x(!1)}};return U.jsxs("div",{className:"fixed bottom-0 right-0 p-2 z-50",children:[U.jsx("button",{className:"beer-button-secondary",onClick:()=>a(!t),children:t?"Hide Test Mode":"Test Mode"}),t&&U.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:U.jsxs("div",{className:"bg-background p-4 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[U.jsxs("div",{className:"flex justify-between items-center mb-4",children:[U.jsx("h2",{className:"text-xl font-bold",children:"Test Mode"}),U.jsx("button",{className:"beer-button-secondary",onClick:()=>a(!1),children:"Close"})]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("h3",{className:"text-lg font-medium mb-2",children:"Test Wallets"}),U.jsx("button",{className:"beer-button w-full mb-2",onClick:re,disabled:u,children:"Create New Test Wallet"}),D.length===0?U.jsx("p",{className:"text-muted-foreground",children:"No test wallets created yet"}):U.jsx("div",{className:"space-y-2",children:D.map((ae,$)=>U.jsxs("div",{className:"border border-border p-2 rounded-lg",children:[U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsxs("div",{children:[U.jsx("p",{className:"font-medium",children:ae.name||`Wallet ${$+1}`}),U.jsx("p",{className:"text-xs text-muted-foreground",children:ae.address}),ae.username&&U.jsxs("p",{className:"text-xs",children:["Username: ",ae.username]}),U.jsxs("div",{className:"flex gap-2 mt-1",children:[ae.isTrusted&&U.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:"Trusted"}),ae.isRegistered&&U.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:"Registered"})]})]}),U.jsx("button",{className:"beer-button-secondary",onClick:()=>Z(ae),disabled:u,children:"Use"})]}),!ae.isTrusted&&U.jsxs("div",{className:"mt-2 flex gap-2",children:[U.jsx("input",{type:"text",className:"beer-input flex-1",placeholder:"Username",disabled:u,onChange:ue=>k(ue.target.value)}),U.jsx("button",{className:"beer-button-secondary",onClick:()=>ie($),disabled:u,children:"Make Trusted"})]}),!ae.isRegistered&&D.some(ue=>ue.isTrusted)&&U.jsx("div",{className:"mt-2",children:U.jsxs("div",{className:"flex gap-2",children:[U.jsx("input",{type:"text",className:"beer-input flex-1",placeholder:"Username",disabled:u,onChange:ue=>k(ue.target.value)}),U.jsx("select",{className:"beer-input",children:D.filter(ue=>ue.isTrusted).map((ue,ce)=>U.jsx("option",{value:D.indexOf(ue),children:ue.username||`Wallet ${D.indexOf(ue)+1}`},ce))}),U.jsx("button",{className:"beer-button-secondary",onClick:()=>fe($,D.findIndex(ue=>ue.isTrusted)),disabled:u,children:"Register"})]})})]},$))})]}),(p||w)&&U.jsx("div",{className:`p-3 rounded-lg mb-4 ${p?"bg-destructive/10 text-destructive":"bg-primary/10 text-primary"}`,children:p||w}),U.jsxs("div",{className:"mt-4",children:[U.jsx("h3",{className:"text-lg font-medium mb-2",children:"Logs"}),U.jsx("div",{className:"bg-muted p-3 rounded-lg h-40 overflow-y-auto text-sm font-mono",children:T.length===0?U.jsx("p",{className:"text-muted-foreground",children:"No logs yet"}):T.map((ae,$)=>U.jsx("div",{className:"mb-1",children:ae},$))})]})]})})]})},jT=()=>{const{wallet:l,isRegistered:e}=Yi(),[t,a]=Pe.useState("dashboard");Pe.useEffect(()=>{if(!l)return;if(window.location.pathname==="/register"){a("register");return}a(e?"dashboard":"register")},[l,e]);const u=()=>{if(!l)return U.jsx(eT,{});if(!e&&t!=="wallet")return U.jsx(U8,{});switch(t){case"dashboard":return U.jsx(Fg,{});case"qr":return U.jsx(hT,{});case"scan":return U.jsx(GT,{});case"send":return U.jsx(dT,{});case"wallet":return U.jsx(Fg,{});case"register":return U.jsx(U8,{});default:return U.jsx(Fg,{})}};return U.jsxs($S,{children:[u(),l&&U.jsx(fT,{activePage:t,setActivePage:a}),U.jsx(VT,{})]})};function XT(){return U.jsx(JS,{children:U.jsx(jT,{})})}hE.createRoot(document.getElementById("root")).render(U.jsx(Pe.StrictMode,{children:U.jsx(XT,{})}));
